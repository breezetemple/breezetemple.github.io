<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="toc{:toc}  CppcheckCppcheck is a static analysis tool for C&#x2F;C++ code.Unlike C&#x2F;C++ compilers and many other analysis tools it does not detect syntax errors in the code.Cppcheck primarily detects the t">
<meta property="og:type" content="article">
<meta property="og:title" content="代码分析工具">
<meta property="og:url" content="http://yoursite.com/2015/08/19/analysis-tools/index.html">
<meta property="og:site_name" content="IT日记">
<meta property="og:description" content="toc{:toc}  CppcheckCppcheck is a static analysis tool for C&#x2F;C++ code.Unlike C&#x2F;C++ compilers and many other analysis tools it does not detect syntax errors in the code.Cppcheck primarily detects the t">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kcachegrind.github.io/images/KcgShot3Large.gif">
<meta property="og:image" content="http://kprof.sourceforge.net/kprof_flat.png">
<meta property="og:image" content="http://kprof.sourceforge.net/kprof_object.png">
<meta property="og:image" content="http://img.blog.csdn.net/20160412124253219?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center">
<meta property="og:image" content="http://img.blog.csdn.net/20160424203320165?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center">
<meta property="article:published_time" content="2015-08-19T16:00:00.000Z">
<meta property="article:modified_time" content="2020-04-11T07:10:39.906Z">
<meta property="article:author" content="Breeze.Temple">
<meta property="article:tag" content="debug">
<meta property="article:tag" content="tools">
<meta property="article:tag" content="static analysis tools">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kcachegrind.github.io/images/KcgShot3Large.gif">

<link rel="canonical" href="http://yoursite.com/2015/08/19/analysis-tools/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>代码分析工具 | IT日记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IT日记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Life is Now.</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/08/19/analysis-tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          代码分析工具
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-08-20 00:00:00" itemprop="dateCreated datePublished" datetime="2015-08-20T00:00:00+08:00">2015-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-11 15:10:39" itemprop="dateModified" datetime="2020-04-11T15:10:39+08:00">2020-04-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>13 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li>toc<br>{:toc}</li>
</ul>
<h2 id="Cppcheck"><a href="#Cppcheck" class="headerlink" title="Cppcheck"></a>Cppcheck</h2><p><strong>Cppcheck</strong> is a static analysis tool for C/C++ code.<br>Unlike C/C++ compilers and many other analysis tools it does not detect syntax errors in the code.<br>Cppcheck primarily detects the types of bugs that the compilers normally do not detect.<br>The goal is to detect only real errors in the code (i.e. have zero false positives).</p>
<ol>
<li><a href="http://cppcheck.sourceforge.net/" target="_blank" rel="noopener">官网</a></li>
<li><a href="http://cppcheck.sourceforge.net/#documentation" target="_blank" rel="noopener">documentation</a></li>
</ol>
<p>安装：</p>
<pre><code class="bash">sudo apt-get install cppcheck cppcheck-gui</code></pre>
<p>用法：</p>
<pre><code class="bash">cppcheck-gui

cppcheck -h

# Recursively check the current folder. Print the progress on the screen and
# write errors to a file:
cppcheck . 2&gt; err.txt

# Recursively check ../myproject/ and don&#39;t print progress:
cppcheck --quiet ../myproject/

# Check test.cpp, enable all checks:
cppcheck --enable=all --inconclusive --std=posix test.cpp

# Check f.cpp and search include files from inc1/ and inc2/:
cppcheck -I inc1/ -I inc2/ f.cpp</code></pre>
<h2 id="Understand"><a href="#Understand" class="headerlink" title="Understand"></a>Understand</h2><p>Understand® is an IDE built from the ground up to help you fully comprehend your source code. Analyze it, measure it, visualize it, maintain it - Understand it.</p>
<ol>
<li><a href="https://scitools.com/" target="_blank" rel="noopener">官网</a></li>
<li><a href="https://scitools.com/support/" target="_blank" rel="noopener">support</a> </li>
<li><a href="https://scitools.com/support/running-understand-headless-linux-server/" target="_blank" rel="noopener">Running Understand on a headless linux server</a></li>
</ol>
<p>Understand软件的功能主要<strong>定位于代码的阅读理解</strong>。</p>
<p>具备如下特性：</p>
<ol>
<li>支持多语言：Ada, C, C++, C#, Java, FORTRAN, Delphi, Jovial, and PL/M ，混合语言的project也支持</li>
<li>多平台： Windows/Linux/Solaris/HP-UX/IRIX/MAC OS X</li>
<li>代码语法高亮、代码折叠、交叉跳转、书签等基本阅读功能。</li>
<li>可以对整个project的architecture、metrics进行分析并输出报表。</li>
<li>可以对代码生成多种图（butterfly graph、call graph、called by graph、control flow graph、UML class graph等），<br>在图上点击节点可以跳转到对应的源代码位置。</li>
<li>提供Perl API便于扩展。作图全部是用Perl插件实现的，直接读取分析好的数据库作图。</li>
<li>内置的目录和文件比较器。</li>
<li>支持project的snapshot，并能和自家的TrackBack集成便于监视project的变化。</li>
</ol>
<h2 id="valgrind"><a href="#valgrind" class="headerlink" title="valgrind"></a>valgrind</h2><ol>
<li><a href="http://valgrind.org/" target="_blank" rel="noopener">valgrind</a></li>
<li><a href="http://alleyoop.sourceforge.net/" target="_blank" rel="noopener">Alleyoop</a></li>
<li><a href="http://valgrind.org/downloads/guis.html" target="_blank" rel="noopener">Valkyrie</a></li>
<li><a href="http://valgrind.org/docs/manual/manual.html" target="_blank" rel="noopener">Valgrind User Manual</a></li>
<li><a href="http://valgrind.org/info/tools.html" target="_blank" rel="noopener">Valgrind’s Tool Suite</a></li>
<li><a href="http://cstriker1407.info/blog/c-language-code-detection-use-valgrind/" target="_blank" rel="noopener">C语言代码检测：valgrind的使用</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-valgrind/" target="_blank" rel="noopener">应用 Valgrind 发现 Linux 程序的内存问题</a></li>
<li><a href="http://www.oschina.net/translate/valgrind-memcheck" target="_blank" rel="noopener">如何使用Valgrind memcheck工具进行C/C++的内存泄漏检测</a></li>
</ol>
<p>Valgrind是一套Linux下，开放源代码（GPL V2）的仿真调试工具的集合。<br>Valgrind由内核（core）以及基于内核的其他调试工具组成。<br>内核类似于一个框架（framework），它模拟了一个CPU环境，并提供服务给其他工具；<br>而其他工具则类似于插件 (plug-in)，利用内核提供的服务完成各种特定的内存调试任务。</p>
<p>它支持 C/C++，支持各类 Unix 系统。 </p>
<p>安装：</p>
<pre><code class="bash">sudo apt-get install valgrind</code></pre>
<p>工具集：</p>
<ul>
<li>Memcheck。这是valgrind应用最广泛的工具，一个重量级的内存检查器，<br>能够发现开发中绝大多数内存错误使用情况，<br>比如：使用未初始化的内存，使用已经释放了的内存，内存访问越界等。</li>
<li>Callgrind。它主要用来检查程序中函数调用过程中出现的问题。</li>
<li>Cachegrind。它主要用来检查程序中缓存使用出现的问题。它与Cachegrind的功能有重叠，但也收集Cachegrind不收集的一些信息。</li>
<li>Helgrind。它主要用来检查多线程程序中出现的竞争问题。</li>
<li>Massif。它主要用来检查程序中堆栈使用中出现的问题。它有助于使你的程序使用更少的内存。</li>
<li>DRD也是一个线程错误检测器。它和Helgrind相似，但使用不同的分析技术，所以可能找到不同的问题。</li>
</ul>
<p>编译选项使用<code>-g -O0</code>, <strong>交叉编译</strong>之后在目标机上执行内存检测：</p>
<pre><code class="bash">valgrind --tool=memcheck --leak-check=full ./a.out
==2888== Memcheck, a memory error detector
==2888== Copyright (C) 2002-2009, and GNU GPL&#39;d, by Julian Seward et al.
==2888== Using Valgrind-3.6.0.SVN-Debian and LibVEX; rerun with -h for copyright info
==2888== Command: ./val
==2888==

[a]
==2888==
==2888== HEAP SUMMARY:
==2888==     in use at exit: 1 bytes in 1 blocks
==2888==   total heap usage: 1 allocs, 0 frees, 1 bytes allocated
==2888==
==2888== 1 bytes in 1 blocks are definitely lost in loss record 1 of 1
==2888==    at 0x4C274A8: malloc (vg_replace_malloc.c:236)
==2888==    by 0x400575: main (valgrind.c:6)
==2888==
==2888== LEAK SUMMARY:
==2888==    definitely lost: 1 bytes in 1 blocks
==2888==    indirectly lost: 0 bytes in 0 blocks
==2888==      possibly lost: 0 bytes in 0 blocks
==2888==    still reachable: 0 bytes in 0 blocks
==2888==         suppressed: 0 bytes in 0 blocks
==2888==
==2888== For counts of detected and suppressed errors, rerun with: -v
==2888== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 4 from 4)</code></pre>
<p>memcheck可以检测下列与内存相关的问题 :</p>
<ul>
<li>未释放内存的使用</li>
<li>对释放后内存的读/写</li>
<li>对已分配内存块尾部的读/写</li>
<li>内存泄露</li>
<li>不匹配的使用malloc/new/new[] 和 free/delete/delete[]</li>
<li>重复释放内存</li>
</ul>
<h2 id="KCachegrind"><a href="#KCachegrind" class="headerlink" title="KCachegrind"></a><strong>KCachegrind</strong></h2><ol>
<li><a href="https://kcachegrind.github.io/html/Home.html" target="_blank" rel="noopener">Callgrind and KCachegrind</a></li>
<li><a href="https://kcachegrind.github.io/html/Screenshots.html" target="_blank" rel="noopener">Screenshots</a></li>
<li><a href="https://kcachegrind.github.io/html/Documentation.html" target="_blank" rel="noopener">Documentation</a></li>
</ol>
<p>安装：</p>
<pre><code class="bash">sudo apt-get install kcachegrind</code></pre>
<p><code>valgrind</code>安装之后有工具<code>callgrind</code>，使用此工具生成<code>性能日志</code>，使用<code>kcachegrind</code>进行分析：</p>
<pre><code class="bash">/data/test  &gt; gcc -g -O0 main.c -o perf
/data/test  &gt; valgrind --tool=callgrind ./perf 
==27075== Callgrind, a call-graph generating cache profiler
==27075== Copyright (C) 2002-2015, and GNU GPL&#39;d, by Josef Weidendorfer et al.
==27075== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==27075== Command: ./perf
==27075== 
==27075== For interactive control, run &#39;callgrind_control -h&#39;.
hello world!
hello world!
hello world!
test 
hello world!
test 
hello world!
test 
==27075== 
==27075== Events    : Ir
==27075== Collected : 155985
==27075== 
==27075== I   refs:      155,985
/data/test  &gt; ls
1  a.out  callgrind.out.27075  main.c  output  perf  photorec.ses  recup_dir.1  rgb  testdisk.log
/data/test  &gt; kcachegrind callgrind.out.27075 </code></pre>
<img src="https://kcachegrind.github.io/images/KcgShot3Large.gif" height="600" width="800" />

<p>在<code>Call Graph</code>中，你能看到每一个函数的开销百分比包括Inclusive,即涵带子函数的总开销和Self，函数自己的开销，<br>另外每一个函数的调用次数也列写在上面。<br>也可以分析出函数的调用关系和流程，这是一个非常好的辅助工具，帮助你快速理解系统的工作流Work Flow。</p>
<h2 id="gprof"><a href="#gprof" class="headerlink" title="gprof"></a>gprof</h2><ol>
<li><a href="https://sourceware.org/binutils/docs/gprof/" target="_blank" rel="noopener">gprof</a></li>
<li><a href="http://www.thegeekstuff.com/2012/08/gprof-tutorial/" target="_blank" rel="noopener">GPROF Tutorial – How to use Linux GNU GCC Profiling Tool</a></li>
<li><a href="https://sourceware.org/binutils/docs-2.17/gprof/index.html" target="_blank" rel="noopener">GNU gprof</a></li>
<li><a href="http://www.ibm.com/developerworks/cn/linux/l-gnuprof.html" target="_blank" rel="noopener">使用 GNU profiler 来提高代码运行速度</a></li>
<li><a href="http://www.cnblogs.com/onlyforcloud/p/4395917.html" target="_blank" rel="noopener">GNU–gprof使用总结</a></li>
</ol>
<p>Gprof 是GNU gnu binutils工具之一，默认情况下linux系统当中都带有这个工具：</p>
<ol>
<li>可以显示“flat profile”，包括每个函数的调用次数，每个函数消耗的处理器时间，</li>
<li>可以显示“Call graph”，包括函数的调用关系，每个函数调用花费了多少时间。</li>
<li>可以显示“注释的源代码”－－是程序源代码的一个复本，标记有程序中每行代码的执行次数。</li>
</ol>
<p>Gprof基本用法：</p>
<ol>
<li>使用 <code>-pg</code> 编译和链接你的应用程序。</li>
<li>执行你的应用程序使之生成供gprof 分析的数据。</li>
<li>使用gprof 程序分析你的应用程序生成的数据。</li>
</ol>
<pre><code class="bash">gcc gprof.c -pg -o example1 -O0 -g
./example1
✔ /data/test  &gt; ls gmon.out
gmon.out

# flat profile
gprof example1 gmon.out -p
Flat profile:

Each sample counts as 0.01 seconds.
%   cumulative   self              self     total           
time   seconds   seconds    calls  ms/call  ms/call  name    
50.43      0.01     0.01        3     3.36     3.36  count_sum
50.43      0.02     0.01        1    10.09    13.45  my_print2
0.00      0.02     0.00        2     0.00     3.36  my_print

# call graph
gprof example1 gmon.out -q

# gprof - display call graph profile data
man gprof</code></pre>
<p><strong>带注解的源代码</strong></p>
<p>如果希望获得一个 “带注解的源代码” 清单，它会将源代码输出到应用程序中，并加上每个函数被调用了多少次的注释。<br>要使用这种功能，请使用启用调试功能的标志来编译源代码，这样源代码就会被加入可执行程序中：</p>
<pre><code class="bash">gcc example1.c -g -pg -o example1 -O2 -lc</code></pre>
<p>像以前一样重新运行这个应用程序：</p>
<pre><code class="bash">./example1 50000</code></pre>
<p>gprof 命令现在应该是：</p>
<pre><code class="bash">gprof example1 gmon.out -A</code></pre>
<p><strong>常用参数</strong></p>
<ul>
<li>-b 不再输出统计图表中每个字段的详细描述。</li>
<li>-p 只输出函数的调用图（Call graph的那部分信息）。</li>
<li>-q 只输出函数的时间消耗列表。</li>
<li>-e Name 不再输出函数Name 及其子函数的调用图（除非它们有未被限制的其它父函数）。可以给定多个 -e 标志。一个 -e 标志只能指定一个函数。</li>
<li>-E Name 不再输出函数Name 及其子函数的调用图，此标志类似于 -e 标志，但它在总时间和百分比时间的计算中排除了由函数Name 及其子函数所用的时间。</li>
<li>-f Name 输出函数Name 及其子函数的调用图。可以指定多个 -f 标志。一个 -f 标志只能指定一个函数。</li>
<li>-F Name 输出函数Name 及其子函数的调用图，它类似于 -f 标志，但它在总时间和百分比时间计算中仅使用所打印的例程的时间。可以指定多个 -F 标志。一个 -F 标志只能指定一个函数。-F 标志覆盖 -E 标志。</li>
<li>-z 显示使用次数为零的例程（按照调用计数和累积时间计算）。</li>
</ul>
<p><strong>用户时间与内核时间</strong></p>
<p>gprof 的最大缺陷：它只能分析应用程序在运行过程中所消耗掉的用户时间，无法得到程序内核空间的运行时间。通常来说，应用程序在运行时既要花费一些时间来运行用户代码，也要花费一些时间来运行 “系统代码”，例如内核系统调用sleep()。</p>
<p>有一个方法可以查看应用程序的运行时间组成，在 time 命令下面执行程序。这个命令会显示一个应用程序的实际运行时间、用户空间运行时间、内核空间运行时间。</p>
<pre><code class="bash">✔ /data/test  &gt; time ./example1 
./example1  0.02s user 0.00s system 93% cpu 0.026 total</code></pre>
<p><strong>注意事项</strong></p>
<ol>
<li>g++在编译和链接两个过程，都要使用-pg选项。</li>
<li>只能使用静态连接libc库，否则在初始化<code>*.so</code>之前就调用profile代码会引起“segmentation fault”，<br>解决办法是编译时加上-static-libgcc或-static。</li>
<li>如果不用g++而使用ld直接链接程序，要加上链接文件/lib/gcrt0.o，如ld -o myprog /lib/gcrt0.o myprog.o utils.o -lc_p。<br>也可能是gcrt1.o</li>
<li>要监控到第三方库函数的执行时间，第三方库也必须是添加 –pg 选项编译的。</li>
<li>gprof只能分析应用程序所消耗掉的用户时间.</li>
<li>程序不能以demon方式运行。否则采集不到时间。（可采集到调用次数）</li>
<li>首先使用 time 来运行程序从而判断 gprof 是否能产生有用信息是个好方法。</li>
<li>如果 gprof 不适合您的剖析需要，那么还有其他一些工具可以克服 gprof 部分缺陷，包括 OProfile 和 Sysprof。</li>
<li>gprof对于代码大部分是用户空间的CPU密集型的程序用处明显。<br>对于大部分时间运行在内核空间或者由于外部因素（例如操作系统的 I/O 子系统过载）而运行得非常慢的程序难以进行优化。</li>
<li>gprof 不支持多线程应用，多线程下只能采集主线程性能数据。原因是gprof采用ITIMER_PROF信号，在多线程内只有主线程才能响应该信号。<br>但是有一个<a href="http://sam.zoy.org/writings/programming/gprof.html" target="_blank" rel="noopener">简单的方法</a>可以解决这一问题</li>
<li>gprof只能在程序正常结束退出之后才能生成报告（gmon.out）。<ul>
<li>gprof通过在atexit()里注册了一个函数来产生结果信息，任何非正常退出都不会执行atexit()的动作，所以不会产生gmon.out文件。</li>
<li>程序可从main函数中正常退出，或者通过系统调用exit()函数退出。</li>
</ul>
</li>
</ol>
<h2 id="KProf"><a href="#KProf" class="headerlink" title="KProf"></a>KProf</h2><blockquote>
<p>KProf - Profiling made easy</p>
</blockquote>
<ol>
<li><a href="http://kprof.sourceforge.net/" target="_blank" rel="noopener">KProf</a></li>
<li><a href="https://sourceforge.net/projects/kprof/files/" target="_blank" rel="noopener">download</a></li>
</ol>
<p>将gprof ， GUI化了，更加友好，它也利用graphviz绘制运行时流程图，但是对于大的程序，似乎效果不太好，流程图感觉完全乱掉了</p>
<img src="http://kprof.sourceforge.net/kprof_flat.png"/>

<img src="http://kprof.sourceforge.net/kprof_object.png"/>


<h2 id="gprof2dot"><a href="#gprof2dot" class="headerlink" title="gprof2dot"></a><strong>gprof2dot</strong></h2><ol>
<li><a href="https://github.com/jrfonseca/gprof2dot" target="_blank" rel="noopener">gprof2dot</a></li>
<li><a href="https://github.com/jrfonseca/xdot.py" target="_blank" rel="noopener">xdot.py</a></li>
</ol>
<pre><code class="bash">sudo apt-get install python graphviz
git clone https://github.com/jrfonseca/gprof2dot.git
python setup.py build
sudo python steup.py install</code></pre>
<p>用法：</p>
<pre><code class="bash">gcc -pg linpack.c -o linpack_gprof
gprof ./linpack_gprof | python2.7 gprof2dot.py -n0 -e0 |dot - Tpng -o output.png</code></pre>
<img src="http://img.blog.csdn.net/20160412124253219?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>

<p>还可通过以下命令得到函数调用图:</p>
<pre><code class="bash">gprof linpack_gprof &gt; prof.log  
./gprof2dot.py prof.log | dot -Tpng -o output.png  </code></pre>
<img src="http://img.blog.csdn.net/20160424203320165?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>

<p><strong>通过对比以上两种方法，可以发现第二种方法无法得到调用时间过短的函数调用关系</strong></p>
<p>gprof2dot默认是部分函数调用图，对性能影响不大的函数调用都不显示，例如上图中没有出现类的构造，析构函数，<br>如果想要显示全部的函数调用，可以 gprof2dot -n0 -e0 ，默认是n0.5即影响小于5%的函数就不显示了。<br>当然这样图片会很乱，因为显示内容很多，可以 gprof2dot -n0 -e0 -s #-s表示不显示诸如模板，函数入口参数等等，使得<br>函数名称显示更加精简。</p>
<p><code>dot</code>用于生成图片，使用<code>xdot.py</code>不需要生成图片，直接交互</p>
<pre><code class="bash">gprof ./linpack_gprof | python2.7 gprof2dot.py -n0 -e0 | ./xdot.py</code></pre>
<p><em>python环境变量设置有问题，xdot单独可以工作，使用管道不能正常工作</em></p>
<pre><code class="bash">function showCall()
{
    gprof $1 | python3 /data/Installer/gprof2dot/gprof2dot.py &gt; /tmp/__call_tmp
    xdot /tmp/__call_tmp
    rm /tmp/__call_tmp
}</code></pre>
<h2 id="gperftools"><a href="#gperftools" class="headerlink" title="gperftools"></a><strong>gperftools</strong></h2><ol>
<li><a href="https://github.com/gperftools/gperftools" target="_blank" rel="noopener">gperftools</a></li>
<li><a href="http://airekans.github.io/cpp/2014/07/04/gperftools-profile" target="_blank" rel="noopener">用gperftools对C/C++程序进行profile</a></li>
<li><a href="http://www.cnblogs.com/persistentsnail/p/3294843.html" target="_blank" rel="noopener">Google performance Tools (gperftools) 使用心得</a></li>
<li><a href="http://qiaoyong.lofter.com/post/2b36f_1140c82" target="_blank" rel="noopener">gperftools使用详解</a></li>
</ol>
<p>在Linux的C/C++编程的世界里，性能调优一直是个让人头疼的事。<br>最出名的<code>gprof</code>虽然大家都知道， 其用法比较单一(只支持程序从启动到结束的profile)，<br>而且对程序的运行时间会有比较大的影响， 所以其profile不一定准确。</p>
<p>而<code>valgrind</code>功能十分强大，但profile也一般针对整个程序的运行，很难只对程序运行中的某段时间进行profile。<br>而且也多少会影响程序的运行，且使用的难度也较大。</p>
<p><strong>如何profile</strong></p>
<p>在gperftools的文档中，就简单的说了下面的方式来进行profile：</p>
<pre><code class="bash">gcc [...] -o myprogram -lprofiler
CPUPROFILE=/tmp/profile ./myprogram</code></pre>
<p>是的，在编译和安装了gperftools之后，只需要上面的步骤就可以进行profile了，非常简单。<br>而profile的结果就保存在/tmp/profile。查看结果只需要用gperftools自带的一个pprof脚本来看就可以：</p>
<pre><code class="bash">$ pprof --text ./myprogram /tmp/profile
14   2.1%  17.2%       58   8.7% std::_Rb_tree::find</code></pre>
<p>pprof的输出也很直观，不过也还不够好，从这个输出中还不好看出调用关系，包括caller和callee。<br>而pprof也可以输出图示，还可以输出<code>callgrind</code>兼容的格式，这样就可以用<code>kcachegrind</code>来看profile结果了。</p>
<pre><code class="bash">$ pprof --callgrind ./myprogram /tmp/profile &gt; callgrind.res</code></pre>
<p>然后利用kcachegrind打开这个callgrind.res文件</p>
<p><strong>动态profile</strong></p>
<p>上面说到的方式是通过环境变量来触发profile，而跨度也是整个程序的生命周期。<br>那如果是想要在程序运行的某段时间进行profile呢？如果我想在程序不结束的情况下就拿到profile的结果呢？</p>
<p>这种情况下就需要用到动态profile的方式了。要实现这种方式，就需要改动程序的代码了，不过也比较简单：</p>
<pre><code class="bash">#include &lt;gperftools/profiler.h&gt;

int main()
{
    ProfilerStart(&quot;/tmp/profile&quot;);
    some_func_to_profile();
    ProfilerStop();

    return 0;
}</code></pre>
<p>没错，你只需要在你想要profile的函数的开头和结尾加上<code>ProfilerStart</code>和<code>ProfilerStop</code>调用就可以了。<br>在ProfilerStop结束之后，profile的结果就会保存在/tmp/profile里面了。<br>利用这种方式就可以在指定的时间点对程序进行profile了。</p>
<p>最后需要说的一点是，gperftools的profile过程采用的是采样的方式，而且对profile中的程序性能影响极小，<br>这对于在线或者离线profile都是一个极其重要的特点。</p>
<h2 id="include-what-you-use"><a href="#include-what-you-use" class="headerlink" title="include-what-you-use"></a>include-what-you-use</h2><ol>
<li><a href="https://github.com/include-what-you-use/include-what-you-use" target="_blank" rel="noopener">include-what-you-use</a></li>
<li><a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&action=printable&tid=4145378" target="_blank" rel="noopener">找出C文件中不必要的头文件</a></li>
<li><a href="http://xinsuiyuer.github.io/blog/2013/10/30/include-what-you-use/" target="_blank" rel="noopener">使用I.W.Y.U整理头文件引用</a></li>
</ol>
<p>首先安装CLang开发包，然后编译IWYU：</p>
<pre><code class="bash">sudo apt-get install llvm llvm-devel llvm-clang llvm-clang-devel
git clone https://github.com/include-what-you-use/include-what-you-use.git
mkdir build &amp;&amp; cd build
cmake -G &quot;Unix Makefiles&quot; -DIWYU_LLVM_ROOT_PATH=/usr/lib/llvm-3.8 ../../include-what-you-use
make</code></pre>
<p>使用：</p>
<pre><code class="shell">make -k CC=/data/OpenSourceCode/include-what-you-use/build/include-what-you-use -I/usr/lib/llvm-3.8/lib/clang/3.8.0/include

-e compiling [/data/OpenSourceCode/include-what-you-use/build/include-what-you-use]: ./ca/thinew/app_tnt_baseinfo.c
In file included from ca/thinew/app_tnt_baseinfo.c:19:
In file included from ./include/app_module.h:22:
In file included from ./include/module/app_play_control.h:22:
In file included from /home/workspace/Solution-for-debug/dishcas/solution/../library/goxceed/csky-ecos/include/gxcore.h:4:
In file included from /home/workspace/Solution-for-debug/dishcas/solution/../library/goxceed/csky-ecos/include/common/gxcore_common.h:4:
In file included from /home/workspace/Solution-for-debug/dishcas/solution/../library/goxceed/csky-ecos/include/stdlib.h:70:
/home/workspace/Solution-for-debug/dishcas/solution/../library/goxceed/csky-ecos/include/stddef.h:63:15: fatal error: 
    &#39;stddef.h&#39; file not found
#include_next &lt;stddef.h&gt;
^

ca/thinew/app_tnt_baseinfo.c should add these lines:

ca/thinew/app_tnt_baseinfo.c should remove these lines:
- #include &quot;app_module.h&quot;  // lines 19-19

The full include-list for ca/thinew/app_tnt_baseinfo.c:
#include &quot;app_config.h&quot;  // for TNTCAS_SUPPORT
---
deps:17: recipe for target &#39;/home/workspace/Solution-for-debug/dishcas/solution/output/objects/app_tnt_baseinfo.o&#39; failed
make[1]: *** [/home/workspace/Solution-for-debug/dishcas/solution/output/objects/app_tnt_baseinfo.o] Error 3</code></pre>
<blockquote>
<p><strong>fatal error: ‘stddef.h’ file not found</strong>待排除，可能与CLang环境设置有关，或与<code>include_next</code>有关<br><a href="https://github.com/include-what-you-use/include-what-you-use" target="_blank" rel="noopener">How to Install</a></p>
</blockquote>
<p>可以将 IWYU 保存到文件中，之后使用其附带的 fix_includes.py 自动对代码进行修复。 <strong>但应该慎重….</strong></p>
<pre><code class="bash">$ make -B -k CXX=include-what-you-use &gt; iwyu.out
$ fix_includes.py &lt; iwyu.out</code></pre>
<h2 id="OCLint"><a href="#OCLint" class="headerlink" title="OCLint"></a>OCLint</h2><ol>
<li><a href="http://oclint.org/" target="_blank" rel="noopener">OCLint</a></li>
<li><a href="https://github.com/oclint/oclint" target="_blank" rel="noopener">The OCLint Static Code Analysis Tool</a></li>
<li><a href="https://segmentfault.com/a/1190000005150573" target="_blank" rel="noopener">OCLint 安装与使用</a></li>
<li><a href="http://ceyang.me/dai-ma-du-liang-bang-zhu-xie-chu-gao-zhi-liang-dai-ma-de-gong-ju/" target="_blank" rel="noopener">代码度量：帮助写出高质量代码的工具</a></li>
<li><a href="http://lrdcq.com/me/read.php/48.htm" target="_blank" rel="noopener">oc代码静态检查方案</a></li>
<li><a href="http://docs.oclint.org/en/stable/intro/build.html" target="_blank" rel="noopener">Building OCLint</a></li>
<li><a href="http://docs.oclint.org/en/stable/intro/installation.html" target="_blank" rel="noopener">Installation</a></li>
<li><a href="https://github.com/oclint/oclint/releases" target="_blank" rel="noopener">downloading pre-compiled binaries</a></li>
</ol>
<p>下载<code>预编译</code>版本，然后将<code>PATH</code>添加到<code>.zshrc</code>中，测试如下：</p>
<pre><code class="bash">oclint
oclint: Not enough positional command line arguments specified!
Must specify at least 1 positional arguments: See: oclint -help</code></pre>
<p>如果使用<code>make</code>来构建系统，使用方式如下：</p>
<pre><code class="bash">sudo apt-get install bear

#compile_commands.json
bear make 

#oclint-json-compilation-database for code analysis
oclint-json-compilation-database

oclint -p &lt;build path&gt; &lt;source0&gt; [... &lt;sourceN&gt;]</code></pre>
<p><strong>OCLint配置规则</strong></p>
<h2 id="Clang-Static-Analyzer"><a href="#Clang-Static-Analyzer" class="headerlink" title="Clang Static Analyzer"></a><strong>Clang Static Analyzer</strong></h2><ol>
<li><a href="http://clang-analyzer.llvm.org/index.html" target="_blank" rel="noopener">Clang Static Analyzer</a></li>
<li><a href="http://clang-analyzer.llvm.org/installation#OtherPlatforms" target="_blank" rel="noopener">Building the Analyzer from Source</a></li>
<li><a href="http://blog.csdn.net/sealjin/article/details/45221209" target="_blank" rel="noopener">How to use Clang Static Analyzer</a></li>
<li><a href="http://xinsuiyuer.github.io/blog/2014/01/12/clang-static-analyzer/" target="_blank" rel="noopener">静态代码分析工具</a></li>
</ol>
<p>在编译安装 <code>llvm/clang</code> 或者 <code>sudo apt-get install clang</code> 之后，<code>scan-build</code> 和 <code>scan-view</code> 分别在</p>
<pre><code class="bash">$(SRC)/llvm/tools/clang/tools/scan-build
$(SRC)/llvm/tools/clang/tools/scan-view</code></pre>
<p>使用：</p>
<pre><code class="bash">scan-build make
.
scan-build: 3 bugs found.
scan-build: Run &#39;scan-view /tmp/scan-build-2016-06-23-124956-25166-1&#39; to examine bug reports.
scan-view /tmp/scan-build-2016-06-23-124956-25166-1</code></pre>
<p><strong>checker – 检查规则</strong></p>
<p>内置的 checker 存放在 <code>$(SRC)/llvm/tools/clang/lib/StaticAnalyzer/Checkers</code> 目录下。<br>这些 <code>checker</code> 默认情况下并没有全部开启，所以需要根据情况启用合适的 checker。<br>可以使用 <code>-enable-checker</code> 和 <code>-disable-checker</code> 开启和禁用具体的 checker 或者 某种类别的 checker。</p>
<pre><code class="bash">$ scan-build -enable-checker alpha.security.ArrayBoundV2 make # 启用数组边界检查</code></pre>
<p>所有支持的 checkers 可以使用如下命令查看：</p>
<pre><code class="bash">$ clang -cc1 -analyzer-checker-help
alpha.core.BoolAssignment       Warn about assigning non-{0,1} values to Boolean variables
alpha.core.CastSize             Check when casting a malloced type T, whether the size is a multiple of the size of T
alpha.core.CastToStruct         Check for cast from non-struct pointer to struct pointer
alpha.core.FixedAddr            Check for assignment of a fixed address to a pointer
alpha.core.IdenticalExpr        Warn about unintended use of identical expressions in operators
alpha.core.PointerArithm        Check for pointer arithmetic on locations other than array elements
alpha.core.PointerSub           Check for pointer subtractions on two pointers pointing to different memory chunks
alpha.core.SizeofPtr            Warn about unintended use of sizeof() on pointer expressions
alpha.cplusplus.NewDeleteLeaks  Check for memory leaks. Traces memory managed by new/delete.
alpha.cplusplus.VirtualCall     Check virtual function calls during construction or destruction
...
alpha.security.ArrayBound       Warn about buffer overflows (older checker)
alpha.security.ArrayBoundV2     Warn about buffer overflows (newer checker)
alpha.security.MallocOverflow   Check for overflows in the arguments to malloc()
alpha.security.ReturnPtrRange   Check for an out-of-bound pointer being returned to callers
...
core.CallAndMessage             Check for logical errors for function calls and Objective-C message expressions (e.g., uninitialized arguments, null function pointers)
core.DivideZero                 Check for division by zero
core.DynamicTypePropagation     Generate dynamic type information
core.NonNullParamChecker        Check for null pointers passed as arguments to a function whose arguments are references or marked with the &#39;nonnull&#39; attribute
core.NullDereference            Check for dereferences of null pointers
core.StackAddressEscape         Check that addresses to stack memory do not escape the function
...
unix.API                        Check calls to various UNIX/Posix functions
unix.Malloc                     Check for memory leaks, double free, and use-after-free problems. Traces memory managed by malloc()/free().
unix.MallocSizeof               Check for dubious malloc arguments involving sizeof
unix.MismatchedDeallocator      Check for mismatched deallocators.
unix.cstring.BadSizeArg         Check the size argument passed into C string functions for common erroneous patterns
unix.cstring.NullArg            Check for null pointers being passed as arguments to C string functions</code></pre>
<p>在使用 <code>-enable-checker</code> 或者 <code>-disable-checker</code> 时，不需要完整的指定某个 checker 的名称， 也可以是某一类的，如：</p>
<pre><code class="bash">$ scan-build -enable-checker alpha ...
$ scan-build -enable-checker alpha.security ...</code></pre>
<p>例如：</p>
<pre><code class="bash">$ scan-build -enable-checker alpha.security make
-e compiling [/usr/share/clang/scan-build-3.8/bin/../libexec/ccc-analyzer]: ./channel_edit.c
channel_edit.c:202:15: warning: Value stored to &#39;data&#39; during its initialization is never read
    list_data data = {0};
            ^~~~   ~~~
1 warning generated.
scan-build: 150 bugs found.
scan-build: Run &#39;scan-view /tmp/scan-build-2016-06-23-125458-27549-1&#39; to examine bug reports.

# scan-view-3.8 ImportError: No module named ScanView
$ scan-view-3.4 /tmp/scan-build-2016-06-23-125458-27549-1</code></pre>
<p><strong>相比 cppcheck，它提供了更多的检查规则。</strong></p>
<h2 id="Purify"><a href="#Purify" class="headerlink" title="Purify"></a>Purify</h2><ol>
<li><a href="http://brantc.blog.51cto.com/410705/116674/" target="_blank" rel="noopener">Purify使用体验</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/rational/r-cail/" target="_blank" rel="noopener">Rational Purify 使用及分析实例</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/rational/07/0306_chitale/" target="_blank" rel="noopener">使用 IBM Rational PurifyPlus</a></li>
</ol>
<h2 id="Infer"><a href="#Infer" class="headerlink" title="Infer"></a>Infer</h2><p>Facebook 的 Infer 是一个静态分析工具。Infer 可以分析 Objective-C， Java 或者 C 代码，报告潜在的问题。</p>
<ol>
<li><a href="http://infer.liaohuqiu.net/" target="_blank" rel="noopener">Infer</a></li>
<li><a href="http://infer.liaohuqiu.net/docs/getting-started.html" target="_blank" rel="noopener">documentation</a></li>
</ol>
<h2 id="coverity"><a href="#coverity" class="headerlink" title="coverity"></a>coverity</h2><ol>
<li><a href="http://www.coverity.com/html_cn/products/index.html" target="_blank" rel="noopener">coverity</a></li>
<li><a href="http://blog.csdn.net/yasi_xi/article/details/8349985" target="_blank" rel="noopener">Coverity 代码静态安全检测</a></li>
</ol>
<h2 id="PVS-Studio"><a href="#PVS-Studio" class="headerlink" title="PVS-Studio"></a>PVS-Studio</h2><p><a href="http://www.hkaco.com/software/viva64/home.html" target="_blank" rel="noopener">C/C++/C++11 静态代码分析工具</a></p>
<h2 id="PC-lint"><a href="#PC-lint" class="headerlink" title="PC-lint"></a>PC-lint</h2><p><a href="http://www.gimpel.com/html/pcl.htm" target="_blank" rel="noopener">PC-lint</a></p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><!--
1. [C++ static code analysis tool on Windows](http://stackoverflow.com/questions/97454/c-static-code-analysis-tool-on-windows)
2. [静态代码分析工具汇总](http://blog.csdn.net/dongwuming/article/details/49423909)
3. [C/C++ 编程有哪些值得推荐的工具](https://www.zhihu.com/question/23357089)
4. [linux环境下 C++性能测试工具 gprof + kprof + gprof2dot](http://www.cnblogs.com/rocketfan/archive/2009/11/15/1603465.html)
5. [源码分析：动态分析 C 程序函数调用关系](http://blog.csdn.net/tinylab/article/details/45051097)
6. [Tutorial: Using GNU Profiling (gprof) with ARM Cortex-M](https://mcuoneclipse.com/2015/08/23/tutorial-using-gnu-profiling-gprof-with-arm-cortex-m/)
7. [如何使用gprof对软件做profiling](https://forums.xilinx.com/t5/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B7%A5%E5%85%B7%E4%B8%8EIP/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8gprof%E5%AF%B9%E8%BD%AF%E4%BB%B6%E5%81%9Aprofiling/td-p/397451)
-->
<ol start="5">
<li><a href="https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis#C.2C_C.2B.2B" target="_blank" rel="noopener">List of tools for static code analysis</a></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/debug/" rel="tag"># debug</a>
              <a href="/tags/tools/" rel="tag"># tools</a>
              <a href="/tags/static-analysis-tools/" rel="tag"># static analysis tools</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2015/07/06/Linux-OOM-Killer/" rel="next" title="Linux下malloc函数和OOM Killer">
                  <i class="fa fa-chevron-left"></i> Linux下malloc函数和OOM Killer
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/2015/09/10/attribute-aligned/" rel="prev" title="\#pragma pack(n)和\_\_attribute\_\_((aligned(m)))的区别">
                  \#pragma pack(n)和\_\_attribute\_\_((aligned(m)))的区别 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cppcheck"><span class="nav-number">1.</span> <span class="nav-text">Cppcheck</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Understand"><span class="nav-number">2.</span> <span class="nav-text">Understand</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#valgrind"><span class="nav-number">3.</span> <span class="nav-text">valgrind</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KCachegrind"><span class="nav-number">4.</span> <span class="nav-text">KCachegrind</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gprof"><span class="nav-number">5.</span> <span class="nav-text">gprof</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KProf"><span class="nav-number">6.</span> <span class="nav-text">KProf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gprof2dot"><span class="nav-number">7.</span> <span class="nav-text">gprof2dot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gperftools"><span class="nav-number">8.</span> <span class="nav-text">gperftools</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#include-what-you-use"><span class="nav-number">9.</span> <span class="nav-text">include-what-you-use</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OCLint"><span class="nav-number">10.</span> <span class="nav-text">OCLint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Clang-Static-Analyzer"><span class="nav-number">11.</span> <span class="nav-text">Clang Static Analyzer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Purify"><span class="nav-number">12.</span> <span class="nav-text">Purify</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Infer"><span class="nav-number">13.</span> <span class="nav-text">Infer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#coverity"><span class="nav-number">14.</span> <span class="nav-text">coverity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVS-Studio"><span class="nav-number">15.</span> <span class="nav-text">PVS-Studio</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PC-lint"><span class="nav-number">16.</span> <span class="nav-text">PC-lint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ref"><span class="nav-number">17.</span> <span class="nav-text">Ref</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Breeze.Temple"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Breeze.Temple</p>
  <div class="site-description" itemprop="description">Breeze.Temple</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">440</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">473</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/breezetemple" title="GitHub &rarr; https://github.com/breezetemple" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://bitbucket.org" title="BitBucket &rarr; https://bitbucket.org" rel="noopener" target="_blank"><i class="fa fa-fw fa-bitbucket"></i>BitBucket</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://breezetemple.github.io/" title="http://breezetemple.github.io/" rel="noopener" target="_blank">Breeze.Temple's HomePage</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Breeze.Temple</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">18:02</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>














  

  


  <link rel="stylesheet" href="/js/highlight/styles/solarized-dark.css">
  <script src="/js/highlight/highlight.pack.js"></script>
  <script type="text/javascript">
      $(function() {
          hljs.initHighlighting();
      });
  </script>

</body>
</html>
