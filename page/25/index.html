<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Breeze.Temple">
<meta property="og:type" content="website">
<meta property="og:title" content="IT日记">
<meta property="og:url" content="http://yoursite.com/page/25/index.html">
<meta property="og:site_name" content="IT日记">
<meta property="og:description" content="Breeze.Temple">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Breeze.Temple">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/25/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>IT日记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IT日记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Life is Now.</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/22/network-debug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/22/network-debug/" class="post-title-link" itemprop="url">网络调试工具</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-06-23 00:00:00" itemprop="dateCreated datePublished" datetime="2016-06-23T00:00:00+08:00">2016-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Network/" itemprop="url" rel="index">
                    <span itemprop="name">Network</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>8.2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>7 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="iperf"><a href="#iperf" class="headerlink" title="iperf"></a>iperf</h2><p>Iperf 是一个 TCP/IP 和 UDP/IP 的性能测量工具，能够提供网络吞吐率信息，以及震动、丢包率、最大段和最大传输单元大小等统计信息；<br>从而能够帮助我们测试网络性能，定位网络瓶颈。</p>
<pre><code class="bash">$ iperf3 -h</code></pre>
<p>TCP 模式下 客户端&amp;服务器</p>
<p>在您需要测试启用 Iperf 服务器模式：</p>
<pre><code class="bash">$ iperf3 -s
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------</code></pre>
<p>使用客户端模式连接第一台服务器。</p>
<pre><code class="bash">$ iperf3 -c 127.0.0.1
Connecting to host 127.0.0.1, port 5201
[  4] local 127.0.0.1 port 50924 connected to 127.0.0.1 port 5201
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
[  4]   0.00-1.00   sec  3.74 GBytes  32.1 Gbits/sec    0   1.12 MBytes       
[  4]   1.00-2.00   sec  3.80 GBytes  32.7 Gbits/sec    0   1.25 MBytes       
[  4]   2.00-3.00   sec  3.65 GBytes  31.3 Gbits/sec    0   1.62 MBytes     </code></pre>
<p>server有类似输出：</p>
<pre><code class="bash">[  5] local 127.0.0.1 port 5201 connected to 127.0.0.1 port 50924
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  3.60 GBytes  30.9 Gbits/sec                  
[  5]   1.00-2.00   sec  3.80 GBytes  32.6 Gbits/sec                  
[  5]   2.00-3.00   sec  3.65 GBytes  31.3 Gbits/sec                  
[  5]   3.00-4.00   sec  3.97 GBytes  34.1 Gbits/sec                  
[  5]   4.00-5.00   sec  3.91 GBytes  33.6 Gbits/sec                  
[  5]   5.00-6.00   sec  3.90 GBytes  33.5 Gbits/sec                  
[  5]   5.00-6.00   sec  3.90 GBytes  33.5 Gbits/sec                  
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-6.00   sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-6.00   sec  25.7 GBytes  36.8 Gbits/sec                  receiver
iperf3: the client has terminated
-----------------------------------------------------------
Server listening on 5201</code></pre>
<p>测试 <code>UDP</code> 使用参数 <code>-u</code></p>
<p>双向测试使用参数 <code>-d</code></p>
<h2 id="netperf"><a href="#netperf" class="headerlink" title="netperf"></a>netperf</h2><p>与iperf类似，也使用client/server方式工作。<br>server端是netserver，用来侦听来自client端的连接，client端是netperf，用来向server发起网络测试。<br>在client与server之间，首先建立一个控制连接，传递有关测试配置的信息，以及测试的结果；<br>在控制连接建立并传递了测试配置信息以后，client与server之间会再建立一个测试连接，用来来回传递着特殊的流量模式，以测试网络的性能。</p>
<ol>
<li><a href="https://www.ibm.com/developerworks/cn/linux/l-netperf/" target="_blank" rel="noopener">netperf 与网络性能测量</a></li>
</ol>
<h2 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h2><p>TcpDump可以将网络中传送的数据包的“头”完全截获下来提供分析。<br>它支持针对网络层、协议、主机、网络或端口的过滤，并提供and、or、not等逻辑语句来帮助你去掉无用的信息。</p>
<pre><code class="bash">tcpdump tcp port 23 host 172.16.14.107 
tcpdump -w /path/to/log -i eth0 host &lt;CLIENTIP&gt; and port 80</code></pre>
<h2 id="wireshark"><a href="#wireshark" class="headerlink" title="wireshark"></a>wireshark</h2><p>Wireshark（前称Ethereal）是一个网络封包分析软件。网络封包分析软件的功能是撷取网络封包，并尽可能显示出最为详细的网络封包资料。</p>
<h2 id="host"><a href="#host" class="headerlink" title="host"></a>host</h2><p>用于查询DNS的工具，它通过常转换指定主机名称的主机名称为IP地址。当不指定参数时，它显示host命令的帮助信息</p>
<pre><code class="bash">$ host -a www.baidu.com
Trying &quot;www.baidu.com&quot;
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 57765
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 4

;; QUESTION SECTION:
;www.baidu.com.INANY

;; ANSWER SECTION:
www.baidu.com.459INCNAMEwww.a.shifen.com.

;; ADDITIONAL SECTION:
www.a.shifen.com.115INA115.239.211.112
www.a.shifen.com.115INA115.239.210.27
www.a.shifen.com.115INA180.97.33.108
www.a.shifen.com.115INA180.97.33.107

Received 122 bytes from 127.0.1.1#53 in 2 ms</code></pre>
<h2 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h2><p>用于查找域名服务器的程序，nslookup有两种模式：互交和非互交</p>
<pre><code class="bash">$ nslookup www.baidu.com
Server:127.0.1.1
Address:127.0.1.1#53

Non-authoritative answer:
www.baidu.comcanonical name = www.a.shifen.com.
Name:www.a.shifen.com
Address: 180.97.33.108
Name:www.a.shifen.com
Address: 180.97.33.107

$ nslookup 
&gt; www.baidu.com
Server:127.0.1.1
Address:127.0.1.1#53

Non-authoritative answer:
www.baidu.comcanonical name = www.a.shifen.com.
Name:www.a.shifen.com
Address: 180.97.33.107
Name:www.a.shifen.com
Address: 180.97.33.108
&gt; set all
Default server: 127.0.1.1
Address: 127.0.1.1#53

Set options:
novcnodebugnod2
searchrecurse
timeout = 0retry = 3  port = 53ndots = 1
querytype = A           class = IN
srchlist = 
&gt; exit</code></pre>
<h2 id="dig"><a href="#dig" class="headerlink" title="dig"></a>dig</h2><p>是一个功能类似nslookup命令的工具。能得到更详细的DNS解析报告。在使用上要比 nslookup方便。可以作为网络故障的诊断工具</p>
<p><strong>必要参数</strong>：@DNSserver DNS服务器地址  (默认：/etc/resolv.conf 文件查询)</p>
<pre><code class="bash">$ dig @127.0.1.1 www.baidu.com

; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; @127.0.1.1 www.baidu.com
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 46874
;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 5, ADDITIONAL: 6

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;www.baidu.com.INA

;; ANSWER SECTION:
www.baidu.com.817INCNAMEwww.a.shifen.com.
www.a.shifen.com.213INA115.239.210.27
www.a.shifen.com.213INA115.239.211.112

;; AUTHORITY SECTION:
a.shifen.com.1094INNSns1.a.shifen.com.
a.shifen.com.1094INNSns2.a.shifen.com.
a.shifen.com.1094INNSns5.a.shifen.com.
a.shifen.com.1094INNSns4.a.shifen.com.
a.shifen.com.1094INNSns3.a.shifen.com.

;; ADDITIONAL SECTION:
ns1.a.shifen.com.43INA61.135.165.224
ns2.a.shifen.com.274INA180.149.133.241
ns3.a.shifen.com.43INA61.135.162.215
ns4.a.shifen.com.558INA115.239.210.176
ns5.a.shifen.com.204INA119.75.222.17

;; Query time: 3 msec
;; SERVER: 127.0.1.1#53(127.0.1.1)
;; WHEN: Fri Jun 24 15:04:24 CST 2016
;; MSG SIZE  rcvd: 271</code></pre>
<p>用 dig 查看反向解析</p>
<pre><code class="bash">dig -x 210.52.83.228 @server</code></pre>
<p>查找一个域的授权 dns 服务器</p>
<pre><code class="bash">dig xmgd.com. +nssearch</code></pre>
<p>从根服务器开始追踪一个域名的解析过程</p>
<pre><code class="bash">dig xmgd.com +trace</code></pre>
<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><p>netstat命令主要用于显示与IP、TCP、UDP和ICMP协议相关的统计数据及网络相关信息，例如可以用于检验本机各端口的网络连接情况。</p>
<p>当你想看看哪个端口被哪个程序占用了；<br>当你想查看TCP连接状态；当你想统计网络连接信息时，这些都可以用netstat命令来搞定，这就是netstat。</p>
<ul>
<li>列出所有端口（包括监听和未监听的）</li>
</ul>
<pre><code class="bash">netstat -a      # 列出所有端口
netstat -at     # 列出所有TCP端口
netstat -au     # 列出所有UDP端口</code></pre>
<ul>
<li>列出所有处于监听状态的Sockets</li>
</ul>
<pre><code class="bash">netstat -l      # 只显示监听端口
netstat -lt     # 只列出所有监听TCP端口
netstat -lu     # 只列出所有监听UDP端口
netstat -lx     # 只列出所有监听UNIX端口</code></pre>
<ul>
<li>显示所有端口的统计信息</li>
</ul>
<pre><code class="bash">netstat -s      # 显示所有端口的统计信息
netstat -st     # 显示TCP端口的统计信息
netstat -su     # 显示UDP端口的统计信息</code></pre>
<ul>
<li>显示路由信息</li>
</ul>
<pre><code class="bash">netstat -r</code></pre>
<p>netstat是一个非常强大的命令，特别是和其它命令进行结合时，更能体现出它的强大性，比如统计TCP每个连接状态的数据：</p>
<pre><code class="bash">netstat -n | awk &#39;/^tcp/ {++state[$NF]}; END {for(key in state) print key,&quot;\t&quot;,state[key]}&#39;</code></pre>
<p>又比如查找请求数量排名前20的IP：</p>
<pre><code class="bash">netstat -anlp|grep 80|grep tcp|awk &#39;{print $5}&#39;|awk -F: &#39;{print $1}&#39;|sort|uniq -c|sort -nr|head -n20</code></pre>
<h2 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h2><p>ss命令用于显示socket状态.<br>他可以显示PACKET sockets, TCP sockets, UDP sockets, DCCP sockets, RAW sockets, Unix domain sockets等等统计.<br>它比其他工具展示等多tcp和state信息. 它是一个非常实用、快速、有效的跟踪IP连接和sockets的新工具</p>
<p>常用ss命令：</p>
<pre><code>ss -l 显示本地打开的所有端口
ss -pl 显示每个进程具体打开的socket
ss -t -a 显示所有tcp socket
ss -u -a 显示所有的UDP Socekt
ss -o state established &#39;( dport = :smtp or sport = :smtp )&#39; 显示所有已建立的SMTP连接
ss -o state established &#39;( dport = :http or sport = :http )&#39; 显示所有已建立的HTTP连接
ss -x src /tmp/.X11-unix/* 找出所有连接X服务器的进程
ss -s 列出当前socket详细信息:</code></pre><p>显示sockets简要信息，列出当前已经连接，关闭，等待的tcp连接</p>
<pre><code>$ ss -s
Total: 1105 (kernel 0)
TCP:   201 (estab 95, closed 4, orphaned 5, synrecv 0, timewait 2/0), ports 0

Transport Total     IP        IPv6
*     0         -         -        
RAW  2         0         2        
UDP  40        27        13       
TCP  197       187       10       
INET  239       214       25       
FRAG  0         0         0        </code></pre><p>ss使用IP地址筛选</p>
<pre><code>ss src ADDRESS_PATTERN
src：表示来源
ADDRESS_PATTERN：表示地址规则

如下：
ss src 120.33.31.1 # 列出来之20.33.31.1的连接

＃　列出来至120.33.31.1,80端口的连接
ss src 120.33.31.1:http
ss src 120.33.31.1:80</code></pre><p>ss使用端口筛选</p>
<pre><code>ss dport OP PORT
OP:是运算符
PORT：表示端口
dport：表示过滤目标端口、相反的有sport</code></pre><p>OP运算符如下：</p>
<pre><code>&lt;= or le : 小于等于 &gt;= or ge : 大于等于
== or eq : 等于
!= or ne : 不等于端口
&lt; or lt : 小于这个端口 &gt; or gt : 大于端口</code></pre><p>OP实例</p>
<pre><code>ss sport = :http 也可以是 ss sport = :80
ss dport = :http
ss dport \&gt; :1024
ss sport \&gt; :1024
ss sport \&lt; :32000
ss sport eq :22
ss dport != :22
ss state connected sport = :http
ss \( sport = :http or sport = :https \)
ss -o state fin-wait-1 \( sport = :http or sport = :https \) dst 192.168.1/24</code></pre><h2 id="netem-amp-tc"><a href="#netem-amp-tc" class="headerlink" title="netem &amp; tc"></a>netem &amp; tc</h2><p>netem 是 Linux 2.6 及以上内核版本提供的一个网络模拟功能模块。<br>该功能模块可以用来在性能良好的局域网中,模拟出复杂的互联网传输性能,诸如低带宽、传输延迟、丢包等等情况。<br>使用 Linux 2.6 (或以上) 版本内核的很多发行版 Linux 都开启了该内核功能,<br>比如 Fedora、Ubuntu、Redhat、OpenSuse、CentOS、Debian 等等。</p>
<p>tc 是Linux 系统中的一个工具,全名为 traffic control(流量控制)。<br>tc 可以用来控制 netem 的工作模式,也就是说,如果想使用 netem ,需要至少两个条件,一个是内核中的 netem 功能被包含,另一个是要有 tc 。</p>
<p>将 eth0 网卡的传输设置为 100ms ,同时,大约有 30% 的包会延迟 ± 10ms 发送</p>
<pre><code class="bash">$  tc qdisc add dev eth0 root netem delay 100ms 10ms 30%</code></pre>
<p>将 eth0 网卡的传输设置为随机丢掉 1% 的数据包</p>
<pre><code class="bash">$ tc qdisc add dev eth0 root netem loss 1%</code></pre>
<h2 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h2><p>检测丢包</p>
<p>何判断网络是否存在丢包呢？非常简单，通过常用的「ping」命令即可：</p>
<pre><code class="bash">$ ping -f &lt;IP&gt;</code></pre>
<p>关于其中的「-f」选项，在手册中是这样解释的：</p>
<blockquote>
<p>Flood ping. For every ECHO_REQUEST sent a period “.” is printed, while for ever ECHO_REPLY received a backspace is printed.  This provides a rapid display of how many packets are being dropped. If interval is not given, it sets interval to zero and outputs packets as fast as they come back or one hundred times per second, whichever is more. Only the super-user may use this option with zero interval.</p>
</blockquote>
<p>简单点说：发送洪水请求，每个请求打印一个点，每个响应删除一个点。<br>如果网络存在丢包，那么会呈现出一长串不断增加的点，简单易用，童叟无欺。</p>
<pre><code class="bash">$ ping -f -i .2 www.baidu.com
PING www.a.shifen.com (115.239.211.112) 56(84) bytes of data.
......^C
--- www.a.shifen.com ping statistics ---
259 packets transmitted, 253 received, 2% packet loss, time 51837ms
rtt min/avg/max/mdev = 2.948/4.136/15.631/1.465 ms, ipg/ewma 200.920/4.055 ms</code></pre>
<h2 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h2><p>通过Traceroute我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。<br>当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，<br>但基本上来说大部分时候所走的路由是相同的。<br>UNIX系统中，我们称之为Traceroute,MS Windows中为Tracert。<br>Traceroute通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。<br>一条路径上的每个设备Traceroute要测3次。输出结果中包括每次测试的时间(ms)和设备的名称（如有的话）及其IP地址。</p>
<pre><code class="bash">$ traceroute www.baidu.com
traceroute to www.baidu.com (115.239.210.27), 30 hops max, 60 byte packets
1  192.168.110.1 (192.168.110.1)  0.673 ms  0.653 ms  0.655 ms
2  * * *
3  192.168.3.1 (192.168.3.1)  1.267 ms  1.611 ms  1.609 ms
4  * * *
5  115.236.90.217 (115.236.90.217)  13.796 ms  13.775 ms  13.787 ms
6  220.191.159.125 (220.191.159.125)  17.639 ms 61.164.3.241 (61.164.3.241)  3.710 ms 61.164.8.45 (61.164.8.45)  3.654 ms
7  61.164.31.218 (61.164.31.218)  6.728 ms * *
8  * * *
9  115.239.209.10 (115.239.209.10)  11.003 ms 115.239.209.30 (115.239.209.30)  10.396 ms 115.239.209.14 (115.239.209.14)  11.438 ms
10  * * *
30  * * *</code></pre>
<p>记录按序列号从1开始，每个纪录就是一跳，每跳表示一个网关，我们看到每行有三个时间，单位是 ms，其实就是-q的默认参数。<br>探测数据包向每个网关发送三个数据包后，网关响应后返回的时间；如果您用 traceroute -q 4 <a href="http://www.58.com" target="_blank" rel="noopener">www.58.com</a> ，表示向每个网关发送4个数据包。</p>
<p><strong>有一些行是以星号表示的。出现这样的情况，可能是防火墙封掉了ICMP的返回信息，所以我们得不到什么相关的数据包返回数据。</strong></p>
<hr>
<ol>
<li><a href="http://blog.sina.com.cn/s/blog_669638e10100h9ov.html" target="_blank" rel="noopener">iperf交叉编译和 使用</a></li>
<li><a href="http://blog.csdn.net/mistyeyed/article/details/5918610" target="_blank" rel="noopener">iperf for Linux 在TOP6410上的交叉编译和使用</a></li>
<li><a href="http://www.latelee.org/using-gnu-linux/compile-iperf.html" target="_blank" rel="noopener">网络性能测试工具iperf编译记录</a></li>
<li><a href="http://luodw.cc/2015/12/27/dns03/" target="_blank" rel="noopener">域名解析之dig,host,nslookup命令</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/22/clang-format/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/22/clang-format/" class="post-title-link" itemprop="url">使用clang-format格式化你的代码</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-06-23 00:00:00" itemprop="dateCreated datePublished" datetime="2016-06-23T00:00:00+08:00">2016-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>914</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>toc<br>{:toc}</li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>clang-format是一个格式化代码的工具, 支持多种代码风格。有两种方式使用：</p>
<p>安装：</p>
<pre><code class="bash">sudo apt-get install clang-format</code></pre>
<ul>
<li>vim插件</li>
</ul>
<pre><code class="vimrc">Bundle &#39;rhysd/vim-clang-format&#39;                                                                                                   

let g:clang_format#style_options = {
    \ &quot;AccessModifierOffset&quot; : -4,
    \ &quot;AllowShortIfStatementsOnASingleLine&quot; : &quot;true&quot;,
    \ &quot;AlwaysBreakTemplateDeclarations&quot; : &quot;true&quot;,
    \ &quot;Standard&quot; : &quot;C++11&quot;}</code></pre>
<p><code>clang_format#style_options</code> 可以在<a href="http://clang.llvm.org/docs/ClangFormatStyleOptions.html" target="_blank" rel="noopener">Clang-Format Style Options</a>查找配置</p>
<ul>
<li>直接使用Clang-Format</li>
</ul>
<p>在 <code>.vimrc</code> 中映射快捷键</p>
<pre><code class="vimrc">map &lt;C-K&gt; :pyf &lt;path-to-this-file&gt;/clang-format.py&lt;cr&gt;
imap &lt;C-K&gt; &lt;c-o&gt;:pyf &lt;path-to-this-file&gt;/clang-format.py&lt;cr&gt;</code></pre>
<p>需要在目录下建一个名为.clang-format的文件, 通过</p>
<pre><code class="bash">clang-format -style=llvm -dump-config &gt; .clang-format</code></pre>
<p>可以获得一个模板 .clang-format 文件, 根据自己的需求修改即可</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>获得模板</p>
<pre><code class="bash">clang-format -style=llvm -dump-config &gt; .clang-format</code></pre>
<p>修改参考<a href="http://clang.llvm.org/docs/ClangFormatStyleOptions.html" target="_blank" rel="noopener">options</a></p>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><ol>
<li><a href="http://hokein.me/2016/01/30/clang-format/" target="_blank" rel="noopener">使用clang-format格式化你的代码</a></li>
<li><a href="http://clang.llvm.org/docs/ClangFormatStyleOptions.html" target="_blank" rel="noopener">Clang-Format Style Options</a></li>
<li><a href="http://qiufeng.me/xcode-format" target="_blank" rel="noopener">Objective-C代码自动格式化</a></li>
<li><a href="http://clang.llvm.org/docs/ClangFormatStyleOptions.html" target="_blank" rel="noopener">Clang-Format Style Options</a></li>
<li><a href="https://github.com/rhysd/vim-clang-format" target="_blank" rel="noopener">rhysd/vim-clang-format</a></li>
<li><a href="http://clang.llvm.org/docs/ClangFormat.html#vim-integration" target="_blank" rel="noopener">Vim Integration</a></li>
</ol>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/21/c-c++-tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/21/c-c++-tools/" class="post-title-link" itemprop="url">C/C++推荐工具</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-06-22 00:00:00" itemprop="dateCreated datePublished" datetime="2016-06-22T00:00:00+08:00">2016-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h2><ul>
<li>vim</li>
<li>emacs</li>
<li>kate（KDE下一个功能强大的编辑器）</li>
<li>Sublime text 3</li>
</ul>
<h2 id="集成开发环境"><a href="#集成开发环境" class="headerlink" title="集成开发环境"></a>集成开发环境</h2><ul>
<li>AppCode ：构建与JetBrains’ IntelliJ IDEA 平台上的用于Objective-C，C,C++，Java和Java开发的集成开发环境</li>
<li>CLion：来自JetBrains的跨平台的C/C++的集成开发环境</li>
<li>Code::Blocks ：免费C，C++和Fortran的集成开发环境</li>
<li>CodeLite ：另一个跨平台的免费的C/C++集成开发环境</li>
<li>Dev-C++：可移植的C/C++/C++11集成开发环境</li>
<li>Eclipse CDT：基于Eclipse平台的功能齐全的C和C++集成开发环境</li>
<li>Geany ：轻量级的快速，跨平台的集成开发环境。</li>
<li>IBM VisualAge ：来自IBM的家庭计算机集成开发环境。</li>
<li>Irony-mode：由libclang驱动的用于Emacs的C/C++微模式</li>
<li>KDevelop：免费开源集成开发环境</li>
<li>Microsoft Visual Studio ：来自微软的集成开发环境</li>
<li>NetBeans ：主要用于Java开发的的集成开发环境，也支持其他语言，尤其是PHP，C/C++和HTML5。</li>
<li>Qt Creator：跨平台的C++，Javascript和QML集成开发环境，也是Qt SDK的一部分。</li>
<li>rtags：C/C++的客户端服务器索引，用于 跟基于clang的emacs的集成</li>
<li>Xcode ：由苹果公司开发</li>
<li>YouCompleteMe：一个用于Vim的根据你敲的代码快速模糊搜索并进行代码补全的引擎。</li>
</ul>
<h2 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h2><ul>
<li>make</li>
<li>CMake ：跨平台的免费开源软件用于管理软件使用独立编译的方法进行构建的过程。</li>
<li>Bear ：用于为clang工具生成编译数据库的工具</li>
<li>Biicode：基于文件的简单依赖管理器。</li>
<li>CPM：基于CMake和Git的C++包管理器</li>
<li>FASTBuild：高性能，开源的构建系统，支持高度可扩展性的编译，缓冲和网络分布。</li>
<li>Ninja ：专注于速度的小型构建系统</li>
<li>Scons ：使用Python scipt 配置的软件构建工具</li>
<li>tundra ：高性能的代码构建系统，甚至对于非常大型的软件项目，也能提供最好的增量构建次数。</li>
<li>tup：基于文件的构建系统，用于后台监控变化的文件。</li>
</ul>
<h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><ul>
<li>Cppcheck ：静态C/C++代码分析工具</li>
<li>include-what-you-use ：使用clang进行代码分析的工具，可以#include在C和C++文件中。</li>
<li>OCLint ：用于C，C++和Objective-C的静态源代码分析工具，用于提高质量，减少瑕疵。</li>
<li>Clang Static Analyzer：查找C，C++和Objective-C程序bug的源代码分析工具</li>
<li>Purify</li>
<li>Valgrind工具集(包括剖析工具Callgrind和线程分析工具Helgrind等)</li>
<li>KCachegrind</li>
<li>gprof开源剖析工具，通常作为gcc编译器的一部分</li>
<li>gprof2dot</li>
<li>Luke StackWalker ，查找程序性能瓶颈的工具</li>
<li>gperftools</li>
</ul>
<h2 id="代码工具"><a href="#代码工具" class="headerlink" title="代码工具"></a>代码工具</h2><ul>
<li>nm 列出来自对象文件的符号</li>
<li>objdump 显示对象文件信息</li>
<li>strings 列出二进制文件中可输出的字符串</li>
<li>strip 删除来自对象文件的符号</li>
<li>m4 宏处理程序</li>
<li>indent 代码格式化工具</li>
</ul>
<h2 id="检测工具"><a href="#检测工具" class="headerlink" title="检测工具"></a>检测工具</h2><ul>
<li>time 计时工具</li>
<li>ps 显示运行进程的当前状态</li>
<li>top 给出系统的详细信息</li>
<li>strace 记录对操作系统的所有访问，例如内存分配、文件I/O、系统调用和子进程的启动</li>
</ul>
<hr>
<!--
1. [C/C++ 编程有哪些值得推荐的工具](https://www.zhihu.com/question/23357089)
-->


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/05/programmer-sorting-algo-sourcecode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/06/05/programmer-sorting-algo-sourcecode/" class="post-title-link" itemprop="url">排序算法代码</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-06-06 00:00:00" itemprop="dateCreated datePublished" datetime="2016-06-06T00:00:00+08:00">2016-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><p>冒泡排序算法的运作如下：</p>
<ol>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个。</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</li>
</ol>
<pre><code class="c">void bubble_sort(int arr[], int len) {
    int i, j, temp;
    for (i = 0; i &lt; len - 1; i++) {
        for (j = 0; j &lt; len - 1 - i; j++) {
            if (arr[j] &gt; arr[j + 1]) {
                temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
}</code></pre>
<p><strong>改进算法</strong></p>
<p>冒泡排序是与<strong>插入排序</strong>拥有相等的运行时间，但是两种算法在需要的交换次数却很大地不同。<br>在最好的情况，冒泡排序需要O(n^2)次交换，而插入排序只要最多O(n)交换。<br>冒泡排序的实现通常会对已经排序好的数列拙劣地运行（O(n^2)），而插入排序在这个例子只需要O(n)个运算。<br><strong>因此很多现代的算法教科书避免使用冒泡排序，而用插入排序替换之。</strong><br>冒泡排序如果能在内部循环第一次运行时，使用一个旗标来表示有无需要交换的可能，也可以把最好的复杂度降低到O(n)。<br>在这个情况，已经排序好的数列就无交换的需要。若在每次走访数列时，把走访顺序反过来，也可以稍微地改进效率。<br>有时候称为<strong>鸡尾酒排序</strong>，因为算法会从数列的一端到另一端之间穿梭往返。</p>
<p><strong>改进代码</strong>，使用一个旗标来表示有无需要交换的可能</p>
<pre><code class="c">void bubble_sort(int arr[], int len) {
    int i, j, temp;
    bool flag = true;
    for (i = 0; i &lt; len - 1; i++) {
        flag = false;
        for (j = 0; j &lt; len - 1 - i; j++) {
            if (arr[j] &gt; arr[j + 1]) {
                temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
                flag = true;
            }
        }

        if(!flag)
            break;
    }
}</code></pre>
<p><strong>进一步优化</strong>，如果R[0..i]已是有序区间，上次的扫描区间是R[i..n]，<br>记上次扫描时最后一次执行交换的位置为lastSwapPos，则lastSwapPos在i与n之间，<br>不难发现R[i..lastSwapPos]区间也是有序的，否则这个区间也会发生交换；<br>所以下次扫描区间就可以由R[i..n] 缩减到[lastSwapPos..n]。</p>
<pre><code class="c">void bubble_sort(int arr[], int len) {
    int i, j, temp;
    int lastSwapPos = 0, lastSwapPosTemp = 0;
    for (i = 0; i &lt; len - 1; i++) {
        lastSwapPos = lastSwapPosTemp;
        for (j = lastSwapPosTemp; j &lt; len - 1 - i; j++) {
            if (arr[j] &gt; arr[j + 1]) {
                temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
                lastSwapPosTemp = j;
            }
        }

        if(lastSwapPos == lastSwapPosTemp)
            break;
    }
}</code></pre>
<h2 id="鸡尾酒排序"><a href="#鸡尾酒排序" class="headerlink" title="鸡尾酒排序"></a>鸡尾酒排序</h2><p>鸡尾酒排序，也就是<strong>定向冒泡排序</strong>，是冒泡排序的一种变形。<br>此算法与冒泡排序的不同处在于<strong>排序时是以双向在序列中进行排序</strong>。<br>鸡尾酒排序等于是冒泡排序的轻微变形。<strong>不同的地方在于从低到高然后从高到低，而冒泡排序则仅从低到高去比较序列里的每个元素。</strong></p>
<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><ol>
<li>从第一个元素开始，该元素可以认为已经被排序</li>
<li>取出下一个元素，在已经排序的元素序列中从后向前扫描</li>
<li>如果该元素（已排序）大于新元素，将该元素移到下一位置</li>
<li>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置</li>
<li>将新元素插入到该位置中</li>
<li>重复步骤2~5</li>
</ol>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><ol>
<li>从数列中挑出一个元素，称为 “基准”（pivot），</li>
<li>重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。<br>在这个分区退出之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。</li>
<li>递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。</li>
</ol>
<p>#归并排序</p>
<p><strong>归并排序</strong>是建立在归并操作上的一种有效的排序算法。<br>该算法是采用分治法（Divide and Conquer）的一个非常典型的应用</p>
<p><strong>步骤：</strong></p>
<ol>
<li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列</li>
<li>设定两个指针，最初位置分别为两个已经排序序列的起始位置</li>
<li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置</li>
<li>重复步骤3直到某一指针达到序列尾</li>
<li>将另一序列剩下的所有元素直接复制到合并序列尾</li>
</ol>
<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><p>堆积排序（Heapsort）是指利用堆这种数据结构所设计的一种排序算法。<br>堆是一个近似完全二叉树的结构，并同时满足堆性质：即子结点的键值或索引总是小于（或者大于）它的父节点。</p>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><ol>
<li>首先在未排序序列中找到最小元素，存放到排序序列的起始位置，</li>
<li>然后，再从剩余未排序元素中继续寻找最小元素，然后放到排序序列末尾。</li>
<li>以此类推，直到所有元素均排序完毕。</li>
</ol>
<h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h2><p>希尔排序，也称递减增量排序算法，是插入排序的一种高速而稳定的改进版本。<br>希尔排序是基于插入排序的以下两点性质而提出改进方法的：</p>
<ol>
<li>插入排序在对几乎已经排好序的数据操作时， 效率高， 即可以达到线性排序的效率</li>
<li>但插入排序一般来说是低效的， 因为插入排序每次只能将数据移动一位&gt;</li>
</ol>
<h2 id="梳排序"><a href="#梳排序" class="headerlink" title="梳排序"></a>梳排序</h2><p>梳排序是改良自冒泡排序和快速排序。</p>
<p>在冒泡排序算法中，只比较阵列中相邻的二项，即比较的二项的间距(Gap)是1，<br>梳排序提出此间距其实可大于1，<strong>改自插入排序的希尔排序同样提出相同观点。</strong><br>梳排序中，开始时的间距设定为阵列长度，并在循环中以固定比率递减，通常递减率设定为1.24。<br>在一次循环中，梳排序如同冒泡排序一样把阵列从首到尾扫描一次，比较及交换两项，不同的是两项的间距不固定于1。<br>如果间距递减至1，梳排序假定输入阵列大致排序好，并以冒泡排序作最后检查及修正。</p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol>
<li><a href="http://functionspace.com/topic/3774/GIFs-of-sorting-algorithms" target="_blank" rel="noopener">GIFs of sorting algorithms</a></li>
<li><a href="http://www.sorting-algorithms.com/" target="_blank" rel="noopener">Sorting Algorithm Animations</a></li>
<li><a href="https://www.reddit.com/r/oddlysatisfying/comments/2gnqtp/this_gif_visualizing_a_sorting_algorithm/" target="_blank" rel="noopener">This gif, visualizing a sorting algorithm</a></li>
<li><a href="https://www.youtube.com/watch?v=kPRA0W1kECg" target="_blank" rel="noopener">15 Sorting Algorithms in 6 Minutes</a></li>
<li><a href="http://www.wtoutiao.com/p/98aDH0.html" target="_blank" rel="noopener">视觉直观感受 7 种常用的排序算法</a></li>
<li><a href="https://zh.wikipedia.org/zh-cn/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">排序算法</a></li>
<li><a href="http://blog.csdn.net/cjf_iceking/article/details/7916194" target="_blank" rel="noopener">插入排序</a></li>
<li><a href="https://github.com/cdmh/sorting_algorithms" target="_blank" rel="noopener">sorting algorithms</a></li>
<li><a href="https://www.cs.usfca.edu/~galles/visualization/ComparisonSort.html" target="_blank" rel="noopener">comparisonSort</a></li>
<li><a href="http://visualgo.net/sorting" target="_blank" rel="noopener">visualgo</a></li>
<li><a href="http://sorting.at/" target="_blank" rel="noopener">sort algo</a></li>
<li><a href="http://sortvis.org/index.html" target="_blank" rel="noopener">sortvis</a></li>
<li><a href="http://www.codeproject.com/Articles/132757/Visualization-and-Comparison-of-sorting-algorithms" target="_blank" rel="noopener">sort vis tool</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/11/how-to-use-fontcreator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/05/11/how-to-use-fontcreator/" class="post-title-link" itemprop="url">FontCreator编辑字库</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-12 00:00:00" itemprop="dateCreated datePublished" datetime="2016-05-12T00:00:00+08:00">2016-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Character-Encoding-Fonts/" itemprop="url" rel="index">
                    <span itemprop="name">Character Encoding/Fonts</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<p>FreeType 中函数 <code>FT_Get_Kerning</code></p>
<ul>
<li><strong>Backtrack(后迹)</strong> — This is the sequence of things that occur before the target in the rule.<br>This sequence can be composed of glyphs, classes or a mix of both.</li>
<li><strong>Lookahead(前瞻)</strong> — This is the sequence of glyphs that occur after the target in the rule.<br>Like the backtrack, this sequence can be composed of glyphs, classes or a mix of both.</li>
</ul>
<hr>
<h2 id="名词"><a href="#名词" class="headerlink" title="名词"></a><strong>名词</strong></h2><p><strong>FontCreator</strong>字库编辑工具，使用Ctrl-F8（OpenType设计工具）可以编辑TTF字库相关信息：</p>
<h3 id="GSUB"><a href="#GSUB" class="headerlink" title="GSUB"></a><strong>GSUB</strong></h3><p>The OpenType Layout Feature specification<br><strong>describes eight types of substitution lookups in the glyph substitution table (GSUB)</strong>.<br>The following table shows those currently supported by FontCreator:</p>
<ol>
<li>Single Substitute a single glyph by another single glyph (a -&gt; b)</li>
<li>Multiple Substitute a single glyph by other multiple glyphs (a -&gt; xyz)</li>
<li>Alternate Substitute a single glyph by one of multiple alternates (a -&gt; x or y or z)</li>
<li>Ligature Substitute multiple glyphs by a single ligature (f f i -&gt; ffi)</li>
<li>Context Substitute one or more glyphs in context</li>
<li>Chaining Context Substitute context specific glyphs (3rd -&gt; 3rd)</li>
<li>Extension Substitution </li>
<li>Reverse chaining context Applied in reverse order, replace single glyph in chaining context</li>
</ol>
<h3 id="GPOS"><a href="#GPOS" class="headerlink" title="GPOS"></a><strong>GPOS</strong></h3><p>The OpenType Layout Feature specification<br><strong>describes nine types of positioning lookups in the glyph positioning table (GPOS)</strong>.<br>The following table shows those currently supported by FontCreator:</p>
<ol>
<li>Single adjustment Change the position of a single glyph (sub/superscript)</li>
<li>Pair adjustment Mostly used to define kerning pairs</li>
<li>Cursive attachment </li>
<li>Mark to base attachment Attach a combining mark such as a diacritic to a base glyph</li>
<li>Mark to ligature attachment Attach a combining mark to a ligature</li>
<li>Mark to mark attachment Attach a combining mark to another mark</li>
<li>Context Positioning Position one or more glyphs in context</li>
<li>Chained Context Positioning Position one or more glyphs in chained context</li>
<li>Extension Substitution</li>
</ol>
<ol>
<li><a href="http://www.high-logic.com/fontcreator/manual/index.html?kerning_overview.html" target="_blank" rel="noopener">FontCreator Help</a></li>
<li><a href="http://www.high-logic.com/fontcreator/manual9/index.html?otlfsupportedsubstitutions.html" target="_blank" rel="noopener">OpenType Layout Features - Supported types of substitution and positioning</a></li>
<li><a href="https://www.microsoft.com/typography/otfntdev/khmerot/features.aspx" target="_blank" rel="noopener">Developing OpenType Fonts for Khmer Script (3 of 3): Features</a></li>
<li><a href="http://www.high-logic.com/fontcreator/manual9/index.html?otlfsupportedsubstitutions.html" target="_blank" rel="noopener">OpenType Designer</a></li>
<li><a href="https://www.microsoft.com/typography/otspec/gsub.htm" target="_blank" rel="noopener">GSUB - The Glyph Substitution Table</a></li>
<li><a href="http://opentypecookbook.com/rules.html" target="_blank" rel="noopener">opentypecookbook</a></li>
<li><a href="https://www.microsoft.com/typography/otspec/recom.htm" target="_blank" rel="noopener">Recommendations for OpenType Fonts</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/09/http-status-code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/05/09/http-status-code/" class="post-title-link" itemprop="url">HTTP状态码</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-10 00:00:00" itemprop="dateCreated datePublished" datetime="2016-05-10T00:00:00+08:00">2016-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index">
                    <span itemprop="name">Network</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/HTTP/" itemprop="url" rel="index">
                    <span itemprop="name">HTTP</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.6k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/images/http/http-status-code.jpg" height="600" width="800" />

<hr>
<p>用<strong>Fiddler工具</strong>可以查看HTTP Request和Response,<br>还可以方便地查看Response中的状态码，<br>如果不熟悉这个工具，可以先参考<a href="http://kb.cnblogs.com/page/130367/" target="_blank" rel="noopener">Fiddler教程</a></p>
<p>为了重现HTTP 状态码，本文会使用Fiddler Composer来创建“特殊的HTTP Request”.<br>可以参考<a href="http://www.cnblogs.com/syf/archive/2013/01/12/2857276.html" target="_blank" rel="noopener">Fiddler Composer创建和发送HTTP Request</a></p>
<p><strong>常见的状态码:</strong></p>
<ul>
<li>200 OK 服务器成功处理了请求（这个是我们见到最多的）</li>
<li>301/302 Moved Permanently（重定向）请求的URL已移走。Response中应该包含一个Location URL, 说明资源现在所处的位置</li>
<li>304 Not Modified（未修改）客户的缓存资源是最新的， 要客户端使用缓存</li>
<li>404 Not Found 未找到资源</li>
<li>501 Internal Server Error服务器遇到一个错误，使其无法对请求提供服务</li>
</ul>
<hr>
<h2 id="1XX-信息性状态码"><a href="#1XX-信息性状态码" class="headerlink" title="1XX 信息性状态码"></a><strong>1XX 信息性状态码</strong></h2><p>这些状态码是HTTP 1.1引入的。对于这些状态码的价值还存在争论。</p>
<ul>
<li>100 收到了请求的起始部分，客户端应该继续请求</li>
<li>101 服务器正根据客户端的指示将协议切换成Update Header列出的协议</li>
</ul>
<h2 id="2XX-成功状态码"><a href="#2XX-成功状态码" class="headerlink" title="2XX 成功状态码"></a><strong>2XX 成功状态码</strong></h2><ul>
<li>200 服务器成功处理了请求</li>
<li>201 对于那些要服务器创建对象的请求来说，资源已创建完毕</li>
<li>202 请求已接受， 但服务器尚未处理</li>
<li>203 服务器已将事务成功处理，只是实体Header包含的信息不是来自原始服务器，而是来自资源的副本</li>
<li>204 Response中包含一些Header和一个状态行， 但不包括实体的主题内容（没有response body）</li>
<li>205 另一个主要用于浏览器的代码。意思是浏览器应该重置当前页面上所有的HTML表单</li>
<li>206 部分请求成功</li>
</ul>
<h2 id="3XX-重定向状态码"><a href="#3XX-重定向状态码" class="headerlink" title="3XX 重定向状态码"></a><strong>3XX 重定向状态码</strong></h2><p>重定向状态码用来告诉浏览器客户端，它们访问的资源已被移动，<br>Web服务器发送一个重定向状态码和一个可选的Location Header, 告诉客户端新的资源地址在哪。</p>
<p>浏览器客户端会自动用Location中提供的地址，重新发送新的Request。 这个过程对用户来说是透明的。</p>
<p>301和302 非常相似，  一个是永久转移，一个是临时转移。   （在我们看来， 这两个没太大区别）</p>
<p>302，303，307 是一样。<br>这是因为302是HTTP 1.0定义的， HTTP1.1中使用303,307.<br>同时又保留了302.  （但在现实中，我们还是用302，我是没见过303和307）<br>所以这一节， 我们只需要掌握302， 304 就可以了</p>
<ul>
<li>300 客户端请求了实际指向多个资源的URL。这个代码是和一个选项列表一起返回的，然后用户就可以选择他希望的选项了 </li>
<li>301 请求的URL已移走。Response中应该包含一个Location URL, 说明资源现在所处的位置状态码301</li>
<li>302 与状态码301类似。但这里的移除是临时的。 客户端会使用Location中给出的URL，重新发送新的HTTP requestHTTP协议详解-302</li>
<li>303 类似302 </li>
<li>304 客户的缓存资源是最新的， 要客户端使用缓存HTTP协议之缓存-304</li>
<li>305 必须通过代理访问资源， 代理的地址在Response 的Location中 </li>
<li>306 这个状态码当前没使用 </li>
<li>307 临时重定向类似302</li>
</ul>
<h2 id="4XX-客户端错误状态码"><a href="#4XX-客户端错误状态码" class="headerlink" title="4XX 客户端错误状态码"></a><strong>4XX 客户端错误状态码</strong></h2><ul>
<li>400 Bad Request（坏请求）告诉客户端，它发送了一个错误的请求。状态码400</li>
<li>401 Unauthorized（未授权）需要客户端对自己认证HTTP协议之基本认证-401</li>
<li>402 Payment Required（要求付款）这个状态还没被使用， 保留给将来用 </li>
<li>403 Forbidden（禁止）请求被服务器拒绝了状态码403</li>
<li>404 Not Found（未找到）未找到资源HTTP协议详解-404</li>
<li>405 Method Not Allowed（不允许使用的方法）不支持该Request的方法。状态码405</li>
<li>406 Not Acceptable（无法接受）  </li>
<li>407 Proxy Authentication Required(要求进行代理认证)与状态码401类似， 用于需要进行认证的代理服务器HTTP协议之代理-407</li>
<li>408 Request Timeout（请求超时） 如果客户端完成请求时花费的时间太长， 服务器可以回送这个状态码并关闭连接 </li>
<li>409 Conflict（冲突）发出的请求在资源上造成了一些冲突 </li>
<li>410 Gone（消失了）服务器曾经有这个资源，现在没有了， 与状态码404类似 </li>
<li>411 Length Required（要求长度指示）服务器要求在Request中包含Content-Length。状态码411</li>
<li>412 Precondition Failed（先决条件失败）  </li>
<li>413 Request Entity Too Large（请求实体太大）客户端发送的实体主体部分比服务器能够或者希望处理的要大状态码413</li>
<li>414 Request URI Too Long（请求URI太长）客户端发送的请求所携带的URL超过了服务器能够或者希望处理的长度状态码414</li>
<li>415 Unsupported Media Type（不支持的媒体类型）服务器无法理解或不支持客户端所发送的实体的内容类型 </li>
<li>416 Requested Range Not Satisfiable（所请求的范围未得到满足）  </li>
<li>417 Expectation Failed（无法满足期望）</li>
</ul>
<h2 id="5XX-服务器错误状态码"><a href="#5XX-服务器错误状态码" class="headerlink" title="5XX 服务器错误状态码"></a><strong>5XX 服务器错误状态码</strong></h2><ul>
<li>500 Internal Server Error(内部服务器错误)服务器遇到一个错误，使其无法为请求提供服务状态码500</li>
<li>501 Not Implemented（未实现）客户端发起的请求超出服务器的能力范围(比如，使用了服务器不支持的请求方法)时，使用此状态码。状态码501</li>
<li>502 Bad Gateway（网关故障）代理使用的服务器遇到了上游的无效响应状态码502</li>
<li>503 Service Unavailable（未提供此服务）服务器目前无法为请求提供服务，但过一段时间就可以恢复服务 </li>
<li>504 Gateway Timeout（网关超时）与状态吗408类似， 但是响应来自网关或代理，此网关或代理在等待另一台服务器的响应时出现了超时 </li>
<li>505 HTTP Version Not Supported（不支持的HTTP版本）服务器收到的请求使用了它不支持的HTTP协议版本。 有些服务器不支持HTTP早期的HTTP协议版本，也不支持太高的协议版本</li>
</ul>
<ol>
<li><a href="http://kb.cnblogs.com/page/168720/" target="_blank" rel="noopener">HTTP协议之状态码详解</a></li>
<li><a href="http://kb.cnblogs.com/page/168720/#code2xx" target="_blank" rel="noopener">2XX</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/08/network-basic-information/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/05/08/network-basic-information/" class="post-title-link" itemprop="url">网络基本功系列：总目录</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-09 00:00:00" itemprop="dateCreated datePublished" datetime="2016-05-09T00:00:00+08:00">2016-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index">
                    <span itemprop="name">Network</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/%E7%BD%91%E7%BB%9C%E5%9F%BA%E6%9C%AC%E5%8A%9F/" itemprop="url" rel="index">
                    <span itemprop="name">网络基本功</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>683</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<ul>
<li><a href="https://community.emc.com/thread/197851" target="_blank" rel="noopener">网络传输</a></li>
<li><a href="https://community.emc.com/message/832621#832621" target="_blank" rel="noopener">交换机</a></li>
<li><a href="https://community.emc.com/message/834012#834012" target="_blank" rel="noopener">VLAN与Trunk</a></li>
<li><a href="https://community.emc.com/message/835157#835157" target="_blank" rel="noopener">路由(上)</a></li>
<li><a href="https://community.emc.com/message/836518#836518" target="_blank" rel="noopener">路由(下)</a></li>
<li><a href="https://community.emc.com/message/837741#837741" target="_blank" rel="noopener">链路聚合</a></li>
<li><a href="https://community.emc.com/message/838932#838932" target="_blank" rel="noopener">IP地址与子网</a></li>
<li><a href="https://community.emc.com/message/856307#856307" target="_blank" rel="noopener">NAT原理与配置</a></li>
<li><a href="https://community.emc.com/message/857413#857413" target="_blank" rel="noopener">ICMP与ARP</a></li>
<li><a href="https://community.emc.com/message/840427#840427" target="_blank" rel="noopener">TCP滑动窗口</a></li>
<li><a href="https://community.emc.com/message/842129#842129" target="_blank" rel="noopener">TCP重传</a></li>
<li><a href="https://community.emc.com/message/842879#842879" target="_blank" rel="noopener">TCP确认机制</a></li>
<li><a href="https://community.emc.com/message/843667#843667" target="_blank" rel="noopener">TCP窗口调整与流控</a></li>
<li><a href="https://community.emc.com/message/861019#861019" target="_blank" rel="noopener">Wireshark抓包实例诊断TCP连接问题</a></li>
<li><a href="https://community.emc.com/message/862231#862231" target="_blank" rel="noopener">Wireshark抓包实例诊断TCP重传</a></li>
<li><a href="https://community.emc.com/message/863284#863284" target="_blank" rel="noopener">Wireshark抓包实例诊断TCP重复ACK与乱序</a></li>
<li><a href="https://community.emc.com/message/867817#867817" target="_blank" rel="noopener">Wireshark抓包实例诊断TCP窗口与reset</a></li>
<li><a href="https://community.emc.com/message/870552#870552" target="_blank" rel="noopener">Wireshark抓包实例诊断HTTP问题</a></li>
<li><a href="https://community.emc.com/message/872167#872167" target="_blank" rel="noopener">Wireshark抓包实例诊断数据库问题</a></li>
<li><a href="https://community.emc.com/message/858387#858387" target="_blank" rel="noopener">HTTP(上)</a></li>
<li><a href="https://community.emc.com/message/859697#859697" target="_blank" rel="noopener">HTTP(下)</a></li>
<li><a href="https://community.emc.com/message/873899#873899" target="_blank" rel="noopener">DNS（上）</a></li>
<li><a href="https://community.emc.com/message/846116#846116" target="_blank" rel="noopener">细说Linux网络配置（上）</a></li>
<li><a href="https://community.emc.com/message/846990#846990" target="_blank" rel="noopener">细说Linux网络配置（下）</a></li>
<li><a href="https://community.emc.com/message/848168#848168" target="_blank" rel="noopener">常用诊断工具：ping</a></li>
<li><a href="https://community.emc.com/message/850742#850742" target="_blank" rel="noopener">网络性能监测与实例（上）</a></li>
<li><a href="https://community.emc.com/message/852040#852040" target="_blank" rel="noopener">网络性能监测与实例（下）</a></li>
<li><a href="https://community.emc.com/message/854940#854940" target="_blank" rel="noopener">tcpdump的妙用  (上)</a></li>
<li><a href="https://community.emc.com/message/855799#855799" target="_blank" rel="noopener">tcpdump的妙用（下）</a></li>
</ul>
<hr>
<ol>
<li><a href="https://community.emc.com/thread/197851" target="_blank" rel="noopener">网络基本功系列</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/08/code-review-list/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/05/08/code-review-list/" class="post-title-link" itemprop="url">程序员必备的代码审查（Code Review）清单</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-09 00:00:00" itemprop="dateCreated datePublished" datetime="2016-05-09T00:00:00+08:00">2016-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<p>软件工程学院的研究表明，程序员们会犯15-20种常见的错误。<br>所以，通过把这些错误加入到检查清单当中，你可以确保不论什么时候，<br>只要这些错误发生了，你就能发现它们，并且可以帮助你杜绝这些错误。</p>
<p>为了帮助你开始创建一个清单，这里列出了一些典型的内容：代码审查清单。</p>
<h2 id="常规项"><a href="#常规项" class="headerlink" title="常规项"></a><strong>常规项</strong></h2><ul>
<li>代码能够工作么？它有没有实现预期的功能，逻辑是否正确等。</li>
<li>所有的代码是否简单易懂？</li>
<li>代码符合你所遵循的编程规范么？这通常包括大括号的位置，变量名和函数名，行的长度，缩进，格式和注释。</li>
<li>是否存在多余的或是重复的代码？</li>
<li>代码是否尽可能的模块化了？</li>
<li>是否有可以被替换的全局变量？</li>
<li>是否有被注释掉的代码？</li>
<li>循环是否设置了长度和正确的终止条件？</li>
<li>是否有可以被库函数替代的代码？</li>
<li>是否有可以删除的日志或调试代码？</li>
</ul>
<h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a><strong>安全</strong></h2><ul>
<li>所有的数据输入是否都进行了检查（检测正确的类型，长度，格式和范围）并且进行了编码？</li>
<li>在哪里使用了第三方工具，返回的错误是否被捕获？</li>
<li>输出的值是否进行了检查并且编码？</li>
<li>无效的参数值是否能够处理？</li>
</ul>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a><strong>文档</strong></h2><ul>
<li>是否有注释，并且描述了代码的意图？</li>
<li>所有的函数都有注释吗？</li>
<li>对非常规行为和边界情况处理是否有描述？</li>
<li>第三方库的使用和函数是否有文档？</li>
<li>数据结构和计量单位是否进行了解释？</li>
<li>是否有未完成的代码？如果是的话，是不是应该移除，或者用合适的标记进行标记比如‘TODO’？</li>
</ul>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a><strong>测试</strong></h2><ul>
<li>代码是否可以测试？比如，不要添加太多的或是隐藏的依赖关系，不能够初始化对象，测试框架可以使用方法等。</li>
<li>是否存在测试，它们是否可以被理解？比如，至少达到你满意的代码覆盖(code coverage)。</li>
<li>单元测试是否真正的测试了代码是否可以完成预期的功能？</li>
<li>是否检查了数组的“越界“错误？</li>
<li>是否有可以被已经存在的API所替代的测试代码？</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2><p>你同样需要把特定语言中有可能引起错误的问题添加到清单中。</p>
<p>这个清单故意没有详尽的列出所有可能会发生的错误。<br>你不希望你的清单是这样的，太长了以至于从来没人会去用它。仅仅包含常见的问题会比较好。</p>
<h2 id="优化你的清单"><a href="#优化你的清单" class="headerlink" title="优化你的清单"></a><strong>优化你的清单</strong></h2><p>把使用清单作为你的起点，针对特定的使用案例，你需要对其进行优化。<br>一个比较棒的方式就是让你的团队记录下那些在代码审查过程中临时发现的问题，<br>有了这些数据，你就能够确定你的团队常犯的错误，然后你就可以量身定制一个审查清单。<br>确保你删除了那些没有出现过的错误。（你也可以保留那些出现概率很小，但是非常关键的项目，比如安全相关的问题）。</p>
<h2 id="得到认可并且保持更新"><a href="#得到认可并且保持更新" class="headerlink" title="得到认可并且保持更新"></a><strong>得到认可并且保持更新</strong></h2><p>基本规则是，清单上的任何条目都必须明确，而且，如果可能的话，对于一些条目你可以对其进行二元判定。<br>这样可以防止判断的不一致。和你的团队分享这份清单并且让他们认同你清单的内容是个好主意。<br>同样的，要定期检查你的清单，以确保各条目仍然是有意义的。</p>
<p>有了一个好的清单，可以提高你在代码审查过程中发现的缺陷个数。<br>这可以帮助你提高代码标准，避免质量参差不齐的代码审查。</p>
<ol>
<li><a href="http://blog.jobbole.com/83595/" target="_blank" rel="noopener">程序员必备的代码审查清单</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/29/git-rebase/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/29/git-rebase/" class="post-title-link" itemprop="url">git中的撤销操作</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-30 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-30T00:00:00+08:00">2016-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a><strong>git rebase</strong></h2><p><strong>git rebase是对commit history的改写</strong>。<br>当你要改写的commit history还没有被提交到远程repo的时候，<br>也就是说，<strong>还没有与他人共享之前，commit history是你私人所有的，那么想怎么改写都可以</strong>。</p>
<p>而<strong>一旦被提交到远程后，这时如果再改写history，那么势必和他人的history长的就不一样了</strong>。<br>git push的时候，git会比较commit history，如果不一致，<br>commit动作会被拒绝，唯一的办法就是带上-f参数，<br>强制要求commit，这时git会以committer的history覆写远程repo，<br>从而完成代码的提交。虽然代码提交上去了，<br>但是<strong>这样可能会造成别人工作成果的丢失，所以使用-f参数要慎重</strong>。</p>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a><strong>注意点</strong></h2><ol>
<li>除非只有自己一个人用，不然用 push –force 的都该去死</li>
<li>慎用 push -f！</li>
<li>每个人提交前，都应该把自己的修改rebase到服务器的最新代码之上，遵守这个规则就不会有任何问题。<br>如果你需要force push，说明你做反了，把服务器代码rebase到你本地分支之上才会需要force push，这是错误的用法。</li>
<li>一旦分支中的提交对象发布到公共仓库，就千万不要对该分支进行衍合操作</li>
<li>如果 rebase 完后，需要使用 push -f 的话，一定代表该 rebase 操作是不合适。除非你是有意在修改提交历史</li>
<li>除非某个分支只有你自己搞，你怎么rebase都是没有问题的，但是如果你在master或者develop这种分支上来rebase，<br>估计团队里每个人都想拍死你</li>
<li>当你在某个分支进行团队合作的时候， 常用rebase真的是不合理。而且容易出问题。慎用 push –force</li>
<li>git rebase 一般自己一个人开发时使用，用来保持提交记录的整洁。一旦上传到github后，不应该使用git rebase</li>
<li><strong>一旦分支中的提交对象发布到公共仓库，就千万不要对该分支进行衍合操作。<br>如果你遵循这条金科玉律，就不会出差错。否则，人民群众会仇恨你，你的朋友和家人也会嘲笑你，唾弃你</strong></li>
<li>不需要push -f啊，如果分支落后就用pull –rebase</li>
</ol>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a><strong>例子</strong></h2><p>假设楼主的team中有两个developer：tom和jerry，他们共同使用一个远程repo，<br>并各自clone到自己的机器上，为了简化描述，这里假设只有一个branch：master。</p>
<p>这时tom机器的repo有两个branch: <strong>master, origin/master</strong></p>
<p>而jerry的机器上也是有两个branch: <strong>master, origin/master</strong></p>
<p>均如下图所示</p>
<p><img src="http://segmentfault.com/img/bVb0wO" alt="1"></p>
<p>tom和jerry分别各自开发自己的新feature，<br>不断有新的commit提交到他们各自私有的commit history中，<br>所以他们的master指针不断的向前推移，分别指向不同的commit。<br><strong>而又由于他们都没有git fetch和git push，所以他们的origin/master都维持不变</strong>。</p>
<p>jerry的repo如下</p>
<p><img src="http://segmentfault.com/img/bVb0wQ" alt="2"></p>
<p>tom的repo如下，注意T1和上图的J1，分别是两个不同的commit</p>
<p><img src="http://segmentfault.com/img/bVb0wR" alt="3"></p>
<p>这时Tom首先把他的commit提交的远程repo中，那么他本机origin/master指针则会前进，和master指针保持一致，如下</p>
<p><img src="http://segmentfault.com/img/bVb0wT" alt="4"></p>
<p>远程repo如下</p>
<p><img src="http://segmentfault.com/img/bVb0wS" alt="5"></p>
<p>现在jerry也想把他的commit提交到远程repo上去，<br><strong>运行git push，毫无意外的失败了，所以他git fetch了一下，把远程repo，也就是之前tom提交的T1给拉到了他本机repo中</strong>，如下</p>
<p><img src="http://segmentfault.com/img/bVb0wU" alt="6"></p>
<p>commit history出现了分叉，要想把tom之前提交的内容包含到自己的工作中来，<br>有一个方法就是<strong>git merge，它会自动生成一个commit，既包含tom的提交，也包含jerry的提交</strong>，<br>这样就把两个分叉的commit重新又合并在一起。但是<strong>这个自动生成的commit会有两个parent</strong>，<br>review代码的时候必须要比较两次，很不方便。</p>
<p>jerry<strong>为了保证commit history的线性</strong>，决定采用另外一种方法，就是<strong>git rebase</strong>。<br>jerry的<strong>提交J1这时还没有被提交到远程repo上去，也就是他完全私有的一个commit，<br>所以使用git rebase改写J1的history完全没有问题</strong>，改写之后，如下</p>
<p><img src="http://segmentfault.com/img/bVb0wV" alt="7"></p>
<p>注意J1被改写到T1后面了，变成了J1`</p>
<p>git push后，本机repo</p>
<p><img src="http://segmentfault.com/img/bVb0wW" alt="8"></p>
<p>而远程repo</p>
<p><img src="http://segmentfault.com/img/bVb0wX" alt="9"></p>
<p>异常的轻松，一条直线，没有-f</p>
<p>所以，<strong>在不用-f的前提下，想维持树的整洁，方法就是：在git push之前，先git fetch，再git rebase</strong>。</p>
<pre><code>git fetch origin master
git rebase origin/master
git push</code></pre><ol>
<li><a href="http://www.oschina.net/translate/10-tips-git-next-level" target="_blank" rel="noopener">10 个迅速提升你 Git 水平的提示</a></li>
<li><a href="https://segmentfault.com/q/1010000000430041" target="_blank" rel="noopener">团队开发里频繁使用 git rebase 来保持树的整洁好吗?</a></li>
<li><a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noopener">a-successful-git-branching-model</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E8%A1%8D%E5%90%88" target="_blank" rel="noopener">Git-分支-分支的衍合</a></li>
<li><a href="http://codecampo.com/topics/379?comment_id=1354#comment-1354" target="_blank" rel="noopener">构造干净的 Git 历史线索</a></li>
<li><a href="http://guides.github.com/overviews/flow/" target="_blank" rel="noopener">Github workflow</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/27/programmer-sorting-algorithms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/27/programmer-sorting-algorithms/" class="post-title-link" itemprop="url">常见排序算法可视化实现</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-28 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-28T00:00:00+08:00">2016-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>


<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a><strong>冒泡排序</strong></h2><ol>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个。</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</li>
</ol>
<p><img src="/images/sort/Bubble-sort-example-300px.gif" alt="bubble1"></p>
<p><img src="/images/sort/bubble.gif" alt="bubble2"></p>
<p>冒泡排序是与<strong>插入排序</strong>拥有相等的运行时间，但是两种算法在需要的交换次数却很大地不同。<br>在最好的情况，冒泡排序需要O(n^2)次交换，而插入排序只要最多O(n)交换。<br>冒泡排序的实现通常会对已经排序好的数列拙劣地运行（O(n^2)），而插入排序在这个例子只需要O(n)个运算。<br><strong>因此很多现代的算法教科书避免使用冒泡排序，而用插入排序替换之。</strong><br>冒泡排序如果能在内部循环第一次运行时，使用一个旗标来表示有无需要交换的可能，也可以把最好的复杂度降低到O(n)。<br>在这个情况，已经排序好的数列就无交换的需要。若在每次走访数列时，把走访顺序反过来，也可以稍微地改进效率。<br>有时候称为<strong>鸡尾酒排序</strong>，因为算法会从数列的一端到另一端之间穿梭往返。</p>
<h2 id="鸡尾酒排序"><a href="#鸡尾酒排序" class="headerlink" title="鸡尾酒排序"></a><strong>鸡尾酒排序</strong></h2><p>鸡尾酒排序，也就是<strong>定向冒泡排序</strong>，是冒泡排序的一种变形。<br>此算法与冒泡排序的不同处在于<strong>排序时是以双向在序列中进行排序</strong>。<br>鸡尾酒排序等于是冒泡排序的轻微变形。<strong>不同的地方在于从低到高然后从高到低，而冒泡排序则仅从低到高去比较序列里的每个元素。</strong></p>
<p><img src="/images/sort/Sorting_shaker_sort_anim.gif" alt="shaker"></p>
<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a><strong>插入排序</strong></h2><ol>
<li>从第一个元素开始，该元素可以认为已经被排序</li>
<li>取出下一个元素，在已经排序的元素序列中从后向前扫描</li>
<li>如果该元素（已排序）大于新元素，将该元素移到下一位置</li>
<li>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置</li>
<li>将新元素插入到该位置中</li>
<li>重复步骤2~5</li>
</ol>
<p><img src="/images/sort/220px-Insertion-sort-example-300px.gif" alt="Insertion"></p>
<p><img src="/images/sort/Insertion_sort_animation.gif" alt="Insertion"></p>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a><strong>快速排序</strong></h2><ol>
<li>从数列中挑出一个元素，称为 “基准”（pivot），</li>
<li>重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。<br>在这个分区退出之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。</li>
<li>递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。</li>
</ol>
<p><strong>排序效果：</strong></p>
<p><img src="/images/sort/quick.gif" alt="quick"></p>
<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a><strong>归并排序</strong></h2><p><strong>归并排序</strong>是建立在归并操作上的一种有效的排序算法。<br>该算法是采用分治法（Divide and Conquer）的一个非常典型的应用</p>
<p><strong>步骤：</strong></p>
<ol>
<li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列</li>
<li>设定两个指针，最初位置分别为两个已经排序序列的起始位置</li>
<li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置</li>
<li>重复步骤3直到某一指针达到序列尾</li>
<li>将另一序列剩下的所有元素直接复制到合并序列尾</li>
</ol>
<p><img src="/images/sort/220px-Merge_sort_animation2.gif" alt="merge"></p>
<p><img src="/images/sort/Merge-sort-example-300px.gif" alt="merge"></p>
<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a><strong>堆排序</strong></h2><p>堆积排序（Heapsort）是指利用堆这种数据结构所设计的一种排序算法。<br>堆是一个近似完全二叉树的结构，并同时满足堆性质：即子结点的键值或索引总是小于（或者大于）它的父节点。</p>
<p><img src="/images/sort/heap.gif" alt="heap"></p>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a><strong>选择排序</strong></h2><ol>
<li>首先在未排序序列中找到最小元素，存放到排序序列的起始位置，</li>
<li>然后，再从剩余未排序元素中继续寻找最小元素，然后放到排序序列末尾。</li>
<li>以此类推，直到所有元素均排序完毕。</li>
</ol>
<p><img src="/images/sort/selection.gif" alt="selection"></p>
<h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a><strong>希尔排序</strong></h2><p>希尔排序，也称递减增量排序算法，是插入排序的一种高速而稳定的改进版本。<br>希尔排序是基于插入排序的以下两点性质而提出改进方法的：</p>
<ol>
<li>插入排序在对几乎已经排好序的数据操作时， 效率高， 即可以达到线性排序的效率</li>
<li>但插入排序一般来说是低效的， 因为插入排序每次只能将数据移动一位&gt;</li>
</ol>
<p><img src="/images/sort/shell.gif" alt="shell"></p>
<h2 id="梳排序"><a href="#梳排序" class="headerlink" title="梳排序"></a><strong>梳排序</strong></h2><p>梳排序是改良自冒泡排序和快速排序。</p>
<p>在冒泡排序算法中，只比较阵列中相邻的二项，即比较的二项的间距(Gap)是1，<br>梳排序提出此间距其实可大于1，<strong>改自插入排序的希尔排序同样提出相同观点。</strong><br>梳排序中，开始时的间距设定为阵列长度，并在循环中以固定比率递减，通常递减率设定为1.24。<br>在一次循环中，梳排序如同冒泡排序一样把阵列从首到尾扫描一次，比较及交换两项，不同的是两项的间距不固定于1。<br>如果间距递减至1，梳排序假定输入阵列大致排序好，并以冒泡排序作最后检查及修正。</p>
<p><img src="/images/sort/Comb_sort_demo.gif" alt="comb"></p>
<ol>
<li><a href="http://functionspace.com/topic/3774/GIFs-of-sorting-algorithms" target="_blank" rel="noopener">GIFs of sorting algorithms</a></li>
<li><a href="http://www.sorting-algorithms.com/" target="_blank" rel="noopener">Sorting Algorithm Animations</a></li>
<li><a href="https://www.reddit.com/r/oddlysatisfying/comments/2gnqtp/this_gif_visualizing_a_sorting_algorithm/" target="_blank" rel="noopener">This gif, visualizing a sorting algorithm</a></li>
<li><a href="https://www.youtube.com/watch?v=kPRA0W1kECg" target="_blank" rel="noopener">15 Sorting Algorithms in 6 Minutes</a></li>
<li><a href="http://www.wtoutiao.com/p/98aDH0.html" target="_blank" rel="noopener">视觉直观感受 7 种常用的排序算法</a></li>
<li><a href="https://zh.wikipedia.org/zh-cn/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">排序算法</a></li>
<li><a href="http://blog.csdn.net/cjf_iceking/article/details/7916194" target="_blank" rel="noopener">插入排序</a></li>
<li><a href="https://github.com/cdmh/sorting_algorithms" target="_blank" rel="noopener">sorting algorithms</a></li>
<li><a href="https://www.cs.usfca.edu/~galles/visualization/ComparisonSort.html" target="_blank" rel="noopener">comparisonSort</a></li>
<li><a href="http://visualgo.net/sorting" target="_blank" rel="noopener">visualgo</a></li>
<li><a href="http://sorting.at/" target="_blank" rel="noopener"><strong>sort algo</strong></a></li>
<li><a href="http://sortvis.org/index.html" target="_blank" rel="noopener">sortvis</a></li>
<li><a href="http://www.codeproject.com/Articles/132757/Visualization-and-Comparison-of-sorting-algorithms" target="_blank" rel="noopener">sort vis tool</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/25/programmer-float/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/25/programmer-float/" class="post-title-link" itemprop="url">浮点数你应该知道的基础知识</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-26 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-26T00:00:00+08:00">2016-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>4.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>4 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>


<p>作者：卢钧轶(cenalulu) 本文原文地址：<a href="http://cenalulu.github.io/linux/about-denormalized-float-number/" target="_blank" rel="noopener">http://cenalulu.github.io/linux/about-denormalized-float-number/</a></p>
<p>本文从一个有趣而又令人意外的实验展开，介绍一些关于浮点数你应该知道的基础知识</p>
<h2 id="一个有趣的实验"><a href="#一个有趣的实验" class="headerlink" title="一个有趣的实验"></a>一个有趣的实验</h2><p>本文从一个有趣而诡异的实验开始。最早这个例子博主是从 Stackoverflow上的一个问题中看到的。<br>为了提高可读性，博主这里做了改写，简化成了以下两段代码：</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

int main() {
    const float x=1.1;
    const float z=1.123;
    float y=x;
    for(int j=0;j&lt;90000000;j++)
    {
        y*=x;
        y/=z;
        y+=0.1f;
        y-=0.1f;
    }
    return 0;
}


#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

int main() {
    const float x=1.1;
    const float z=1.123;
    float y=x;
    for(int j=0;j&lt;90000000;j++)
    {
        y*=x;
        y/=z;
        y+=0;
        y-=0;
    }
    return 0;
}</code></pre><p>上面两段代码的唯一差别就是第一段代码中y+=0.1f，而第二段代码中是y+=0。<br>由于y会先加后减同样一个数值，照理说这两段代码的作用和效率应该是完全一样的,当然也是没有任何逻辑意义的。<br>假设现在我告诉你：其中一段代码的效率要比另一段慢7倍。想必读者会认为一定是y+=0.1f的那段慢，毕竟它和y+=0相比看上去要多一些运算。<br><strong>但是，实验结果，却出乎意料， y+=0的那段代码比y+=0.1f足足慢了7倍。</strong><br>世界观被颠覆了有木有？博主是在自己的Macbook Pro上进行的测试，有兴趣的读者也可以在自己的笔记本上试试。<br>（只要是支持SSE2指令集的CPU都会有相似的结果）。</p>
<pre><code>shell&gt; g++ code1.c -o test1
shell&gt; g++ code2.c -o test2
shell&gt; time ./test1

real    0m1.490s
user    0m1.483s
sys     0m0.003s

shell&gt; time ./test2

real    0m9.895s
user    0m9.871s
sys     0m0.009s</code></pre><p>当然 原文中的投票最高的回答解释的非常好，但博主第一次看的时候是一头雾水，因为大部分基础知识已经还给大学老师了。<br>所以，本着知其然还要知其所以然的态度，博主做了一个详尽的分析和思路整理过程。也希望读者能够从0开始解释这个诡异现象的原因。</p>
<h2 id="复习浮点数的二进制转换"><a href="#复习浮点数的二进制转换" class="headerlink" title="复习浮点数的二进制转换"></a>复习浮点数的二进制转换</h2><p>现在让我们复习大学计算机基础课程。<br>如果你熟练掌握了浮点数向二进制表达式转换的方法，那么你可以跳过这节。<br>我们先来看下浮点数二进制表达的三个组成部分。</p>
<p><img src="/images/float/float.png" alt="mmap" title="wizard"></p>
<p>三个主要成分是：</p>
<ul>
<li>Sign（1bit）：表示浮点数是正数还是负数。0表示正数，1表示负数</li>
<li>Exponent（8bits）：指数部分。类似于科学技术法中的M*10^N中的N，只不过这里是以2为底数而不是10。<br>需要注意的是，这部分中是以2^7-1即127，也即01111111代表2^0，转换时需要根据127作偏移调整。</li>
<li>Mantissa（23bits）：基数部分。浮点数具体数值的实际表示。</li>
</ul>
<p>下面我们来看个实际例子来解释下转换过程。 </p>
<ul>
<li>Step 1 改写整数部分 以数值<code>5.2</code>为例。先不考虑指数部分，我们先单纯的将十进制数改写成二进制。 整数部分很简单，<code>5.</code>即<code>101.</code>。</li>
<li>Step 2 改写小数部分 小数部分我们相当于拆成是<code>2^-1</code>一直到<code>2^-N</code>的和。<br>例如： <code>0.2 = 0.125+0.0625+0.007825+0.00390625</code>即<code>2^-3+2^-4+2^-7+2^-8....</code>，也即<code>.00110011001100110011</code></li>
<li>Step 3 规格化 现在我们已经有了这么一串二进制<code>101.00110011001100110011</code>。<br>然后我们要将它规格化，也叫<strong>Normalize</strong>。其实原理很简单就是保证小数点前只有一个bit。<br>于是我们就得到了以下表示：<code>1.0100110011001100110011 * 2^2</code>。<br>到此为止我们已经把改写工作完成，接下来就是要把bit填充到三个组成部分中去了。</li>
<li>Step 4 填充 指数部分（Exponent）：之前说过需要以127作为偏移量调整。<br>因此2的2次方，指数部分偏移成2+127即129，表示成<code>10000001</code>填入。<br>整数部分（Mantissa）：除了简单的填入外，需要特别解释的地方是<code>1.010011</code>中的整数部分1在填充时被舍去了。<br>因为规格化后的数值整部部分总是为1。<br>那大家可能有疑问了，省略整数部分后岂不是<code>1.010011</code>和<code>0.010011</code>就混淆了么？<br>其实并不会，如果你仔细看下后者：会发现他并不是一个规格化的二进制，可以改写成<code>1.0011 * 2^-2</code>。<br>所以省略小数点前的一个bit不会造成任何两个浮点数的混淆。 具体填充后的结果见下图</li>
</ul>
<p><img src="/images/float/float2.png" alt="mmap" title="build"></p>
<p>练习：如果想考验自己是否充分理解这节内容的话，可以随便写一个浮点数尝试转换。通过 浮点二进制转换工具可以验证答案。</p>
<h2 id="什么是Denormalized-Number"><a href="#什么是Denormalized-Number" class="headerlink" title="什么是Denormalized Number"></a>什么是Denormalized Number</h2><p>了解完浮点数的表达以后，不难看出浮点数的精度和指数范围有很大关系。<br>最低不能低过<code>2^-7-1</code>最高不能高过<code>2^8-1</code>（其中剔除了指数部分全0和全1的特殊情况）。<br>如果超出表达范围那么不得不舍弃末尾的那些小数，我们成为overflow和underflow。<br>甚至有时舍弃都无法表示，例如当我们要表示一个：<code>1.00001111*2^-7</code>这样的超小数值的时候就无法用规格化数值表示，<br>如果不想点其他办法的话，CPU内部就只能把它当做0来处理。<br>那么，这样做有什么问题呢？最显然易见的一种副作用就是：当多次做低精度浮点数舍弃的后，就会出现除数为0的exception，导致异常。<br>当然精度失准严重起来也可以要人命，以下这个事件摘自wikipedia</p>
<pre><code>On 25 February 1991, a loss of significance in a MIM-104 Patriot missile battery prevented 
it intercepting an incoming Scud missile in Dhahran, Saudi Arabia, 
contributing to the death of 28 soldiers from the U.S. 
Army’s 14th Quartermaster Detachment.[25] See also: Failure at Dhahran</code></pre><p>于是乎就出现了<strong>Denormalized Number（后称非规格化浮点）</strong>。<br>他和规格浮点的区别在于，<strong>规格浮点约定小数点前一位默认是1。而非规格浮点约定小数点前一位可以为0</strong>，<br>这样小数精度就相当于多了最多<code>2^22</code>范围。</p>
<p>但是，精度的提升是有代价的。由于CPU硬件只支持，或者默认对一个32bit的二进制使用规格化解码。<br>因此需要支持32bit非规格数值的转码和计算的话，需要额外的编码标识，也就是需要额外的硬件或者软件层面的支持。<br>以下是wiki上的两端摘抄，说明了非规格化计算的效率非常低。<br>一般来说，由软件对非规格化浮点数进行处理将带来极大的性能损失，而由硬件处理的情况会稍好一些，<br>但在多数现代处理器上这样的操作仍是缓慢的。<strong>极端情况下，规格化浮点数操作可能比硬件支持的非规格化浮点数操作快100倍。</strong></p>
<pre><code>For example when using NVIDIA’s CUDA platform, on gaming cards, 
calculations with double precision take 3 to 24 times longer to complete than calculations using single precision.</code></pre><p>如果要解释为什么有如此大的性能损耗，那就要需要涉及电路设计了，超出了博主的知识范围。<br>当然万能的wiki也是有答案的，有兴趣的读者可以自行查阅。</p>
<h2 id="回到实验"><a href="#回到实验" class="headerlink" title="回到实验"></a>回到实验</h2><p>总上面的分析中我们得出了以下结论：</p>
<ul>
<li>浮点数表示范围有限，精度受限于指数和底数部分的长度，超过精度的小数部分将会被舍弃（underflow）</li>
<li>为了表示更高精度的浮点数，出现了非规格化浮点数，但是他的计算成本非常高。</li>
<li>于是我们就可以发现通过几十上百次的循环后，y中存放的数值无限接近于零。<br>CPU将他表示为精度更高的非规格化浮点。<br>而当<code>y+0.1f</code>时为了保留跟重要的底数部分，之后无限接近0（也即y之前存的数值）被舍弃，当<code>y-0.1f</code>后，y又退化为了规格化浮点数。<br>并且之后的每次<code>y*x</code>和<code>y/z</code>时，CPU都执行的是规划化浮点运算。<br>而当<code>y+0</code>，由于加上0值后的y仍然可以被表示为非规格化浮点，因此整个循环的四次运算中CPU都会使用非规格浮点计算，效率就大大降低了。</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>当然，也有在程序内部也是有办法控制非规范化浮点的使用的。<br>在相关程序的上下文中加上<code>fesetenv(FE_DFL_DISABLE_SSE_DENORMS_ENV)</code>;<br>就可以迫使CPU放弃使用非规范化浮点计算，提高性能。<br>我们用这种办法修改上面实验中的代码后，<code>y+=0</code>的效率就和<code>y+=0.1f</code>就一样了。<br>甚至还比y+=0.1f更快了些，世界观又端正了不是么:) 修改后的代码如下</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;fenv.h&gt;
using namespace std;

int main() {
    fesetenv(FE_DFL_DISABLE_SSE_DENORMS_ENV);
    const float x=1.1;
    const float z=1.123;
    float y=x;
    for(int j=0;j&lt;90000000;j++)
    {
        y*=x;
        y/=z;
        y+=0;
        y-=0;
    }
    return 0;
}</code></pre><p>Reference</p>
<p>什么是非规格化浮点数<br><a href="http://stackoverflow.com/questions/9314534/why-does-changing-0-1f-to-0-slow-down-performance-by-10x" target="_blank" rel="noopener">Why does changing 0.1f to 0 slow down performance by 10x? IEEE floating point Floating point Denormal number</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/25/programmer-vim-cheatsheat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/25/programmer-vim-cheatsheat/" class="post-title-link" itemprop="url">史上最全Vim快捷键键位图 -- 入门到进阶</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-26 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-26T00:00:00+08:00">2016-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Editor/" itemprop="url" rel="index">
                    <span itemprop="name">Editor</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>643</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<p>作者：卢钧轶(cenalulu) 本文原文地址：<a href="http://cenalulu.github.io/linux/all-vim-cheatsheat/" target="_blank" rel="noopener">http://cenalulu.github.io/linux/all-vim-cheatsheat/</a></p>
<h2 id="经典版"><a href="#经典版" class="headerlink" title="经典版"></a>经典版</h2><p>下面这个键位图应该是大家最常看见的经典版了。<br>其实这个版本是一系列的入门教程键位图的组合结果。<br>要查看不同编辑模式下的键位图，可以看<a href="http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html" target="_blank" rel="noopener">这里打包下载</a><br>此外，这里还有简体中文版。</p>
<img src="/images/vim/classic.gif" height="400" width="600" />


<hr>
<h2 id="入门版"><a href="#入门版" class="headerlink" title="入门版"></a>入门版</h2><p>基本操作的入门版。<br><a href="https://github.com/ahrencode/Miscellaneous" target="_blank" rel="noopener">原版出处</a>还有keynote版本可供DIY以及其他相关有用的cheatsheet。</p>
<img src="/images/vim/entry.png" height="400" width="600" />

<hr>
<h2 id="进阶版"><a href="#进阶版" class="headerlink" title="进阶版"></a>进阶版</h2><p>下图是300DPI的超清大图，<br>另外<a href="http://michael.peopleofhonoronly.com/vim/" target="_blank" rel="noopener">查看原文</a>还有更多版本：黑白，低分辨率，色盲等</p>
<img src="/images/vim/advanced.png" height="400" width="600" />


<hr>
<h2 id="增强版"><a href="#增强版" class="headerlink" title="增强版"></a>增强版</h2><p>下图是一个更新时间较新的现代版，含有的信息也更丰富。<br><a href="http://vimcheatsheet.com/" target="_blank" rel="noopener">原文链接</a></p>
<img src="/images/vim/morden.png" height="400" width="600" />


<hr>
<h2 id="文字版"><a href="#文字版" class="headerlink" title="文字版"></a>文字版</h2><p><a href="http://tnerual.eriogerg.free.fr/vimqrc.pdf" target="_blank" rel="noopener">原文链接</a></p>
<img src="/images/vim/text.png" height="400" width="600" />
<img src="/images/vim/text2.png" height="400" width="600" />




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/24/programmer-optimize/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/24/programmer-optimize/" class="post-title-link" itemprop="url">程序优化</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-25 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-25T00:00:00+08:00">2016-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Prof/" itemprop="url" rel="index">
                    <span itemprop="name">Prof</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>


<p>程序优化是指程序效率的优化。一般来说，程序优化主要是以下三个步骤：</p>
<ol>
<li>算法优化</li>
<li>代码优化</li>
<li>指令优化</li>
</ol>
<h2 id="算法优化"><a href="#算法优化" class="headerlink" title="算法优化"></a><strong>算法优化</strong></h2><p>算法上的优化是必须首要考虑的，也是最重要的一步。<br>一般我们需要分析算法的时间复杂度，即处理时间与输入数据规模的一个量级关系，<br>一个优秀的算法可以将算法复杂度降低若干量级，<br>那么同样的实现，其平均耗时一般会比其他复杂度高的算法少（这里不代表任意输入都更快）。</p>
<p>比如说排序算法，快速排序的时间复杂度为O(nlogn)，<br>而插入排序的时间复杂度为O(n*n)，那么在统计意义下，快速排序会比插入排序快，<br>而且随着输入序列长度n的增加，两者耗时相差会越来越大。<br>但是，假如输入数据本身就已经是升序(或降序)，那么实际运行下来，快速排序会更慢。</p>
<h2 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a><strong>代码优化</strong></h2><p>代码优化一般需要与算法优化同步进行，代码优化主要是涉及到具体的编码技巧。<br>同样的算法与功能，不同的写法也可能让程序效率差异巨大。<br>一般而言，代码优化主要是针对循环结构进行分析处理。</p>
<h3 id="避免循环内部的乘-除-法以及冗余计算"><a href="#避免循环内部的乘-除-法以及冗余计算" class="headerlink" title="避免循环内部的乘(除)法以及冗余计算"></a><strong>避免循环内部的乘(除)法以及冗余计算</strong></h3><p>能把运算放在循环外的尽量提出去放在外部，循环内部不必要的乘除法可使用加法来替代等。</p>
<h3 id="避免循环内部有过多依赖和跳转，使cpu能流水起来"><a href="#避免循环内部有过多依赖和跳转，使cpu能流水起来" class="headerlink" title="避免循环内部有过多依赖和跳转，使cpu能流水起来"></a><strong>避免循环内部有过多依赖和跳转，使cpu能流水起来</strong></h3><p>关于CPU流水线技术可google/baidu，循环结构内部计算或逻辑过于复杂，将导致cpu不能流水，<br>那这个循环就相当于拆成了n段重复代码的效率。</p>
<pre><code>for(int i = 0; i &lt; N; i++)
{
    if(i &lt; 100) a[i] += 5;
    else if(i &lt; 200) a[i] += 10;
    else a[i] += 20;
}</code></pre><p>优化为：</p>
<pre><code>for(int i = 0; i &lt; 100; i++)
{
    a[i] += 5;
}
for(int i = 100; i &lt; 200; i++)
{
    a[i] += 10;
}
for(int i = 200; i &lt; N; i++)
{
    a[i] += 20;
}</code></pre><h3 id="定点化"><a href="#定点化" class="headerlink" title="定点化"></a><strong>定点化</strong></h3><p>定点化的思想是将浮点运算转换为整型运算，<br>定点化的做法是将数据乘上一个很大的数后，将所有运算转换为整数计算。<br>例如某个乘法我只关心小数点后3位，那把数据都乘上10000后，进行整型运算的结果也就满足所需的精度了。</p>
<h3 id="以空间换时间"><a href="#以空间换时间" class="headerlink" title="以空间换时间"></a><strong>以空间换时间</strong></h3><p>空间换时间最经典的就是查表法了，某些计算相当耗时，但其自变量的值域是比较有限的，<br>这样的情况可以预先计算好每个自变量对应的函数值，存在一个表格中，每次根据自变量的值去索引对应的函数值即可。</p>
<h3 id="预分配内存"><a href="#预分配内存" class="headerlink" title="预分配内存"></a><strong>预分配内存</strong></h3><p>预分配内存主要是针对需要循环处理数据的情况的。<br>比如视频处理，每帧图像的处理都需要一定的缓存，如果每帧申请释放，则势必会降低算法效率</p>
<h2 id="指令优化"><a href="#指令优化" class="headerlink" title="指令优化"></a><strong>指令优化</strong></h2><p>略。</p>
<h2 id="如何定位程序热点"><a href="#如何定位程序热点" class="headerlink" title="如何定位程序热点"></a><strong>如何定位程序热点</strong></h2><p>程序热点是指程序中最耗时的部分，一般程序优化工作都是优先去优化热点部分，那么如何来定位程序热点呢？</p>
<p>一般而言，主要有2种方法，一种是通过观察与分析，通过分析算法，自然能知道程序热点；<br>另一方面，观察代码结构，一般具有最大循环的地方就是热点，这也是前面那些优化手段都针对循环结构的原因。<br>另一种方法就是利用工具来找程序热点。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/24/programmer-stack-and-heap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/24/programmer-stack-and-heap/" class="post-title-link" itemprop="url">堆和栈</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-25 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-25T00:00:00+08:00">2016-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Memory/" itemprop="url" rel="index">
                    <span itemprop="name">Memory</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/MM/" itemprop="url" rel="index">
                    <span itemprop="name">MM</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>4.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>4 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a><strong>问题描述</strong></h2><p>编程语言书籍中经常解释值类型被创建在栈上，引用类型被创建在堆上，但是并没有本质上解释这堆和栈是什么。<br>我仅有高级语言编程经验，没有看过对此更清晰的解释。<br>我的意思是我理解什么是栈，但是它们到底是什么，在哪儿呢（站在实际的计算机物理内存的角度上看）？<br>在通常情况下由操作系统（OS）和语言的运行时（runtime）控制吗？<br>它们的作用范围是什么？<br>它们的大小由什么决定？<br>哪个更快？</p>
<h2 id="答案一"><a href="#答案一" class="headerlink" title="答案一"></a><strong>答案一</strong></h2><p>栈是为执行线程留出的内存空间。当函数被调用的时候，栈顶为局部变量和一些 bookkeeping 数据预留块。<br>当函数执行完毕，块就没有用了，可能在下次的函数调用的时候再被使用。<br>栈通常用后进先出（LIFO）的方式预留空间；<br>因此最近的保留块（reserved block）通常最先被释放。<br>这么做可以使跟踪堆栈变的简单；从栈中释放块（free block）只不过是指针的偏移而已。</p>
<p>堆（heap）是为动态分配预留的内存空间。<br>和栈不一样，从堆上分配和重新分配块没有固定模式；<br>你可以在任何时候分配和释放它。这样使得跟踪哪部分堆已经被分配和被释放变的异常复杂；<br>有许多定制的堆分配策略用来为不同的使用模式下调整堆的性能。</p>
<p>每一个线程都有一个栈，但是每一个应用程序通常都只有一个堆（尽管为不同类型分配内存使用多个堆的情况也是有的）。</p>
<p>直接回答你的问题： </p>
<ol>
<li>当线程创建的时候，操作系统（OS）为每一个系统级（system-level）的线程分配栈。<br>通常情况下，操作系统通过调用语言的运行时（runtime）去为应用程序分配堆。 </li>
<li>栈附属于线程，因此当线程结束时栈被回收。<br>堆通常通过运行时在应用程序启动时被分配，当应用程序（进程）退出时被回收。 </li>
<li>当线程被创建的时候，设置栈的大小。<br>在应用程序启动的时候，设置堆的大小，但是可以在需要的时候扩展（分配器向操作系统申请更多的内存）。 </li>
<li>栈比堆要快，因为它存取模式使它可以轻松的分配和重新分配内存（指针/整型只是进行简单的递增或者递减运算），<br>然而堆在分配和释放的时候有更多的复杂的 bookkeeping 参与。<br>另外，在栈上的每个字节频繁的被复用也就意味着它可能映射到处理器缓存中，所以很快（译者注：局部性原理）。</li>
</ol>
<h2 id="答案二"><a href="#答案二" class="headerlink" title="答案二"></a><strong>答案二</strong></h2><h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a><strong>Stack</strong></h3><ul>
<li>和堆一样存储在计算机 RAM 中。</li>
<li>在栈上创建变量的时候会扩展，并且会自动回收。</li>
<li>相比堆而言在栈上分配要快的多。</li>
<li>用数据结构中的栈实现。</li>
<li>存储局部数据，返回地址，用做参数传递。</li>
<li>当用栈过多时可导致栈溢出（无穷次（大量的）的递归调用，或者大量的内存分配）。</li>
<li>在栈上的数据可以直接访问（不是非要使用指针访问）。</li>
<li>如果你在编译之前精确的知道你需要分配数据的大小并且不是太大的时候，可以使用栈。</li>
<li>当你程序启动时决定栈的容量上限。</li>
</ul>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a><strong>Heap</strong></h3><ul>
<li>和栈一样存储在计算机RAM。</li>
<li>在堆上的变量必须要手动释放，不存在作用域的问题。数据可用 delete, delete[] 或者 free 来释放。</li>
<li>相比在栈上分配内存要慢。</li>
<li>通过程序按需分配。</li>
<li>大量的分配和释放可造成内存碎片。</li>
<li>在 C++ 中，在堆上创建数的据使用指针访问，用 new 或者 malloc 分配内存。</li>
<li>如果申请的缓冲区过大的话，可能申请失败。</li>
<li>在运行期间你不知道会需要多大的数据或者你需要分配大量的内存的时候，建议你使用堆。</li>
<li>可能造成内存泄露。</li>
</ul>
<h2 id="答案三"><a href="#答案三" class="headerlink" title="答案三"></a><strong>答案三</strong></h2><p>堆和栈是两种内存分配的两个统称。可能有很多种不同的实现方式，但是实现要符合几个基本的概念:</p>
<ol>
<li>对栈而言，栈中的新加数据项放在其他数据的顶部，移除时你也只能移除最顶部的数据（不能越位获取）。</li>
<li>对堆而言，数据项位置没有固定的顺序。你可以以任何顺序插入和删除，因为他们没有“顶部”数据这一概念。</li>
</ol>
<h3 id="在通常情况下由操作系统（OS）和语言的运行时（runtime）控制吗？"><a href="#在通常情况下由操作系统（OS）和语言的运行时（runtime）控制吗？" class="headerlink" title="在通常情况下由操作系统（OS）和语言的运行时（runtime）控制吗？"></a><strong>在通常情况下由操作系统（OS）和语言的运行时（runtime）控制吗？</strong></h3><p>如前所述，堆和栈是一个统称，可以有很多的实现方式。<br>计算机程序通常有一个栈叫做调用栈，<br>用来存储当前函数调用相关的信息（比如：主调函数的地址，局部变量），<br>因为函数调用之后需要返回给主调函数。<br>栈通过扩展和收缩来承载信息。<br>实际上，程序不是由运行时来控制的，它由编程语言、操作系统甚至是系统架构来决定。</p>
<p>堆是在任何内存中动态和随机分配的（内存的）统称；<br>也就是无序的。内存通常由操作系统分配，通过应用程序调用 API 接口去实现分配。<br>在管理动态分配内存上会有一些额外的开销，不过这由操作系统来处理。</p>
<h3 id="它们的作用范围是什么？"><a href="#它们的作用范围是什么？" class="headerlink" title="它们的作用范围是什么？"></a><strong>它们的作用范围是什么？</strong></h3><p>调用栈是一个低层次的概念，就程序而言，它和“作用范围”没什么关系。<br>如果你反汇编一些代码，你就会看到指针引用堆栈部分。<br>就高级语言而言，语言有它自己的范围规则。<br>一旦函数返回，函数中的局部变量会直接直接释放。你的编程语言就是依据这个工作的。</p>
<p>在堆中，也很难去定义。<br>作用范围是由操作系统限定的，但是你的编程语言可能增加它自己的一些规则，去限定堆在应用程序中的范围。<br>体系架构和操作系统是使用虚拟地址的，然后由处理器翻译到实际的物理地址中，还有页面错误等等。<br>它们记录那个页面属于那个应用程序。不过你不用关心这些，<br>因为你仅仅在你的编程语言中分配和释放内存，和一些错误检查（出现分配失败和释放失败的原因）。</p>
<h3 id="它们的大小由什么决定？"><a href="#它们的大小由什么决定？" class="headerlink" title="它们的大小由什么决定？"></a><strong>它们的大小由什么决定？</strong></h3><p>依旧，依赖于语言，编译器，操作系统和架构。<br>栈通常提前分配好了，因为栈必须是连续的内存块。<br>语言的编译器或者操作系统决定它的大小。<strong>不要在栈上存储大块数据，这样可以保证有足够的空间不会溢出</strong>，<br>除非出现了无限递归的情况（额，栈溢出了）或者其它不常见了编程决议。</p>
<p>堆是任何可以动态分配的内存的统称。<br>这要看你怎么看待它了，它的大小是变动的。<br>在现代处理器中和操作系统的工作方式是高度抽象的，<br>因此你在正常情况下不需要担心它实际的大小，除非你必须要使用你还没有分配的内存或者已经释放了的内存。</p>
<h3 id="哪个更快一些？"><a href="#哪个更快一些？" class="headerlink" title="哪个更快一些？"></a><strong>哪个更快一些？</strong></h3><p>栈更快因为所有的空闲内存都是连续的，因此不需要对空闲内存块通过列表来维护。<br>只是一个简单的指向当前栈顶的指针。<br>编译器通常用一个专门的、快速的寄存器来实现。<br>更重要的一点事是，随后的栈上操作通常集中在一个内存块的附近，这样的话有利于处理器的高速访问（译者注：局部性原理）。</p>
<h2 id="答案四"><a href="#答案四" class="headerlink" title="答案四"></a><strong>答案四</strong></h2><p>你问题的答案是依赖于实现的，根据不同的编译器和处理器架构而不同。下面简单的解释一下：</p>
<ol>
<li>栈和堆都是用来从底层操作系统中获取内存的。</li>
<li>在多线程环境下每一个线程都可以有他自己完全的独立的栈，但是他们共享堆。并行存取被堆控制而不是栈。</li>
</ol>
<h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a><strong>堆</strong></h3><ol>
<li><strong>堆包含一个链表来维护已用和空闲的内存块。</strong><br>在堆上新分配（用 new 或者 malloc）内存是从空闲的内存块中找到一些满足要求的合适块。<br>这个操作会更新堆中的块链表。这些元信息也存储在堆上，经常在每个块的头部一个很小区域。</li>
<li><strong>堆的增加通常从低地址向高地址扩展。因此你可以认为堆随着内存分配而不断的增加大小。</strong><br>如果申请的内存大小很小的话，通常从底层操作系统中得到比申请大小要多的内存。</li>
<li>申请和释放许多小的块可能会产生如下状态：在已用块之间存在很多小的空闲块。<br>进而申请大块内存失败，虽然空闲块的总和足够，但是空闲的小块是零散的，不能满足申请的大小。这叫做“堆碎片”。</li>
<li>当旁边有空闲块的已用块被释放时，新的空闲块可能会与相邻的空闲块合并为一个大的空闲块，这样可以有效的减少“堆碎片”的产生。</li>
</ol>
<p><img src="/images/stack_heap/0" alt="Heap"></p>
<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a><strong>栈</strong></h3><ol>
<li>栈经常与 sp 寄存器（译者注：”stack pointer”，了解汇编的朋友应该都知道）一起工作，最初 sp 指向栈顶（栈的高地址）。</li>
<li>CPU 用 push 指令来将数据压栈，用 pop 指令来弹栈。</li>
</ol>
<p><strong>当用 push 压栈时，sp 值减少（向低地址扩展）。当用 pop 弹栈时，sp 值增大。</strong>存储和获取数据都是 CPU 寄存器的值。<br>3. 当函数被调用时，CPU使用特定的指令把当前的 IP （译者注：“instruction pointer”，是一个寄存器，用来记录 CPU 指令的位置）压栈。<br>即执行代码的地址。CPU 接下来将调用函数地址赋给 IP ，进行调用。当函数返回时，旧的 IP 被弹栈，CPU 继续去函数调用之前的代码。<br>4. 当进入函数时，sp 向下扩展，扩展到确保为函数的局部变量留足够大小的空间。<br>如果函数中有一个 32-bit 的局部变量会在栈中留够四字节的空间。当函数返回时，sp 通过返回原来的位置来释放空间。<br>5. 如果函数有参数的话，在函数调用之前，会将参数压栈。函数中的代码通过 sp 的当前位置来定位参数并访问它们。<br>6. 函数嵌套调用和使用魔法一样，每一次新调用的函数都会分配函数参数，<br>返回值地址、局部变量空间、嵌套调用的活动记录都要被压入栈中。函数返回时，按照正确方式的撤销。<br>7. <strong>栈要受到内存块的限制，不断的函数嵌套/为局部变量分配太多的空间，可能会导致栈溢出。</strong><br>当栈中的内存区域都已经被使用完之后继续向下写（低地址），会触发一个 CPU 异常。<br>这个异常接下会通过语言的运行时转成各种类型的栈溢出异常。</p>
<p><img src="/images/stack_heap/1" alt="Stack"></p>
<h3 id="函数的分配可以用堆来代替栈吗？"><a href="#函数的分配可以用堆来代替栈吗？" class="headerlink" title="函数的分配可以用堆来代替栈吗？"></a><strong>函数的分配可以用堆来代替栈吗？</strong></h3><p>不可以的，函数的活动记录（即局部或者自动变量）被分配在栈上， 这样做不但存储了这些变量，而且可以用来嵌套函数的追踪。</p>
<p>堆的管理依赖于运行时环境，C 使用 malloc ，C++ 使用 new ，但是很多语言有垃圾回收机制。</p>
<p><strong>栈是更低层次的特性与处理器架构紧密的结合到一起。<br>当堆不够时可以扩展空间，这不难做到，因为可以有库函数可以调用。<br>但是，扩展栈通常来说是不可能的，因为在栈溢出的时候，执行线程就被操作系统关闭了，这已经太晚了。</strong></p>
<p>1.<a href="http://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&mid=206795684&idx=1&sn=c0edf55884ce6145540dcfe8309d1706#rd" target="_blank" rel="noopener">什么是堆和栈，它们在哪儿？</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/20/git-pull-and-fetch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/04/20/git-pull-and-fetch/" class="post-title-link" itemprop="url">git pull与git fetch区别</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-04-21 00:00:00" itemprop="dateCreated datePublished" datetime="2016-04-21T00:00:00+08:00">2016-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-21 14:59:09" itemprop="dateModified" datetime="2020-09-21T14:59:09+08:00">2020-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>521</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Git中从远程的分支获取最新的版本到本地有这样2个命令：</p>
<h2 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h2><p>相当于是从远程获取最新版本到本地，不会自动merge</p>
<pre><code>git fetch origin master
git log -p master..origin/master
git merge origin/master</code></pre><p>以上命令的含义：</p>
<ul>
<li>首先从远程的origin的master主分支下载最新的版本到origin/master分支上</li>
<li>然后比较本地的master分支和origin/master分支的差别</li>
<li>最后进行合并</li>
</ul>
<p>上述过程其实可以用以下更清晰的方式来进行：</p>
<pre><code>git fetch origin master:tmp
git diff tmp 
git merge tmp</code></pre><p>从远程获取最新的版本到本地的test分支上，之后再进行比较合并</p>
<h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><p>相当于是从远程获取最新版本并merge到本地</p>
<pre><code>git pull origin master</code></pre><p>上述命令其实相当于</p>
<pre><code>git fetch 
git merge</code></pre><p>在实际使用中，git fetch更安全一些<br>因为在merge前，我们可以查看更新情况，然后再决定是否合并</p>
<ol>
<li><a href="http://www.cnblogs.com/flying_bat/p/3408634.html" target="_blank" rel="noopener">Git 少用 Pull 多用 Fetch 和 Merge</a></li>
<li><a href="http://blog.csdn.net/a19881029/article/details/42245955" target="_blank" rel="noopener">git fetch和git pull之间的区别</a></li>
<li><a href="http://www.cnblogs.com/ToDoToTry/p/4095626.html" target="_blank" rel="noopener">真正理解 git fetch, git pull 以及 FETCH_HEAD</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/24/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/26/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Breeze.Temple"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Breeze.Temple</p>
  <div class="site-description" itemprop="description">Breeze.Temple</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">457</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">495</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/breezetemple" title="GitHub &rarr; https://github.com/breezetemple" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://bitbucket.org" title="BitBucket &rarr; https://bitbucket.org" rel="noopener" target="_blank"><i class="fa fa-fw fa-bitbucket"></i>BitBucket</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://breezetemple.github.io/" title="http://breezetemple.github.io/" rel="noopener" target="_blank">Breeze.Temple's HomePage</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Breeze.Temple</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">18:29</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>














  

  


  <link rel="stylesheet" href="/js/highlight/styles/solarized-dark.css">
  <script src="/js/highlight/highlight.pack.js"></script>
  <script type="text/javascript">
      $(function() {
          hljs.initHighlighting();
      });
  </script>

</body>
</html>
