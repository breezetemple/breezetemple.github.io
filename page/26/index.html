<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Breeze.Temple">
<meta property="og:type" content="website">
<meta property="og:title" content="IT日记">
<meta property="og:url" content="http://yoursite.com/page/26/index.html">
<meta property="og:site_name" content="IT日记">
<meta property="og:description" content="Breeze.Temple">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Breeze.Temple">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/26/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>IT日记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IT日记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Life is Now.</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/11/02/printf-formats/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/11/02/printf-formats/" class="post-title-link" itemprop="url">printf格式化输出</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-11-03 00:00:00" itemprop="dateCreated datePublished" datetime="2015-11-03T00:00:00+08:00">2015-11-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="格式输出控制符"><a href="#格式输出控制符" class="headerlink" title="格式输出控制符"></a><strong>格式输出控制符</strong></h2><p>printf的格式控制的完整格式：<strong>%</strong>  <strong>-</strong>  <strong>0</strong>  <strong>m.n</strong>  <strong>l</strong>或<strong>h</strong>:</p>
<ol>
<li>%：格式说明的起始符号，不可缺少。</li>
<li>-： 有-表示左对齐输出，如省略表示右对齐输出。</li>
<li>0：有0表示指定空位填0,如省略表示指定空位不填。</li>
<li>m.n：m指域宽，即对应的输出项在输出设备上所占的字符数。n指精度，用于说明输出的实型数的小数位数。未指定n时，隐含的精度为n=6位。<br>针对字符输出，%m.ns：输出占m列，但只取字符串中左端n个字符。</li>
<li>l：l对整型指long型，对实型指double型。</li>
<li>h：用于将整型的格式字符修正为short型。</li>
</ol>
<h2 id="格式输出数据类型控制"><a href="#格式输出数据类型控制" class="headerlink" title="格式输出数据类型控制"></a><strong>格式输出数据类型控制</strong></h2><ol>
<li>d格式：用来输出十进制整数。%ld：输出长整型数据。%md：m为指定的输出字段的宽度。</li>
<li>o格式：以无符号八进制形式输出整数。对长整型可以用”%lo”格式输出。同样也可以指定字段宽度用“%mo”格式输出。</li>
<li>x格式：以无符号十六进制形式输出整数。对长整型可以用”%lx”格式输出。同样也可以指定字段宽度用”%mx”格式输出。</li>
<li>u格式：以无符号十进制形式输出整数。对长整型可以用”%lu”格式输出。同样也可以指定字段宽度用“%mu”格式输出。</li>
<li>c格式：输出一个字符。</li>
<li>s格式：用来输出一个字符串</li>
<li>f格式：用来输出实数（包括单、双精度），以小数形式输出。</li>
<li>e格式：以指数形式输出实数。</li>
<li>g格式：自动选f格式或e格式中较短的一种输出，且不输出无意义的零。</li>
</ol>
<h2 id="m-n格式另一种表述"><a href="#m-n格式另一种表述" class="headerlink" title="m.n格式另一种表述"></a><strong>m.n格式另一种表述</strong></h2><p>对于m.n的格式还可以用如下方法表示：</p>
<pre><code>printf(“%*.*s\n”,m,n,ch);</code></pre><p>前边的*定义的是总的宽度，后边的定义的是输出的个数。<br>分别对应外面的参数m和n 。<br>这种方法的好处是可以在语句之外对参数m和n赋值，从而控制输出格式。</p>
<p>例如：函数接口传给你一个没有“\0”结尾的字符串str和他的长度str_len，调试的时候你需要将其打印出来。</p>
<pre><code>printf(&quot;%.*s\n&quot;, str_len, str);</code></pre><h2 id="printf输出字符串长度"><a href="#printf输出字符串长度" class="headerlink" title="printf输出字符串长度"></a><strong>printf输出字符串长度</strong></h2><p>输出格式 <strong>%n</strong> 可以将所输出字符串的长度值赋绐一个变量:</p>
<pre><code>int slen;
printf(“hello world%n”, &amp;slen);</code></pre><p>执行后变量slen被赋值为11。</p>
<h2 id="输出颜色"><a href="#输出颜色" class="headerlink" title="输出颜色"></a><strong>输出颜色</strong></h2><pre><code>printf(&quot;\033[31m test print color \033[0m\n&quot;);</code></pre><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a><strong>示例</strong></h2><pre><code>printf(&quot;%3s, \n%7.2s, \n%.4s, \n%-5.3s\n&quot;, &quot;PRINTF&quot;, &quot;PRINTF&quot;, &quot;PRINTF&quot;, &quot;PRINTF&quot;);
gcc main.c
./a.out
PRINTF, 
     PR, 
PRIN, 
PRI  </code></pre><p>解析如下：</p>
<ol>
<li><strong>%s</strong>原样输出字符串: %s</li>
<li><strong>%ns</strong>输出指定长度n的字符串, 超长时不截断, 不足时右对齐: %3s</li>
<li><strong>%m.ns</strong>输出指定长度的字符串, 超长时截断, 不足时<strong>右对齐</strong>，m为最终的字符串输出长度，n为从参数字符串中取出的子串长度: %7.2s</li>
<li><strong>%.ns</strong>输出指定长度的字符串, 超长时截断，不足时右对齐: %.4s; 如果使用 %.8s 与%s %3s效果一样</li>
<li><strong>%-m.ns</strong>输出指定长度的字符串, 超长时截断, 不足时<strong>左对齐</strong>: %-5.3s</li>
</ol>
<p>通过上述用例，所谓超长时截断用到的n并不是只在超长时才起作用，而是不管你有没有超长，都必须截取这么长。<br>上述m,n是可以动态指定的，方法是用*代替m或者n，然后在参数列表里加上一个数字参数</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/31/python-pyinstaller/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/31/python-pyinstaller/" class="post-title-link" itemprop="url">使用pyinstaller打包python程序</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-11-01 00:00:00" itemprop="dateCreated datePublished" datetime="2015-11-01T00:00:00+08:00">2015-11-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>3 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<p>常用的Python打包为exe工具有：</p>
<ol>
<li>py2exe</li>
<li>pyinstaller</li>
<li>cxfreeze</li>
</ol>
<p>选择使用方便的pyinstaller作为打包工具。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>有两种方式：</p>
<ol>
<li>官网下载后解压缩到需要的文件夹就可以执行，不需要安装。</li>
<li>pip 方式安装升级： <strong>pip install pyinstaller</strong> 和 <strong>pip install –upgrade pyinstaller</strong></li>
</ol>
<p>使用第二种方式安装pyinstaller，安装过程中遇到一些环境问题，主要是pip，google解决之。</p>
<pre><code>python2.7 -m pip install -U setuptools
python3.4 -m pip install -U setuptools
python2.7 -m pip install pyinstaller
python3.4 -m pip install pyinstaller</code></pre><p>执行pyinstaller可能遇到如下问题：</p>
<pre><code>FileNotFoundError: Path or glob &quot;/usr/include/python3.4m/pyconfig.h&quot; not found or matches no files.</code></pre><p><a href="http://stackoverflow.com/questions/31767469/pyinstaller-path-or-glob-usr-include-python3-4m-pyconfig-h-not-found-or-matc" target="_blank" rel="noopener">文章</a><br>解决：</p>
<pre><code>sudo apt-get install libpython3.4-dev</code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>测试代码：</p>
<pre><code>#!/usr/bin/env python3.4
# -*- coding: utf-8 -*-

from tkinter import *

root = Tk()
root.title(&#39;测试界面&#39;)
root.config(height=480,pady=10)

title = Label(root,text=&#39;测试控件&#39;,font=&#39;微软雅黑 -23 bold&#39;,fg=&#39;#fa8723&#39;)
title.pack()

root.mainloop()                         </code></pre><p>执行打包命令：</p>
<pre><code>✘ /data/OpenSourceCode/python/tkinter/test  &gt; pyinstaller -F tk-1030.py
28 INFO: PyInstaller: 3.0
28 INFO: Python: 3.4.3
28 INFO: Platform: Linux-3.19.0-32-generic-x86_64-with-Ubuntu-15.04-vivid
28 INFO: wrote /data/OpenSourceCode/python/tkinter/test/tk-1030.spec
29 INFO: UPX is not available.
30 INFO: Extending PYTHONPATH with /data/OpenSourceCode/python/tkinter/test
31 INFO: checking Analysis
31 INFO: Building Analysis because out00-Analysis.toc is non existent
31 INFO: Initializing module dependency graph...
96 INFO: Initializing module graph hooks...
110 INFO: Analyzing base_library.zip ...
1864 INFO: Processing pre-find module path hook   distutils
3560 INFO: running Analysis out00-Analysis.toc
3647 INFO: Analyzing /data/OpenSourceCode/python/tkinter/test/tk-1030.py
3834 INFO: Looking for import hooks ...
3839 INFO: Processing hook   hook-sysconfig.py
3859 INFO: Processing hook   hook-pydoc.py
3860 INFO: Processing hook   hook-_tkinter.py
3934 INFO: checking Tree
3934 INFO: Building Tree because out00-Tree.toc is non existent
3934 INFO: Building Tree out00-Tree.toc
3954 INFO: checking Tree
3954 INFO: Building Tree because out01-Tree.toc is non existent
3954 INFO: Building Tree out01-Tree.toc
3963 INFO: Processing hook   hook-encodings.py
3983 INFO: Processing hook   hook-distutils.py
3984 INFO: Processing hook   hook-xml.py
4272 INFO: Processing hook   hook-xml.sax.py
4281 INFO: Looking for ctypes DLLs
4628 INFO: Analyzing run-time hooks ...
4631 INFO: Including run-time hook &#39;pyi_rth__tkinter.py&#39;
4643 INFO: Looking for dynamic libraries
5008 INFO: Looking for eggs
5008 INFO: Python library not in binary depedencies. Doing additional searching...
5197 INFO: Using Python library /usr/lib/x86_64-linux-gnu/libpython3.4m.so.1.0
5204 INFO: Warnings written to /data/OpenSourceCode/python/tkinter/test/build/tk-1030/warntk-1030.txt
5218 INFO: checking PYZ
5218 INFO: Building PYZ because out00-PYZ.toc is non existent
5218 INFO: Building PYZ (ZlibArchive) /data/OpenSourceCode/python/tkinter/test/build/tk-1030/out00-PYZ.pyz
5430 INFO: checking PKG
5430 INFO: Building PKG because out00-PKG.toc is non existent
5430 INFO: Building PKG (CArchive) out00-PKG.pkg
10161 INFO: Bootloader /usr/local/lib/python3.4/dist-packages/PyInstaller/bootloader/Linux-64bit/run
10161 INFO: checking EXE
10161 INFO: Building EXE because out00-EXE.toc is non existent
10161 INFO: Building EXE from out00-EXE.toc
10167 INFO: Appending archive to EXE /data/OpenSourceCode/python/tkinter/test/dist/tk-1030</code></pre><p>exe文件生成在dist文件夹中，执行命令验证正常：</p>
<pre><code>✔ /data/OpenSourceCode/python/tkinter/test  &gt; ./dist/tk-1030</code></pre><ol>
<li><a href="http://www.cnblogs.com/chjbbs/p/3533187.html" target="_blank" rel="noopener">关于python打包成exe的一点经验之谈</a></li>
<li><a href="http://www.biubiu.net/blog/pyinstaller-install-use/" target="_blank" rel="noopener">PYINSTALLER 安装和使用</a></li>
<li><a href="http://www.py2exe.org/index.cgi/Tutorial" target="_blank" rel="noopener">py2exe Tutorial</a></li>
<li><a href="http://pythonhosted.org/PyInstaller/" target="_blank" rel="noopener">PyInstaller Manual</a></li>
<li><a href="https://github.com/pyinstaller/pyinstaller/wiki/Supported-Packages" target="_blank" rel="noopener">PYInstaller Supported Packages</a></li>
<li><a href="http://cx-freeze.readthedocs.org/en/latest/index.html" target="_blank" rel="noopener">cx_Freeze’s documentation</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/31/python-Tkinter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/31/python-Tkinter/" class="post-title-link" itemprop="url">python Tkinter编程</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-11-01 00:00:00" itemprop="dateCreated datePublished" datetime="2015-11-01T00:00:00+08:00">2015-11-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>python提供了多个图形开发界面的库，几个常用Python GUI库如下：</p>
<ul>
<li>Tkinter： Tkinter模块(“Tk 接口”)是Python的标准Tk GUI工具包的接口.<br>Tk和Tkinter可以在大多数的Unix平台下使用,同样可以应用在Windows和Macintosh系统里.<br>Tk8.0的后续版本可以实现本地窗口风格,并良好地运行在绝大多数平台中。</li>
<li>wxPython：wxPython 是一款开源软件，是 Python 语言的一套优秀的 GUI 图形库，<br>允许 Python 程序员很方便的创建完整的、功能键全的 GUI 用户界面。</li>
<li>Jython：Jython程序可以和Java无缝集成。除了一些标准模块，Jython使用Java的模块。<br>Jython几乎拥有标准的Python中不依赖于C语言的全部模块。<br>比如，Jython的用户界面将使用Swing，AWT或者SWT。Jython可以被动态或静态地编译成Java字节码。</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/10/31/python-Tkinter/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/29/python-pip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/29/python-pip/" class="post-title-link" itemprop="url">python pip执行错误</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-30 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-30T00:00:00+08:00">2015-10-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ImportError-cannot-import-name-IncompleteRead"><a href="#ImportError-cannot-import-name-IncompleteRead" class="headerlink" title="ImportError: cannot import name IncompleteRead"></a>ImportError: cannot import name IncompleteRead</h2><pre><code>pip -h
ImportError: cannot import name IncompleteRead</code></pre><p>pip出现问题，执行修复：</p>
<pre><code>sudo apt-get remove python-pip
sudo apt-get install python-pip</code></pre><p>没有解决问题，尝试另一种：</p>
<pre><code>sudo easy_install pip</code></pre><p>解决此问题</p>
<h2 id="ImportError-No-module-named-‘pip’"><a href="#ImportError-No-module-named-‘pip’" class="headerlink" title="ImportError: No module named ‘pip’"></a>ImportError: No module named ‘pip’</h2><p>Pip则是一种更为高级的安装工具，它依赖于Setuptools</p>
<pre><code>pip list
Traceback (most recent call last):
File &quot;/usr/local/bin/pip&quot;, line 9, in &lt;module&gt;
load_entry_point(&#39;pip==1.4.1&#39;, &#39;console_scripts&#39;, &#39;pip&#39;)()
File &quot;/usr/local/lib/python3.4/dist-packages/setuptools-1.1.5-py3.4.egg /pkg_resources.py&quot;, line 357, in load_entry_point
def get_entry_info(dist, group, name):
File &quot;/usr/local/lib/python3.4/dist-packages/setuptools-1.1.5-py3.4.egg/pkg_resources.py&quot;, line 2394, in load_entry_point
break
File &quot;/usr/local/lib/python3.4/dist-packages/setuptools-1.1.5-py3.4.egg/pkg_resources.py&quot;, line 2108, in load
name = some.module:some.attr [extra1,extra2]
ImportError: No module named &#39;pip&#39;

$ which pip
/usr/local/bin/pip

$ python2.7 -m pip //here can be just python, btw
Usage:   
/usr/bin/python2.7 -m pip &lt;command&gt; [options]
//and so on...

$ python3.4 -m pip
/usr/bin/python3.4: No module named pip</code></pre><p>需要安装python3.4下的pip</p>
<pre><code>$ curl https://bootstrap.pypa.io/get-pip.py | python3.4
$ python{2.7,3.4} -m pip install -U setuptools</code></pre><p>然后执行</p>
<pre><code>pip list
pip install pyinstaller</code></pre><p>均正确，解决此问题</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/29/python-ImageTK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/29/python-ImageTK/" class="post-title-link" itemprop="url">python ImageTk加载错误</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-30 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-30T00:00:00+08:00">2015-10-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>510</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>python中使用PIL ImageTK出现以下问题：</p>
<pre><code>Traceback (most recent call last):
    File &quot;./ExportXiamiList.py&quot;, line 4, in &lt;module&gt;
        from tkinter import *
ImportError: No module named tkinter</code></pre><p>Ubuntu下环境：</p>
<pre><code>ExportXiamiList-master &gt; python
python            python2.7         python2-config    python3.3         python3.4         python3m                          
python2           python2.7-config  python3           python3.3m        python3.4m        python-config            </code></pre><p>安装如下包，不起作用：</p>
<pre><code>sudo apt-get install python-pil python-pil.imagetk --reinstall</code></pre><p>继续安装如下包解决问题：</p>
<pre><code>sudo apt-get install python3-pil python3-pil.imagetk</code></pre><p>python中ImageTK用法如下：</p>
<pre><code>from PIL import Image
from PIL import ImageTk</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/27/shell-name-suffix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/27/shell-name-suffix/" class="post-title-link" itemprop="url">shell提取文件扩展名或文件名</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-28 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-28T00:00:00+08:00">2015-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index">
                    <span itemprop="name">Shell</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<p>在shell中用于提取文件名或后缀，需要用到以下几个操作符： <strong>%、%%、#、##</strong></p>
<h2 id="和-操作符"><a href="#和-操作符" class="headerlink" title="% 和 %% 操作符"></a><strong>% 和 %% 操作符</strong></h2><p>用法：</p>
<pre><code>${VAR%.*}
${VAR%%.*}</code></pre><p><strong>${VAR%.*}</strong>含义：从<strong>$VAR</strong>中<strong>删除</strong>位于 <strong>%</strong> 右侧的通配符左右匹配的字符串，<strong>通配符从右向左进行匹配</strong>。</p>
<ul>
<li><strong>% 属于非贪婪操作符</strong>，从右向左匹配最短结果</li>
<li><strong>%% 属于贪婪操作符</strong>，从右向左匹配符合条件的最长字符串</li>
</ul>
<p>示例如下：</p>
<pre><code>file=&quot;abc.c&quot;
name=${file%.*}
echo file name is: $name

输出结果：
file name is: abc</code></pre><p>变量 name 赋值abc.c，那么通配符从右向左就会匹配到 .c，所有从 $VAR 中删除匹配结果。</p>
<pre><code>file=&quot;text.gif.bak.2012&quot;
name=${file%.*}
name2=${file%%.*}
echo file name is: $name
echo file name is: $name2

输出结果：
file name is: text.gif.bak    //使用 %
file name is: text            //使用 %%</code></pre><p>操作符 %% 使用 .* 从右向左贪婪匹配到 .gif.bak.2012</p>
<h2 id="和-操作符-1"><a href="#和-操作符-1" class="headerlink" title="# 和 ## 操作符"></a><strong># 和 ## 操作符</strong></h2><p>用法：</p>
<pre><code>${VAR#*.}
${VAR##*.}</code></pre><p><strong>${VAR#*.}</strong> 含义：从 <strong>$VAR</strong> 中<strong>删除</strong>位于 <strong>#</strong> 右侧的通配符所匹配的字符串，<strong>通配符是左向右进行匹配</strong>。</p>
<ul>
<li><strong># 属于非贪婪操作符</strong>，从左向右匹配最短结果</li>
<li><strong>## 属于贪婪操作符</strong>，从左向右匹配符合条件的最长字符串</li>
</ul>
<p>符示例：</p>
<pre><code>file=&quot;text.gif&quot;
suffix=${file#*.}
echo suffix is: $suffix

输出结果：
suffix is: gif


file=&quot;text.gif.bak.2012.txt&quot;
suffix=${file#*.}
suffix2=${file##*.}
echo suffix is: $suffix
echo suffix is: $suffix2

输出结果：
suffix is: text.gif.bak.2012     //使用 #
suffix2 is: txt                  //使用 ##</code></pre><p>操作符 ## 使用 *. 从左向右贪婪匹配到 text.gif.bak.2012</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><pre><code>url=&quot;www.baidu.com&quot;

echo ${url%.*}      #移除 .* 所匹配的最右边的内容。
www.baidu

echo ${url%%.*}     #将从右边开始一直匹配到最左边的 *. 移除，贪婪操作符。
www

echo ${url#*.}      #移除 *. 所有匹配的最左边的内容。
baidu.com

echo ${url##*.}     #将从左边开始一直匹配到最右边的 *. 移除，贪婪操作符。
com</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/27/shell-getopts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/27/shell-getopts/" class="post-title-link" itemprop="url">shell脚本的命令行选项解析</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-28 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-28T00:00:00+08:00">2015-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index">
                    <span itemprop="name">Shell</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<hr>
<p>标准UNIX命一般都提供大量的选项和参数，例如：</p>
<pre><code>ps --help
Usage:
ps [options]

Try &#39;ps --help &lt;simple|list|output|threads|misc|all&gt;&#39;
or &#39;ps --help &lt;s|l|o|t|m|a&gt;&#39;
for additional help text.</code></pre><p>在这些工具的命令行处理中使用了C函数<strong>getopt</strong>；<br>shell脚本可以通过使用<strong>getopts</strong>来保持与UNIX一致的风格。</p>
<h2 id="常用shell参数变量"><a href="#常用shell参数变量" class="headerlink" title="常用shell参数变量"></a>常用shell参数变量</h2><ul>
<li>$0 ：即命令本身，相当于C/C++中的argv[0]</li>
<li>$1 ：第一个参数.</li>
<li>$2, $3, $4 … ：第2、3、4个参数，依次类推。</li>
<li>$#  参数的个数，不包括命令本身</li>
<li>$@ ：参数本身的列表，也不包括命令本身</li>
<li>$* ：和$@相同，但”$*“ 和 “$@”(加引号)并不同，”$*“将所有的参数解释成一个字符串，而”$@”是一个参数数组。</li>
</ul>
<h2 id="getopts"><a href="#getopts" class="headerlink" title="getopts"></a>getopts</h2><p>getopts有两个参数，<br>第一个参数是一个字符串，包括字符和“：”，每一个字符都是一个有效的选项，<br>如果字符后面带有“：”，表示这个字符有自己的参数。<br>如果字符串最前面带有“：”，表示开启静默模式，屏蔽系统提示错误。<br>getopts从命令中获取这些参数，并且删去了“-”，<br>并将其赋值在第二个参数中，如果带有自己参数，这个参数赋值在“OPTARG”中。</p>
<p>在使用getopts命令的时候，shell会自动产生两个变量OPTIND和OPTARG。<br>OPTIND初始值为1，其含义是下一个待处理的参数的索引。<br>只要存在，getopts命令返回true，所以一般getopts命令使用while循环；<br>OPTARG是当getopts获取到其期望的参数后存入的位置。</p>
<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><pre><code>[ $# -eq 0   ] &amp;&amp; usage

# option_string以冒号开头表示屏蔽脚本的系统提示错误，自己处理错误提示。
# 后面接合法的单字母选项，选项后若有冒号，则表示该选项必须接具体的参数

while getopts :s:t:i:oh OPTION
do
    case $OPTION in
        s)
            STRING=$OPTARG
            ;;

        t)
            STRING=`cat $OPTARG`
            ;;

        i)
            IN=$OPTARG        #$OPTARG为特殊变量，表示选项的具体参数
            ;;

        o)
            OUT=$OPTARG        #$OPTARG为特殊变量，表示选项的具体参数
            ;;

        h)
            echo &quot;\033[31mHelp Info:\033[0m&quot;
            java -jar sfntly-builds/java-openjdk-8/sfnttool/sfnttool.jar -h
            exit 1
        ;;

        \?)                       #如果出现错误，则解析为?
            usage
            ;;
    esac
done

#$OPTIND表示第几个选项，初始值为1
#shift $(($OPTIND - 1))
#if [ $# -eq 0  ]; then
#    usage
#fi</code></pre><h2 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h2><p>使用shift $(($OPTIND-1))的作用是:<br>通过shift $(($OPTIND - 1))的处理，$*中就只保留了除去选项内容的参数，可以在其后进行正常的shell编程处理，例如：</p>
<pre><code>./xx -i in -o out para1 para2 ...</code></pre><p>经过处理之后，$*为 <strong>para1 para2</strong>，方便后续脚本处理</p>
<pre><code>while getopts s:h OPTION
do
    case $OPTION in
        s)
            STRING=$OPTARG
            ;;

        h)
            echo &quot;\033[31mHelp Info:\033[0m&quot;
            exit 1
        ;;

        \?)                       #如果出现错误，则解析为?
            usage
            ;;
    esac
done

echo &quot;OPTIND:&quot;$OPTIND
shift $(($OPTIND - 1))      #除了选项之外，该脚本必须接至少一个参数

echo $0
echo $*
echo $@

if [ $# -eq 0  ]; then
    usage
fi

for file in $@          #依次处理剩余的参数
do
    echo $file
done</code></pre><p>执行结果如下：</p>
<pre><code>➜  /data/OpenSourceCode/subset-ttf  &gt; ./test.sh -s &quot;123&quot; test1 test2 test3
OPTIND:3
./test.sh               $0
test1 test2 test3       $*
test1 test2 test3       $@
test1                   file
test2
test3</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/25/makefile-and-shell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/25/makefile-and-shell/" class="post-title-link" itemprop="url">Makefile中嵌入一段shell脚本及函数列表</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-26 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-26T00:00:00+08:00">2015-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index">
                    <span itemprop="name">Shell</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Make/" itemprop="url" rel="index">
                    <span itemprop="name">Make</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>9.8k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>9 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>


<p>Makefile中需要在编译前进行一些处理，shell可以方便完成。以下为在Makefile中使用shell需要注意的一些事项：</p>
<h2 id="makefile和shell区别"><a href="#makefile和shell区别" class="headerlink" title="makefile和shell区别"></a>makefile和shell区别</h2><h3 id="变量引用"><a href="#变量引用" class="headerlink" title="变量引用"></a>变量引用</h3><p>shell中所有引用<strong>以$打头的变量其后要加{}</strong>,而在Makefile中的变量是<strong>以$打头的后加()</strong>。如下：</p>
<pre><code>Makefile
PATH=&quot;/data/&quot;
SUBPATH=$(PATH)

Shell
PATH=&quot;/data/&quot;
SUBPATH=${PATH}</code></pre><h3 id="引用shell变量"><a href="#引用shell变量" class="headerlink" title="引用shell变量"></a>引用shell变量</h3><p>Makefile中所有以$打头的单词都会被解释成Makefile中的变量。<br>如果<strong>需要调用shell中的变量（或者正则表达式中锚定句位$），都需要加两个$符号（$$）</strong>。如下：</p>
<pre><code>PATH=&quot;/data/&quot;
all:
    echo $(PATH)
    echo $$PATH</code></pre><p>第一个$(PATH)引用的是Makefile中的变量，而不是shell中的PATH环境变量，后者引用的是Shell中的PATH环境变量。</p>
<h3 id="通配符区别"><a href="#通配符区别" class="headerlink" title="通配符区别"></a>通配符区别</h3><p>shell 中通配符*表示所有的字符；Makefile 中通配符%表示所有的字符</p>
<h3 id="打印输出"><a href="#打印输出" class="headerlink" title="打印输出"></a>打印输出</h3><p>在Makefile中只能在target中调用Shell脚本，其他地方是不能输出的。比如如下代码就是没有任何输出：</p>
<pre><code>VAR=&quot;Hello&quot;
echo &quot;$VAR&quot;
all:</code></pre><p>以上代码任何时候都不会输出，没有在target内，如果上述代码改为如下：</p>
<pre><code>VAR=&quot;Hello&quot;
all:
    echo &quot;$VAR&quot;</code></pre><p>以上代码，在make all的时候将会执行echo命令。</p>
<h3 id="代码片段"><a href="#代码片段" class="headerlink" title="代码片段"></a>代码片段</h3><p>Makefile中的shell，每一行是一个进程，不同行之间变量值不能传递。所以，Makefile中的shell不管多长也要写在一行<br>在Makefile中执行shell命令，一行创建一个进程来执行。<br>不同行之间变量值不能传递。<br>这也是为什么很多Makefile中有很多行的末尾都是“;\”，<br>以此来保证代码是一行而不是多行，这样Makefile可以在一个进程中执行，例如：</p>
<pre><code>SUBDIR=src example
all:
    @for subdir in $(SUBDIR); \     #shell代码开始
    do\
        echo &quot;building &quot;; \
    done</code></pre><p>上述可以看出for循环中每行都是以”; \”结尾的。</p>
<h3 id="shell代码范围"><a href="#shell代码范围" class="headerlink" title="shell代码范围"></a>shell代码范围</h3><p>在Makefile文件的目标项冒号后的另起一行的代码才是shell代码。</p>
<pre><code>xx = xx1       #这里时makefile代码
yy：xx = xx2   #这是是makefile代码，makefile允许变量赋值时，&#39;=&#39;号两边留空格
yy：
    xx=xx3     #只有这里是shell代码 ，shell不允许‘=’号两边有空格哦。

有一个例外：
xx=$(shell 这里的代码也是shell代码)</code></pre><h3 id="makefile总的反引号"><a href="#makefile总的反引号" class="headerlink" title="makefile总的反引号`"></a>makefile总的反引号<strong>`</strong></h3><p>反引号括起来的字符串被shell解释为命令行，<br>在执行时，shell首先执行该命令行，并以它的标准输出结果取代整个反引号（包括两个反引号）部分</p>
<pre><code>PATH=`pwd`
TODAY=`date`

#等同于
PATH=$(shell pwd)
TODAY=$(shell date)</code></pre><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p><strong>获取当前目录</strong></p>
<pre><code>TOPDIR:=$(shell pwd)</code></pre><p><strong>获取日期</strong></p>
<pre><code>DATE:=$(shell date +%Y%m%d)</code></pre><p><strong>获取源文件列表</strong></p>
<pre><code>SRC += $(shell find . -iname &quot;*.c&quot;  | grep -v &quot;./opensource/*&quot;)
SRC += $(shell find . -iname &quot;*.cpp&quot;)

PRE_SRC=$(shell find -name &quot;*.c&quot; | xargs grep &quot;HANDLER&quot; | awk -F &#39;:&#39; &#39;{print $$1}&#39; | sort -u) #注意awk中使用的是 $$1</code></pre><p><strong>Makefile打印输出</strong></p>
<pre><code>print_version:
    @echo $(BR2_VERSION_FULL)</code></pre><p><strong>Makefile嵌入脚本</strong></p>
<pre><code>env:                                                                                                                                
    sh $(SRC_PATH)/scripts/connect.sh
    find $(SRC_PATH) -name &quot;sysinfo.o&quot; | xargs rm -f

signalpre:                                                                                                                          
    sed -i &#39;s/HANDLER/HANDLER HANDLERX/g&#39; $(LIB_PATH)/include/core.h
    @mkdir -p $(SRC_PATH)/output/signalpres
    @echo &quot;\033[031msignale handler processor...\033[0m&quot;
    @for f in $(PRE_SRC); do \
        OBJ=$(SRC_PATH)/output/signalpres/`basename $$f|sed -e &#39;s/\.c/\.i/&#39;`; \
        $(CC) $(CFLAGS) -E $$f -o $$OBJ;\
        echo -n &quot;.&quot;;\
    done
    sed -i &#39;s/HANDLER HANDLERX/HANDLER/g&#39; $(LIB_PATH)/include/core.h
    echo &quot;\n&quot;

prepare_config:
    @chmod +x scripts/proj.sh
    @scripts/proj.sh
    @chmod +x scripts/theme.sh
    @scripts/theme.sh</code></pre><p><strong>Makefile中的exec执行脚本</strong></p>
<pre><code>format:
    @echo &quot;Makeing format...&quot;;
    @find -name &quot;*.c&quot; -exec dos2unix -qU 2&gt;d2utmp1 {} \;
    @find -name &quot;*.h&quot; -exec dos2unix -qU 2&gt;d2utmp1 {} \; 
#   @find -name &quot;*.c&quot; -exec indent -npro -kr -i8 -sob -l120 -ss -ncs  {} \;
    @find -name &quot;*~&quot; -exec rm {} \;
    @find -name &quot;d2utmp*&quot; -exec rm {} \;
    @find -name &quot;deps*&quot; -exec rm {} \;</code></pre><p><strong>循环处理文件行</strong></p>
<pre><code>cat config_tmp | while read line
do
    echo &quot;${line}&quot;

    MACRO=$(echo ${line} | awk -F &#39; &#39; &#39;{print $2}&#39;)
    VALUE=$(echo ${line} | awk -F &#39; &#39; &#39;{print $3}&#39;)
    echo &quot;Macro: $MACRO Value: $VALUE\n&quot;

    #cat &quot;$SIGNALE_HANDLER_FILE&quot; | sed -e &quot;s/$MACRO/$VALUE/g&quot; &gt; signal_tmp
    sed -i &quot;s/$MACRO/$VALUE/g&quot; ${SIGNALE_HANDLER_FILE}
done</code></pre><p><strong>grep反选</strong></p>
<pre><code>cat $CONFIG_FILE | sed -s &#39;/^$/d&#39; | grep -v -e &quot;LangName&quot; -e &quot;__CONFIG_H__&quot; -e &quot;#endif&quot; -e &quot;//&quot; &gt; config_tmp</code></pre><p><strong>Makefile依赖规则</strong></p>
<pre><code>OBJS=$(addprefix $(SRC_PATH)/objects/, $(addsuffix .o, $(basename $(notdir $(SRC)))))

deps: $(SRC)
    @-rm -f deps;
    @for f in $(SRC); do \
        OBJ=$(SRC_PATH)/objects/`basename $$f|sed -e &#39;s/\.c/\.o/&#39;`; \
        echo $$OBJ: $$f&gt;&gt; deps; \
        echo &#39;  @echo -e &quot;compiling \033[032m[$(CC)]\033[0m&quot;: &#39; $$f &gt;&gt; deps; \
        echo &#39;  $(CC) $$(CFLAGS) -c -o $$@ $$^&#39;&gt;&gt; deps; \
    done</code></pre><p><strong>Makefile模式规则</strong></p>
<pre><code>%.d: %.c
    @set -e; rm -f $@; \
    $(CC) -M $(CPPFLAGS) $&lt; &gt; $@.$$$$; \
    sed &#39;s,\($*\)\.o[ : ]*,\1.o $@ : ,g&#39; &lt; $@.$$$$ &gt; $@; \
    rm -f $@.$$$$</code></pre><p>这个规则的意思是，所有的[.d]文件依赖于[.c]文件，“rm -f $@”的意思是删除所有的目标，也就是[.d]文件，<br>第二行的意思是，为每个依赖文件“$&lt;”，也就是[.c]文件生成依赖文件，“$@”表示模式“%.d”文件，<br>如果有一个C文件是name.c，那么“%”就是 “name”，“$$$$”意为一个随机编号，<br>第二行生成的文件有可能是“name.d.12345”，<br>第三行使用sed命令做了一个替换，关于sed命令的用法请参看相关的使用文档。<br>第四行就是删除临时文件。</p>
<p><strong>变量值的替换</strong></p>
<pre><code>foo := a.o b.o c.o
bar := $(foo:.o=.c)

foo := a.o b.o c.o
bar := $(foo:%.o=%.c)</code></pre><p>变量<em>.o替换为</em>.c</p>
<h2 id="makefile函数列表"><a href="#makefile函数列表" class="headerlink" title="makefile函数列表"></a>makefile函数列表</h2><p>函数调用，很像变量的使用，也是以“$”来标识的，其語法如下：</p>
<pre><code>$(&lt;function&gt; &lt;arguments&gt;)</code></pre><p>或是</p>
<pre><code>${&lt;function&gt; &lt;arguments&gt;}</code></pre><p>这里，&lt;function&gt;就是函数名，make支持的函数不多。<br>&lt;arguments&gt;为函数的参数，参数间以逗号“,”分隔，而函数名和参数之间以“空格”分隔。<br>函数调用以“$”开头，以圆括号或花括号把函数名和参数括起。<br>感觉很像一个变量，是不是？函数中的参数可以使用变量，为了风格的统一，函数和变量的括号最好一样，<br>如使用“$(subst a,b,$(x))”这样的形式，而不是“$(subst a,b, ${x})”的形式。<br>因为统一会更清楚，也会减少一些不必要的麻烦。</p>
<h3 id="字符串处理函数"><a href="#字符串处理函数" class="headerlink" title="字符串处理函数"></a>字符串处理函数</h3><ul>
<li>$(subst &lt;from&gt;,&lt;to&gt;,&lt;text&gt;), 字符串替换函数</li>
<li>$(patsubst &lt;pattern&gt;,&lt;replacement&gt;,&lt;text&gt;), 模式字符串替换函数</li>
<li>$(strip &lt;string&gt;), 去空格函数,字串中开头和结尾的空字符</li>
<li>$(findstring &lt;find&gt;,&lt;in&gt;), 查找字符串函数</li>
<li>$(filter &lt;pattern…&gt;,&lt;text&gt;), 以&lt;pattern&gt;模式过滤&lt;text&gt;字符串中的单词，保留符合模式&lt;pattern&gt;的单词。可以有多个模式</li>
<li>$(filter-out &lt;pattern…&gt;,&lt;text&gt;), 以&lt;pattern&gt;模式过滤&lt;text&gt;字符串中的单词，去除符合模式&lt;pattern&gt;的单词。可以有多个模式</li>
<li>$(sort &lt;list&gt;), 给字符串&lt;list&gt;中的单词排序（升序）。</li>
<li>$(word &lt;n&gt;,&lt;text&gt;), 取字符串&lt;text&gt;中第&lt;n&gt;个单词。（从一开始）</li>
<li>$(wordlist &lt;ss&gt;,&lt;e&gt;,&lt;text&gt;), 从字符串&lt;text&gt;中取从&lt;ss&gt;开始到&lt;e&gt;的单词串。&lt;ss&gt;和&lt;e&gt;是一个数字</li>
<li>$(words &lt;text&gt;), 统计&lt;text&gt;中字符串中的单词个数</li>
<li>$(firstword &lt;text&gt;), 取字符串&lt;text&gt;中的第一个单词</li>
</ul>
<p>搭配使用：</p>
<pre><code>override CFLAGS += $(patsubst %,-I%,$(subst :, ,$(VPATH)))</code></pre><p>如果我们的“$(VPATH)”值是“src:../headers”，<br>那么“$(patsubst %,-I%,$(subst :, ,$(VPATH)))”将返回“-Isrc -I../headers”，这正是cc或gcc搜索头文件路径的参数</p>
<h3 id="文件名操作函数"><a href="#文件名操作函数" class="headerlink" title="文件名操作函数"></a>文件名操作函数</h3><ul>
<li><p>$(dir &lt;names…&gt;), 从文件名序列&lt;names&gt;中取出目录部分。目录部分是指最后一个反斜杠（“/”）之前的部分。如果没有反斜杠，那么返回“./”</p>
</li>
<li><p>$(notdir &lt;names…&gt;), 从文件名序列&lt;names&gt;中取出非目录部分。非目录部分是指最後一个反斜杠（“/”）之后的部分</p>
</li>
<li><p>$(suffix &lt;names…&gt;) , 从文件名序列&lt;names&gt;中取出各个文件名的后缀</p>
</li>
<li><p>$(basename &lt;names…&gt;), 从文件名序列&lt;names&gt;中取出各个文件名的前缀部分</p>
</li>
<li><p>$(addsuffix &lt;suffix&gt;,&lt;names…&gt;), 把后缀&lt;suffix&gt;加到&lt;names&gt;中的每个单词后面</p>
</li>
<li><p>$(addprefix &lt;prefix&gt;,&lt;names…&gt;), 把前缀&lt;prefix&gt;加到&lt;names&gt;中的每个单词后面</p>
</li>
<li><p>$(join &lt;list1&gt;,&lt;list2&gt;), 把&lt;list2&gt;中的单词对应地加到&lt;list1&gt;的单词后面。<br>如果&lt;list1&gt;的单词个数要比&lt;list2&gt;的多，那么，&lt;list1&gt;中的多出来的单词将保持原样。<br>如果&lt;list2&gt;的单词个数要比&lt;list1&gt;多，那么，&lt;list2&gt;多出来的单词将被复制到&lt;list1&gt;中</p>
<p>  $(join aaa bbb , 111 222 333)返回值是“aaa111 bbb222 333”</p>
</li>
</ul>
<h3 id="foreach-函数"><a href="#foreach-函数" class="headerlink" title="foreach 函数"></a>foreach 函数</h3><p>foreach函数和别的函数非常的不一样。<br>因为这个函数是用来做循环用的，<br>Makefile中的foreach函数几乎是仿照于Unix标准 Shell（/bin/sh）中的for语句，<br>或是C-Shell（/bin/csh）中的foreach语句而构建的。它的语法是：</p>
<pre><code>$(foreach   &lt;var&gt;,&lt;list&gt;,&lt;text&gt;)</code></pre><p>这个函数的意思是，把参数&lt;list&gt;中的单词逐一取出放到参数&lt;var&gt;所指定的变量中，<br>然后再执行&lt; text&gt;所包含的表达式。<br>每一次&lt;text&gt;会返回一个字符串，循环过程中，&lt;text&gt;的所返回的每个字符串会以空格分隔，<br>最后当整个循环结束时，<br>&lt;text&gt;所返回的每个字符串所组成的整个字符串（以空格分隔）将会是foreach函数的返回值。</p>
<p>所以，&lt;var&gt;最好是一个变量名，&lt;list&gt;可以是一个表达式，而&lt;text&gt;中一般会使用&lt;var&gt;这个参数来依次枚举&lt;list&gt;中的单词。举个例子：</p>
<pre><code>names := a b c d
files := $(foreach n,$(names),$(n).o)</code></pre><p>上面的例子中，$(name)中的单词会被挨个取出，并存到变量“n”中，“$(n).o”每次根据“$(n)”计算出一个值，<br>这些值以空格分隔，最后作为foreach函数的返回，所以，$(files)的值是“a.o b.o c.o d.o”。</p>
<p>注意，foreach中的&lt;var&gt;参数是一个临时的局部变量，foreach函数执行完后，参数&lt;var&gt;的变量将不在作用，其作用域只在foreach函数当中。</p>
<h3 id="if-函数"><a href="#if-函数" class="headerlink" title="if 函数"></a>if 函数</h3><p>if函数很像GNU的make所支持的条件语句——ifeq，if函数的语法是：</p>
<pre><code>$(if &lt;condition&gt;,&lt;then-part&gt;) </code></pre><p>或是</p>
<pre><code>$(if &lt;condition&gt;,&lt;then-part&gt;,&lt;else-part&gt;)</code></pre><h3 id="call函数"><a href="#call函数" class="headerlink" title="call函数"></a>call函数</h3><p>call函数是唯一一个可以用来创建新的参数化的函数。<br>你可以写一个非常复杂的表达式，这个表达式中，你可以定义许多参数，然后你可以用call函数来向这个表达式传递参数。其语法是：</p>
<pre><code>$(call &lt;expression&gt;;,&lt;parm1&gt;;,&lt;parm2&gt;;,&lt;parm3&gt;;...)</code></pre><p>当make执行这个函数时，&lt;expression&gt;;参数中的变量，<br>如$(1)，$(2)，$(3)等，会被参数&lt; parm1&gt;;，&lt;parm2&gt;;，&lt;parm3&gt;;依次取代。<br>而&lt;expression&gt;;的返回值就是 call函数的返回值。例如：</p>
<pre><code>reverse =  $(1) $(2)
foo = $(call reverse,a,b)</code></pre><p>那么，foo的值就是“a b”。当然，参数的次序是可以自定义的，不一定是顺序的，如：</p>
<pre><code>reverse =  $(2) $(1)
foo = $(call reverse,a,b)</code></pre><p>此时的foo的值就是“b a”。</p>
<h3 id="origin函数"><a href="#origin函数" class="headerlink" title="origin函数"></a>origin函数</h3><p>origin函数不像其它的函数，他并不操作变量的值，他只是告诉你你的这个变量是哪里来的？其语法是：</p>
<pre><code>$(origin &lt;variable&gt;;)</code></pre><p>注意，&lt;variable&gt;;是变量的名字，不应该是引用。<br>所以你最好不要在&lt;variable&gt;;中使用“$”字符。<br>Origin函数会以其返回值来告诉你这个变量的“出生情况”，下面，是origin函数的返回值:</p>
<ul>
<li>“undefined” 如果&lt;variable&gt;;从来没有定义过，origin函数返回这个值“undefined”。</li>
<li>“default” 如果&lt;variable&gt;;是一个默认的定义，比如“CC”这个变量，这种变量我们将在后面讲述。</li>
<li>“environment” 如果&lt;variable&gt;;是一个环境变量，并且当Makefile被执行时，“-e”参数没有被打开。</li>
<li>“file” 如果&lt;variable&gt;;这个变量被定义在Makefile中。</li>
<li>“command line” 如果&lt;variable&gt;;这个变量是被命令行定义的。</li>
<li>“override” 如果&lt;variable&gt;;是被override指示符重新定义的。</li>
<li>“automatic” 如果&lt;variable&gt;;是一个命令运行中的自动化变量。关于自动化变量将在后面讲述。</li>
</ul>
<p>这些信息对于我们编写Makefile是非常有用的，<br>例如，假设我们有一个Makefile其包了一个定义文件Make.def，<br>在 Make.def中定义了一个变量“bletch”，而我们的环境中也有一个环境变量“bletch”，<br>此时，我们想判断一下，如果变量来源于环境，那么我们就把之重定义了，<br>如果来源于Make.def或是命令行等非环境的，那么我们就不重新定义它。于是，在我们的Makefile中，我们可以这样写：</p>
<pre><code>ifdef bletch
    ifeq &quot;$(origin bletch)&quot; &quot;environment&quot;
        bletch = barf, gag, etc.
    endif
endif</code></pre><h3 id="shell函数"><a href="#shell函数" class="headerlink" title="shell函数"></a>shell函数</h3><p>它的参数应该就是操作系统Shell的命令。它和反引号<strong>`</strong>是相同的功能。<br>这就是说，shell函数把执行操作系统命令后的输出作为函数返回。<br>于是，我们可以用操作系统命令以及字符串处理命令awk，sed等等命令来生成一个变量，如：</p>
<pre><code>contents := $(shell cat foo)
files := $(shell echo *.c)</code></pre><p>注意，这个函数会新生成一个Shell程序来执行命令，所以你要注意其运行性能，<br>如果你的Makefile中有一些比较复杂的规则，并大量使用了这个函数，那么对于你的系统性能是有害的。<br>特别是Makefile的隐晦的规则可能会让你的shell函数执行的次数比你想像的多得多。</p>
<h2 id="自动化变量"><a href="#自动化变量" class="headerlink" title="自动化变量"></a>自动化变量</h2><ul>
<li><p>$@ 表示规则中的目标文件集。在模式规则中，如果有多个目标，那么，”$@”就是匹配于目标中模式定义的集合。</p>
</li>
<li><p>$% 仅当目标是函数库文件中，表示规则中的目标成员名。<br>例如，如果一个目标是”foo.a(bar.o)”，那么，”$%”就是 “bar.o”，”$@”就是”foo.a”。<br>如果目标不是函数库文件（Unix下是[.a]，Windows下是[.lib]），那么，其值为空。</p>
</li>
<li><p>$&lt; 依赖目标中的第一个目标名字。如果依赖目标是以模式（即”%”）定义的，那么”$&lt;”将是符合模式的一系列的文件集。<br>注意，其是一个一个取出来的。</p>
</li>
<li><p>$? 所有比目标新的依赖目标的集合。以空格分隔。</p>
</li>
<li><p>$^ 所有的依赖目标的集合。以空格分隔。如果在依赖目标中有多个重复的，那个这个变量会去除重复的依赖目标，只保留一份。</p>
</li>
<li><p>$+ 这个变量很像”$^”，也是所有依赖目标的集合。只是它不去除重复的依赖目标。</p>
</li>
<li><p>$* 这个变量表示目标模式中”%”及其之前的部分。如果目标是”dir/a.foo.b”，并且目标的模式是”a.%.b”，<br>那么，”$*“的值就是”dir/a.foo”。这个变量对于构造有关联的文件名是比较有较。如果目标中没有模式的定义，<br>那么”$*“也就不能被推导出，但是，如果目标文件的后缀是make所识别的，那么”$*“就是除了后缀的那一部分。<br>例如：如果目标是”foo.c”，因为”.c”是make所能识别的后缀名，<br>所以，” $*“的值就是”foo”。这个特性是GNU make的，很有可能不兼容于其它版本的make，<br>所以，你应该尽量避免使用”$*“，除非是在隐含规则或是静态模式中。如果目标中的后缀是make所不能识别的，那么”$*“就是空值。<br>当你希望只对更新过的依赖文件进行操作时，”$?”在显式规则中很有用，<br>例如，假设有一个函数库文件叫”lib”，其由其它几个object文件更新。那么把object文件打包的比较有效率的Makefile规则是：</p>
<p>  lib : foo.o bar.o lose.o win.o</p>
<pre><code>  ar r lib $?</code></pre></li>
</ul>
<p>在上述所列出来的自动量变量中。四个变量（$@、$&lt;、$%、$*）在扩展时只会有一个文件，<br>而另三个的值是一个文件列表。</p>
<p>对于”$&lt;”，为了避免产生不必要的麻烦，我们最好给$后面的那个特定字符都加上圆括号，比如，”$(&lt;)”就要比”$&lt;”要好一些。</p>
<ol>
<li><a href="http://wiki.ubuntu.org.cn/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99Makefile:%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0#shell.E5.87.BD.E6.95.B0" target="_blank" rel="noopener">makefile:使用函数</a></li>
<li><a href="http://wiki.ubuntu.org.cn/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99Makefile" target="_blank" rel="noopener">跟我一起写Makefile</a></li>
<li><a href="http://wiki.ubuntu.org.cn/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99Makefile:%E9%9A%90%E5%90%AB%E8%A7%84%E5%88%99#.E4.BD.BF.E7.94.A8.E9.9A.90.E5.90.AB.E8.A7.84.E5.88.99" target="_blank" rel="noopener">makefile:隐含规则</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/21/compile-warning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/21/compile-warning/" class="post-title-link" itemprop="url">解决C编译警告</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-22 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-22T00:00:00+08:00">2015-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="implicit-declaration-of-function"><a href="#implicit-declaration-of-function" class="headerlink" title="implicit declaration of function"></a>implicit declaration of function</h2><pre><code>warning: implicit declaration of function &#39;app_create_dialog&#39;</code></pre><p>包含函数’app_create_dialog’定义的头文件解决警告。<br>如果没有声明头文件，可以将函数extern声明一下。</p>
<h2 id="unused-variable"><a href="#unused-variable" class="headerlink" title="unused variable"></a>unused variable</h2><pre><code>warning: unused variable &#39;buf&#39;</code></pre><p>删除不使用的变量</p>
<h2 id="initialization-discards-qualifiers-from-pointer-target-type"><a href="#initialization-discards-qualifiers-from-pointer-target-type" class="headerlink" title="initialization discards qualifiers from pointer target type"></a>initialization discards qualifiers from pointer target type</h2><pre><code>xx.c: In function &#39;cmm_cascam_create_dialog1&#39;:
xx.c:95:26: warning: initialization discards qualifiers from pointer target type</code></pre><p>添加类型强制转换</p>
<h2 id="pointer-targets-in-return-differ-in-signedness"><a href="#pointer-targets-in-return-differ-in-signedness" class="headerlink" title="pointer targets in return differ in signedness"></a>pointer targets in return differ in signedness</h2><pre><code>xx.c: In function &#39;cmm_ca_get_notice_str&#39;:
xx.c:58:5: warning: pointer targets in return differ in signedness</code></pre><p>数据类型不匹配，强制转换</p>
<h2 id="assignment-discards-qualifiers-from-pointer-target-type"><a href="#assignment-discards-qualifiers-from-pointer-target-type" class="headerlink" title="assignment discards qualifiers from pointer target type"></a>assignment discards qualifiers from pointer target type</h2><pre><code>ca/common_menu/cmm_cascam_dialog3.c: In function &#39;_create_dialog_check&#39;:
ca/common_menu/cmm_cascam_dialog3.c:150:17: warning: assignment discards qualifiers from pointer target type</code></pre><p>强制转换解决</p>
<h2 id="defined-but-not-used"><a href="#defined-but-not-used" class="headerlink" title="defined but not used"></a>defined but not used</h2><pre><code>x.c:59:12: warning: &#39;_mutex_delete&#39; defined but not used</code></pre><p>删除无用代码</p>
<h2 id="control-reaches-end-of-non-void-function"><a href="#control-reaches-end-of-non-void-function" class="headerlink" title="control reaches end of non-void function"></a>control reaches end of non-void function</h2><pre><code>module/cascam/cas/thinew/adapter/tnt_demux.c: In function &#39;_nit_set_equal_filter&#39;:
module/cascam/cas/thinew/adapter/tnt_demux.c:600:1: warning: control reaches end of non-void function</code></pre><p>添加</p>
<pre><code>return ret;</code></pre><h2 id="pointer-targets-in-passing-argument-1-of-‘cascam-strlen’-differ-in-signedness"><a href="#pointer-targets-in-passing-argument-1-of-‘cascam-strlen’-differ-in-signedness" class="headerlink" title="pointer targets in passing argument 1 of ‘cascam_strlen’ differ in signedness"></a>pointer targets in passing argument 1 of ‘cascam_strlen’ differ in signedness</h2><pre><code>module/cascam/cas/thinew/adapter/tnt_baseinfo.c: In function &#39;_get_basic_information&#39;:
module/cascam/cas/thinew/adapter/tnt_baseinfo.c:45:9: warning: pointer targets in passing argument 1 of &#39;cascam_strlen&#39; differ in signedness
module/cascam/cas/thinew/adapter/../../../include/cascam_os.h:61:14: note: expected &#39;char *&#39; but argument is of type &#39;unsigned char *&#39;</code></pre><p>形参与实参类型不匹配，强制转换</p>
<h2 id="warning-missing-braces-around-initializer"><a href="#warning-missing-braces-around-initializer" class="headerlink" title="warning: missing braces around initializer"></a>warning: missing braces around initializer</h2><pre><code>module/cascam/adapter/cascam_osd_adapter.c: In function &#39;cascam_osd_pop_dialog5&#39;:
module/cascam/adapter/cascam_osd_adapter.c:295:5: warning: missing braces around initializer
module/cascam/adapter/cascam_osd_adapter.c:295:5: warning: (near initialization for &#39;para.title&#39;)</code></pre><p>初始化大括号不明确，内部加上一个大括号，二维数组初始化。</p>
<h2 id="may-be-used-uninitialized-in-this-function"><a href="#may-be-used-uninitialized-in-this-function" class="headerlink" title="may be used uninitialized in this function"></a>may be used uninitialized in this function</h2><p>初始化变量</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/20/gdb-disassemble-debug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/20/gdb-disassemble-debug/" class="post-title-link" itemprop="url">使用反汇编定位未开源库问题</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-21 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-21T00:00:00+08:00">2015-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.6k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h2><p>整合版本时，遇到一个必现死机问题，每次出现问题都是调用库中的一个函数。<br>经过排查，初步怀疑是库存在一些问题，或者与外部使用配合出现问题。</p>
<h2 id="定位问题"><a href="#定位问题" class="headerlink" title="定位问题"></a>定位问题</h2><pre><code>(gdb) set $pc=$epc
(gdb) i r r10
r10            0x970038656
(gdb) info registers 
r0             0x90972c100x90972c10
r1             0x90486564-1874303644
r2             0x970038656
r3             0xff255
r4             0x904895de-1874291234
r5             0xae174
r6             0x00
r7             0x00
r8             0x904d03a0-1874000992
r9             0x11110009286326793
r10            0x970038656
r11            0x6096
r12            0x11
r13            0x904d03a0-1874000992
r14            0x904d02a0-1874001248
r15            0x90142750-1877727408
pc             0x9000060a0x9000060a &lt;__default_14&gt;
epc            0x902abd300x902abd30 &lt;inflate_fast+708&gt;
psr            0x8f0e0010-1894907888
epsr           0x800e0150-2146565808
(gdb) pc
#0  0x9014279cin xxx_xxm()at xx.c:574
#1  0x90142750in xxx_xxm()at xx.c:568
#2  0x9014144ein xxx_xx()at xx.c:2659
#3  0x90141446in xxx_xx()at xx.c:2658
#4  0x9014143ein xxx_xx()at xx.c:2657
#5  0x901413f2in xxx_xx()at xx.c:2657
#6  0x901413dein xxx_xx()at xx.c:2652
#7  0x901413d2in xxx_xx()at xx.c:2652
(gdb) disassemble $pc-10,$pc+10
Dump of assembler code from 0x90000600 to 0x90000614:
0x90000600 &lt;__hardware_accelerator+2&gt;:br0x90000600
0x90000602 &lt;__trap0+0&gt;:bkpt
0x90000604 &lt;__trap0+2&gt;:br0x90000604
0x90000606 &lt;__default_13+0&gt;:bkpt
0x90000608 &lt;__default_13+2&gt;:br0x90000608
=&gt; 0x9000060a &lt;__default_14+0&gt;:bkpt
0x9000060c &lt;__default_14+2&gt;:br0x9000060c
0x9000060e &lt;__default_15+0&gt;:bkpt
0x90000610 &lt;__default_15+2&gt;:br0x90000610
0x90000612 &lt;__default_17+0&gt;:bkpt
End of assembler dump.
(gdb) bt
#0  0x9000060a in __default_14 ()
#1  0x90142750 in xxx_xxm () at xx.c:568
#2  0x9013cfb8 in func () at c1.c:167
#3  0x9013f394 in main_entry (args=&lt;value optimized out&gt;) at init.c:14
#4  0x9008724c in default_thread_function (arg=0x907f32b8) at os/ecos/osapi.c:371
#5  0x901232f2 in pthread_entry(unsigned int) ()
#6  0x90127030 in Cyg_HardwareThread::thread_entry(Cyg_Thread*) ()
#7  0x9012701c in Cyg_Thread::exit() ()
#8  0xb0b6ccd0 in ?? ()</code></pre><p>可以判断出r10中值出现问题，并且问题出现在文件xx.c的函数xxx_xxm()中，重启跟踪代码：</p>
<pre><code>(gdb) b xxx_xxm 
Breakpoint 3 at 0x901425f4: file xx.c, line 524.
(gdb) c
Continuing.

Breakpoint 3, xxx_xxm () at xx.c:524
524xx.c: 没有那个文件或目录.
in xx.c
(gdb) display /i $r10
1: x/i $r10
0x1111000a:ldm r3-r15, (r0)
(gdb) display /i $pc
2: x/i $pc
=&gt; 0x901425f4 &lt;xxx_xxm+20&gt;:lrw r7, 0x903BA9CC
(gdb) n
526in xx.c
(gdb) 
574in xx.c
2: x/i $pc
=&gt; 0x9014279c &lt;xxx_xxm+444&gt;:mov r7, r2
1: x/i $r10
0x1111000a:movi r4, 86
(gdb) 
575in xx.c
2: x/i $pc
=&gt; 0x901427a6 &lt;xxx_xxm+454&gt;:mov r2, r10
1: x/i $r10
0x9700:movi r4, 86</code></pre><p><strong>问题很可能出现在源文件xx.c的574行</strong>，执行过这一行之后，r10的值修改为0x9700，最后请客户检查代码，确认为野指针。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/18/vim-map-nmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/18/vim-map-nmap/" class="post-title-link" itemprop="url">VIM键值映射规则</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-19 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-19T00:00:00+08:00">2015-10-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Editor/" itemprop="url" rel="index">
                    <span itemprop="name">Editor</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>4 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="map模式"><a href="#map模式" class="headerlink" title="map模式"></a>map模式</h2><p>有五种映射存在： </p>
<ol>
<li>Normal mode: 普通模式, 输入命令时</li>
<li>Visual mode: 可视模式: 可视区域高亮并输入命令时</li>
<li>Select mode: 选择模式: 与可视模式区别是会替换选择文本</li>
<li>Operator-pending mode: 操作符等待模式: 操作符等待中 (“d”，”y”，”c” 等等之后)。 见下: |omap-info|。 </li>
<li>Insert mode: 插入模式: 也用于替换模式。 </li>
<li>Command-line mode: 命令行模式: 输入 “:” 或 “/“ 命令时。 </li>
</ol>
<h2 id="快捷键映射"><a href="#快捷键映射" class="headerlink" title="快捷键映射"></a>快捷键映射</h2><p>快捷键映射分两种: map 和 noremap</p>
<h3 id="递归映射-map"><a href="#递归映射-map" class="headerlink" title="递归映射 (map)"></a>递归映射 (map)</h3><p>如果键 b 映射为键 a，然后键 c 映射为键 b，那么当按键 c 时会产生按键 a 的效果。</p>
<pre><code>:map b a
:map c b</code></pre><p>相当于</p>
<pre><code>:map c a</code></pre><h3 id="非递归映射-noremap"><a href="#非递归映射-noremap" class="headerlink" title="非递归映射 (noremap)"></a>非递归映射 (noremap)</h3><pre><code>:noremap b a
:noremap c b</code></pre><p>非递归映射则不会产生递归映射一样的效果。</p>
<h2 id="不同模式下的快捷键映射"><a href="#不同模式下的快捷键映射" class="headerlink" title="不同模式下的快捷键映射"></a>不同模式下的快捷键映射</h2><h3 id="映射模式"><a href="#映射模式" class="headerlink" title="映射模式"></a>映射模式</h3><p>在 map 与 noremap 前分别可以加 ‘n’, ‘v’, ‘x’, ‘s’, ‘o’, ‘i’, ‘l’, ‘c’ 以及 ‘map!’ 和 ‘noremap!’：</p>
<ul>
<li><Space>    Normal, Visual, Select and Operator-pending</li>
<li>n    Normal</li>
<li>v    Visual and Select</li>
<li>s    Select (在可视模式下Ctrl+G进入)</li>
<li>x    Visual</li>
<li>o    Operator-pending</li>
<li>!    Insert and Command-line</li>
<li>i    Insert</li>
<li>l    “:lmap” mappings for Insert, Command-line and Lang-Arg</li>
<li>c    Command-line</li>
</ul>
<p>常用参数：</p>
<ul>
<li>{lhs} 表示左手边 *{lhs}*</li>
<li>{rhs} 表示右手边 *{rhs}*</li>
</ul>
<h3 id="普通模式的映射命令"><a href="#普通模式的映射命令" class="headerlink" title="普通模式的映射命令"></a>普通模式的映射命令</h3><p>可以随时<strong><em>:help map</em></strong>一下，查看相关命令具体信息。</p>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><pre><code>:map {lhs} {rhs} 
:map {lhs} {rhs} |mapmode-nvo| *:map* </code></pre><p>作用模式： n、v、o （普通、可视和选择、操作符等待）。<br>在:map作用的模式中把键系列 {lhs} 映射为 {rhs}，{rhs}可进行映射扫描，也就是可递归映射。 </p>
<p>举例： </p>
<pre><code>:map td :tabnew .&lt;cr&gt; </code></pre><p>在其作用模式（普通、可视、操作符）下，输入td等价于输入 :tabnew . <cr>。<br>而普通模式下输入:tabnew . <cr>就是打开当前目录，<br>如果再定义绑定：</p>
<pre><code>:map ts td</code></pre><p>就是指在其作用模式下输入ts等价于td，也就是打开当前目录。不过如果没有特殊需要，一般不建议递归映射。 </p>
<h4 id="noremap"><a href="#noremap" class="headerlink" title="noremap"></a>noremap</h4><p>:moremap和:map命令相对，作用模式和命令格式都相同，<br>只不过不允许再对{rhs}进行映射扫描，也就是{lhs}定义后的映射就是{rhs}的键序列，不会再对{rhs}键序列重新解释扫描。<br>它一般用于重定义一个命令，当然如果:map不需要递归映射的话，建议使用:noremap，比如： </p>
<pre><code>:noremap ts td </code></pre><p>它的意思是在其作用模式下，输入ts就是输入td，但是和:map不同的是，此时td再不会做进一步扫描解释。<br>虽然之前已经定义了td，但是不会对td再做扫描 </p>
<h4 id="unmap"><a href="#unmap" class="headerlink" title="unmap"></a>unmap</h4><p>:unmap是对应取消:map绑定的{lhs}，作用模式相同，命令格式</p>
<pre><code>:unmap {lhs}</code></pre><p>例如： </p>
<pre><code>:unmap td </code></pre><p>就是取消在其作用模式中td的绑定，比如之前td被绑定为:tabnew .<cr>，此时此绑定消失。 </p>
<h4 id="mapclear"><a href="#mapclear" class="headerlink" title="mapclear"></a>mapclear</h4><p>:mapclear时对应取消所有:map绑定的，慎用！ </p>
<h4 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h4><p>:nmap是:map的普通模式板，也就是说其绑定的键只作用于普通模式。例如： </p>
<pre><code>:nmap td :tabnew .&lt;cr&gt; </code></pre><p>在普通模式下等效 </p>
<pre><code>:map td :tabnew .&lt;cr&gt; </code></pre><h4 id="nnoremap"><a href="#nnoremap" class="headerlink" title="nnoremap"></a>nnoremap</h4><p>:nnorempa和:nmap的关系和:noremap和:map的关系一样，只是:nmap的非递归版 </p>
<h4 id="nunmap"><a href="#nunmap" class="headerlink" title="nunmap"></a>nunmap</h4><p>:nunmap和:nmap的关系和:unmap和:map的关系一样，取消:nmap的绑定。 </p>
<h4 id="nmapclear"><a href="#nmapclear" class="headerlink" title="nmapclear"></a>nmapclear</h4><p>:nmapclear是对应取消所有:map绑定的，慎用！ </p>
<p><strong>可以发现一个规律，前4个是一组，后4个时一组，后一组比前一组多一个n就是指只作用于普通模式。<br>其中每组内*nore*是其对应的非递归版、*un*是取消绑定某个&lt;lhs&gt;绑定、clear后缀是取消所有绑定。<br>发现了这个规律，再翻到前面的模式代号表，<br>大体可以猜到vmap、xmap、smap、omap是什么意思，以及相对应的nore版本、un版本、clear版本。</strong></p>
<p>另外，{rhs} 之前可能显示一个特殊字符: </p>
<ul>
<li>* 表示它不可重映射 </li>
<li>&amp; 表示仅脚本的局部映射可以被重映射 </li>
<li>@ 表示缓冲区的局部映射 </li>
</ul>
<h3 id="键表-key-notation"><a href="#键表-key-notation" class="headerlink" title="键表|key-notation|"></a>键表|key-notation|</h3><ul>
<li>&lt;k0&gt; - &lt;k9&gt; 小键盘 0 到 9 *keypad-0* *keypad-9* </li>
<li>&lt;S-…&gt; Shift＋键 *shift* *&lt;S-* </li>
<li>&lt;C-…&gt; Control＋键 *control* *ctrl* *&lt;C-* </li>
<li>&lt;M-…&gt; Alt＋键 或 meta＋键 *meta* *alt* *&lt;M-* </li>
<li>&lt;A-…&gt; 同 &lt;m-…&gt; *&lt;A-* </li>
<li>&lt;t_xx&gt; termcap 里的 “xx” 入口键 </li>
</ul>
<h3 id="特殊参数"><a href="#特殊参数" class="headerlink" title="特殊参数"></a>特殊参数</h3><ul>
<li>&lt;buffer&gt; </li>
<li>&lt;nowait&gt; </li>
<li>&lt;silent&gt; </li>
<li>&lt;special&gt; </li>
<li>&lt;script&gt; </li>
<li>&lt;expr&gt; </li>
<li>&lt;unique&gt; </li>
</ul>
<p>可以按任意顺序使用。它们必须紧跟在命令的后边，而在其它任何参数的前边。</p>
<h4 id="lt-buffer-gt"><a href="#lt-buffer-gt" class="headerlink" title="&lt;buffer&gt;"></a>&lt;buffer&gt;</h4><p>如果这些映射命令的第一个参数是&lt;buffer&gt;，映射将只局限于当前缓冲区（也就是你此时正编辑的文件）内。比如： </p>
<pre><code>:map &lt;buffer&gt; ,w /a&lt;CR&gt; </code></pre><p>它的意思时在当前缓冲区里定义键绑定，“,w”将在当前缓冲区里查找字符a。同样你可以在其他缓冲区里定义： </p>
<pre><code>:map &lt;buffer&gt; ,w /b&lt;CR&gt; </code></pre><p>其作用域也只在各自的标签里。同样要清除这些缓冲区的键绑定也要加上&lt;buffer&gt;参数，比如： </p>
<pre><code>:unmap &lt;buffer&gt; ,w 
:mapclear &lt;buffer&gt; </code></pre><h4 id="lt-nowait-gt"><a href="#lt-nowait-gt" class="headerlink" title="&lt;nowait&gt;"></a>&lt;nowait&gt;</h4><p>定义局部于缓冲区的映射 “,” 时，可能有另一个全局映射也以 “,” 开始。<br>这时你需要键入另一个字符，Vim 才能知道是用 “,” 映射还是更长的那个。<br>要避免这个问题，加入 <nowait> 参数。<br>这样映射一旦匹配就会被使用，Vim 不会等待更多字符的输入。但如果那些字符已经输入了，还是会使用的。</p>
<h4 id="lt-silent-gt"><a href="#lt-silent-gt" class="headerlink" title="&lt;silent&gt;"></a>&lt;silent&gt;</h4><p>执行键绑定时不在命令行上回显，比如： </p>
<pre><code>:map &lt;silent&gt; ,w /abcd&lt;CR&gt; </code></pre><p>输入,w查找abcd时，命令行上不会显示/abcd，如果没有&lt;silent&gt;参数就会显示出来 </p>
<h4 id="lt-special-gt"><a href="#lt-special-gt" class="headerlink" title="&lt;special&gt;"></a>&lt;special&gt;</h4><p>一般用于定义特殊键怕有副作用的场合。比如： </p>
<pre><code>:map &lt;special&gt; &lt;F12&gt; /Header&lt;CR&gt; </code></pre><h4 id="lt-unique-gt"><a href="#lt-unique-gt" class="headerlink" title="&lt;unique&gt;"></a>&lt;unique&gt;</h4><p>一般用于定义新的键映射或者缩写命令的同时检查是否该键已经被映射，如果该映射或者缩写已经存在，则该命令会失败 </p>
<pre><code>:map &lt;unique&gt; ,w  /[#&amp;!]&lt;CR&gt;</code></pre><p>这个例子将失败:</p>
<pre><code>:map ,w  /[#&amp;!]&lt;CR&gt;
:map &lt;buffer&gt; &lt;unique&gt; ,w  /[.,;]&lt;CR&gt;</code></pre><h4 id="lt-expr-gt"><a href="#lt-expr-gt" class="headerlink" title="&lt;expr&gt;"></a>&lt;expr&gt;</h4><p>如果定义新映射的第一个参数是&lt;expr&gt;，那么参数会作为表达式来进行计算，结果使用实际使用的&lt;rhs&gt;，例如： </p>
<pre><code>:inoremap &lt;expr\&gt; . InsertDot() </code></pre><p>这可以用来检查光标之前的文本并在一定条件下启动全能 (omni) 补全。 </p>
<p>这里是插入递增的列表编号的例子:</p>
<pre><code>let counter = 0 
inoremap &lt;expr&gt; &lt;C-L&gt; ListItem() 
inoremap &lt;expr&gt; &lt;C-R&gt; ListReset() 

func ListItem() 
    let g:counter += 1 
    return g:counter . &#39;. &#39; 
endfunc 

func ListReset() 
    let g:counter = 0 
    return &#39;&#39; 
endfunc </code></pre><p>CTRL-L 插入下一个数值，CTRL-R 复位计数且返回空字符串，这样就不会插入任何内容。</p>
<h3 id="lt-Leader-gt-mapleader"><a href="#lt-Leader-gt-mapleader" class="headerlink" title="&lt;Leader&gt;mapleader"></a>&lt;Leader&gt;mapleader</h3><p>要定义一个使用 “mapleader” 变量的映射，可以使用特殊字串 “<Leader>“。<br>它会被 “mapleader” 的字串值所替换。如果 “mapleader” 未设置或为空，则用反斜杠代替，例如:</p>
<pre><code>:map &lt;Leader&gt;A  oanother line&lt;Esc&gt;</code></pre><p>和下面一样:</p>
<pre><code>:map \A  oanother line&lt;Esc&gt;</code></pre><p>但是当:</p>
<pre><code>:let mapleader = &quot;,&quot;</code></pre><p>又相当于:</p>
<pre><code>:map ,A  oanother line&lt;Esc&gt;</code></pre><p>注意 “mapleader” 的值仅当定义映射时被使用。后来改变的 “mapleader” 不会影响已定义的映射。</p>
<ol>
<li><a href="http://vimcdoc.sourceforge.net/doc/map.html#:map-commands" target="_blank" rel="noopener">VIM 参考手册-MAP</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/15/go-with-vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/15/go-with-vim/" class="post-title-link" itemprop="url">vim配置golang开发环境</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-16 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-16T00:00:00+08:00">2015-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Editor/" itemprop="url" rel="index">
                    <span itemprop="name">Editor</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.9k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>3 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="vim配置"><a href="#vim配置" class="headerlink" title="vim配置"></a>vim配置</h2><p>Vim-go是当前使用最为广泛的用于搭建Golang开发环境的vim插件：</p>
<pre><code>Bundle &#39;fatih/vim-go&#39;
:BundleInstall</code></pre><p>Tagbar配合gotags配置：</p>
<pre><code>let g:tagbar_type_go = {
    \ &#39;ctagstype&#39; : &#39;go&#39;,
    \ &#39;kinds&#39;     : [
        \ &#39;p:package&#39;,
    \ &#39;i:imports:1&#39;,
    \ &#39;c:constants&#39;,
    \ &#39;v:variables&#39;,
    \ &#39;t:types&#39;,
    \ &#39;n:interfaces&#39;,
    \ &#39;w:fields&#39;,
    \ &#39;e:embedded&#39;,
    \ &#39;m:methods&#39;,
    \ &#39;r:constructor&#39;,
    \ &#39;f:functions&#39;
        \ 
    ],
    \ &#39;sro&#39; : &#39;.&#39;,
    \ &#39;kind2scope&#39; : {
        \ &#39;t&#39; : &#39;ctype&#39;,
        \ &#39;n&#39; : &#39;ntype&#39;
            \ 
    },
    \ &#39;scope2kind&#39; : {
        \ &#39;ctype&#39; : &#39;t&#39;,
        \ &#39;ntype&#39; : &#39;n&#39;
            \ 
    },
    \ &#39;ctagsbin&#39;  : &#39;gotags&#39;,
    \ &#39;ctagsargs&#39; : &#39;-sort -silent&#39;
    \ }</code></pre><h2 id="安装Binaries"><a href="#安装Binaries" class="headerlink" title="安装Binaries"></a>安装Binaries</h2><p>还需要安装其他tools，vim-go安装说明中提到所有必要的binary需要先安装好，比如gocode、godef、goimports等。通过：</p>
<pre><code>:GoInstallBinaries</code></pre><p>查看文件.vim/bundle/vim-go/plugin/go.vim：</p>
<pre><code>let s:packages = [
    \ &quot;github.com/nsf/gocode&quot;,
    \ &quot;golang.org/x/tools/cmd/goimports&quot;,
    \ &quot;github.com/rogpeppe/godef&quot;,
    \ &quot;golang.org/x/tools/cmd/oracle&quot;,
    \ &quot;golang.org/x/tools/cmd/gorename&quot;,
    \ &quot;github.com/golang/lint/golint&quot;,
    \ &quot;github.com/kisielk/errcheck&quot;,
    \ &quot;github.com/jstemmer/gotags&quot;,
    \ ]</code></pre><p>这些vim-go依赖的二进制工具将会自动被下载，并被安装到$GOBIN下，但是自动安装很可能部分tools安装不成功，此时需要手动安装：</p>
<pre><code>go get -u github.com/nsf/gocode

//或者
git clone https://go.googlesource.com/tools $GOPATH/src/golang.org/x/tools
go build golang.org/x/tools/cmd/goimports</code></pre><p>安装golint：</p>
<pre><code>./3rdpkg/src/github.com/golang
git clone git@github.com:golang/lint.git
cd ../../../../go/bin
pwd
./go/bin
go build -x github.com/golang/lint/golint
cp $WORK/github.com/golang/lint/golint/_obj/exe/a.out golint</code></pre><h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><p>安装完毕$GOBIN目录如下：</p>
<pre><code>.
├── errcheck
├── go
├── gocode
├── godef
├── godoc
├── gofmt
├── goimports
├── gorename
├── gotags
└── oracle</code></pre><ul>
<li><a href="https://github.com/jstemmer/gotags" target="_blank" rel="noopener">gotags</a> 这个用来配合vim的tagbar，查看方便的生成和查看文件中的各种方法，并进行跳转</li>
<li><a href="https://godoc.org/golang.org/x/tools/cmd/goimports" target="_blank" rel="noopener">goimport</a> 根据你所使用的方法，自动调整import中引用的内容，比较方便。<br>可以随时用vim命令 :Fmt 来格式化你的代码，也可以每次保存代码的时候，让vim自动为你格式化代码</li>
<li><a href="https://github.com/dgryski/vim-godef" target="_blank" rel="noopener">godef</a> 实现在代码中的跳转，从函数调用的地方，直接跳转到函数的定义。默认的命令是：gd</li>
<li><a href="https://github.com/nsf/gocode" target="_blank" rel="noopener">gocode</a>实现Golang的代码自动补全</li>
</ul>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><ul>
<li>新起一行输入fmt.，然后ctrl+x, ctrl+o，Vim 会弹出补齐提示下拉框，不过并非实时跟随的那种补齐，这个补齐是由gocode提供的。</li>
<li>输入一行代码：time.Sleep(time.Second)，执行:GoImports，Vim会自动导入time包。</li>
<li>将光标移到Sleep函数上，执行:GoDef或命令模式下敲入gd，Vim会打开$GOROOT/src/time/sleep.go中 的Sleep函数的定义。执行:b 1返回到hellogolang.go。</li>
<li>执行:GoLint，运行golint在当前Go源文件上。</li>
<li>执行:GoDoc，打开当前光标对应符号的Go文档。</li>
<li>执行:GoVet，在当前目录下运行go vet在当前Go源文件上。</li>
<li>执行:GoRun，编译运行当前main package。</li>
<li>执行:GoBuild，编译当前包，这取决于你的源文件，GoBuild不产生结果文件。</li>
<li>执行:GoInstall，安装当前包。</li>
<li>执行:GoTest，测试你当前路径下地_test.go文件。</li>
<li>执行:GoCoverage，创建一个测试覆盖结果文件，并打开浏览器展示当前包的情况。</li>
<li>执行:GoErrCheck，检查当前包种可能的未捕获的errors。</li>
<li>执行:GoFiles，显示当前包对应的源文件列表。</li>
<li>执行:GoDeps，显示当前包的依赖包列表。</li>
<li>执行:GoImplements，显示当前类型实现的interface列表。</li>
<li>执行:GoRename [to]，将当前光标下的符号替换为[to]。</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a href="http://studygolang.com/articles/1785" target="_blank" rel="noopener">Golang开发环境搭建</a></li>
<li><a href="https://github.com/nsf/gocode" target="_blank" rel="noopener">gocode</a></li>
<li><a href="https://github.com/golang" target="_blank" rel="noopener">Go</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/13/GB-set/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/13/GB-set/" class="post-title-link" itemprop="url">GBK、GB2312和GB18030</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-14 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-14T00:00:00+08:00">2015-10-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Font/" itemprop="url" rel="index">
                    <span itemprop="name">Font</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="GB2312-80"><a href="#GB2312-80" class="headerlink" title="GB2312-80"></a>GB2312-80</h2><p><strong>GB 2312或GB 2312-80 是中国国家标准简体中文字符集</strong>，<br>全称《信息交换用汉字编码字符集·基本集》，又称GB0，由中国国家标准总局发布，1981年5月1日实施。<br>GB2312编码通行于中国大陆；新加坡等地也采用此编码。中国大陆几乎所有的中文系统和国际化的软件都支持GB 2312。</p>
<p><strong>GB 2312标准共收录6763个汉字，其中一级汉字3755个，二级汉字3008个；</strong><br>同时收录了包括拉丁字母、希腊字母、日文平假名及片假名字母、俄语西里尔字母在内的682个字符。</p>
<ul>
<li>GB 2312的出现，基本满足了汉字的计算机处理需要，它所收录的汉字已经覆盖中国大陆99.75%的使用频率。</li>
<li>对于人名、古汉语等方面出现的罕用字，GB 2312不能处理，这导致了后来GBK及GB 18030汉字字符集的出现。</li>
</ul>
<p><strong>GB2312对任意一个图形字符都采用两个字节表示</strong>，并对所收汉字进行了“分区”处理，每区含有94个汉字／符号，<br>分别对应第一字节和第二字节。这种表示方式也称为区位码。</p>
<ul>
<li>01-09区为特殊符号。</li>
<li>16-55区为一级汉字，按拼音排序。</li>
<li>56-87区为二级汉字，按部首／笔画排序。</li>
<li>10-15区及88-94区则未有编码。</li>
</ul>
<p><strong>GB2312的编码范围为2121H-777EH，与ASCII有重叠，通行方法是将GB码两个字节的最高位置1以示区别。</strong></p>
<h2 id="GBK"><a href="#GBK" class="headerlink" title="GBK"></a>GBK</h2><p><strong>GBK即汉字内码扩展规范</strong>，K为汉语拼音 Kuo Zhan（扩展）中“扩”字的声母。英文全称Chinese Internal Code Specification。</p>
<p><strong>GBK共收入21886个汉字和图形符号</strong>，包括：</p>
<ul>
<li>GB2312中的全部汉字、非汉字符号。</li>
<li>BIG5中的全部汉字。</li>
<li>与ISO 10646相应的国家标准GB13000中的其它CJK汉字，以上合计20902个汉字。</li>
<li>其它汉字、部首、符号，共计984个。</li>
</ul>
<p>GBK向下与GB2312 完全兼容，向上支持ISO 10646国际标准，在前者向后者过渡过程中起到的承上启下的作用。</p>
<p><strong>GBK 采用双字节表示，总体编码范围为8140-FEFE之间，首字节在81-FE之间，尾字节在40-FE之间，剔除XX7F一条线。</strong>GBK编码区分三部分：</p>
<ul>
<li>汉字区：<ul>
<li>GBK/2：OXBOA1-F7FE, 收录GB2312汉字6763个，按原序排列；</li>
<li>GBK/3：OX8140-AOFE，收录CJK汉字6080个；</li>
<li>GBK/4：OXAA40-FEAO，收录CJK汉字和增补的汉字8160个。</li>
</ul>
</li>
<li>图形符号区：<ul>
<li>GBK/1：OXA1A1-A9FE，除GB2312的符号外，还增补了其它符号</li>
<li>GBK/5：OXA840-A9AO，扩除非汉字区。</li>
</ul>
</li>
<li>用户自定义区<ul>
<li>GBK区域中的空白区，用户可以自己定义字符。</li>
</ul>
</li>
</ul>
<h2 id="GB18030"><a href="#GB18030" class="headerlink" title="GB18030"></a>GB18030</h2><p><strong>GB 18030，全称：国家标准GB 18030-2005《信息技术中文编码字符集》</strong>，<br>是中华人民共和国现时最新的内码字集，是GB 18030-2000《信息技术信息交换用汉字编码字符集基本集的扩充》的修订版。<br><strong>GB 18030与GB 2312-1980完全兼容，与GBK基本兼容，支持GB 13000及Unicode的全部统一汉字，共收录汉字70244个。</strong></p>
<ul>
<li>与 UTF-8 相同，采用多字节编码，每个字可以由1个、2个或4个字节组成。</li>
<li>编码空间庞大，最多可定义161万个字符。</li>
<li>支持中国国内少数民族的文字，不需要动用造字区。</li>
<li>汉字收录范围包含繁体汉字以及日韩汉字</li>
</ul>
<p>GB18030 编码是一二四字节变长编码。</p>
<ul>
<li>单字节，其值从0到0x7F，与 ASCII 编码兼容。</li>
<li>双字节，第一个字节的值从0x81到0xFE，第二个字节的值从0x40到0xFE（不包括0x7F），与 GBK标准基本兼容。</li>
<li>四字节，第一个字节的值从0x81到0xFE，第二个字节的值从0x30到0x39，第三个字节从0x81到0xFE，第四个字节从0x30到0x39。</li>
</ul>
<h2 id="CP936"><a href="#CP936" class="headerlink" title="CP936"></a>CP936</h2><p><strong>代码页936（Codepage 936）是 Microsoft 的简体中文字元集标准</strong>，<br>是东亚语文的四种双字节字元集（DBCS）之一。其最初版本和 GB 2312 一模一样，<br>但在推出 Windows 95 时扩展成包含绝大部分的 GBK 字元（代码页936 比 GBK 少95个字元，皆为当时尚未收入 Unicode 的字元）；<br>虽然该等字元现在已全部收入 Unicode，但代码页936 至今都没有修订。</p>
<h2 id="libiconv"><a href="#libiconv" class="headerlink" title="libiconv"></a><a href="https://www.gnu.org/software/libiconv/" target="_blank" rel="noopener">libiconv</a></h2><p>几个函数入口及相关转换表：</p>
<pre><code>static int ces_gbk_mbtowc (conv_t conv, ucs4_t *pwc, const unsigned char *s, int n);
static int gbk_mbtowc (conv_t conv, ucs4_t *pwc, const unsigned char *s, int n);</code></pre><p>重要头文件：</p>
<pre><code>lib/encodings.def
lib/ces_gbk.h
lib/gbk.h
lib/gb2312.h
lib/cp936ext.h</code></pre><ol>
<li><a href="https://zh.wikipedia.org/wiki/GB_2312" target="_blank" rel="noopener">GB 2312</a></li>
<li><a href="http://www.knowsky.com/resource/gb2312tbl.htm" target="_blank" rel="noopener">GB2312简体中文编码表</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E6%B1%89%E5%AD%97%E5%86%85%E7%A0%81%E6%89%A9%E5%B1%95%E8%A7%84%E8%8C%83" target="_blank" rel="noopener">汉字内码扩展规范</a></li>
<li><a href="https://zh.wikipedia.org/wiki/GB_18030" target="_blank" rel="noopener">GB 18030</a></li>
<li><a href="https://zh.wikipedia.org/zh-cn/%E4%BB%A3%E7%A2%BC%E9%A0%81936" target="_blank" rel="noopener">代码页936</a></li>
<li><a href="http://r12a.github.io/apps/conversion/" target="_blank" rel="noopener">Unicode code converter</a></li>
<li><a href="http://code.web.idv.hk/" target="_blank" rel="noopener">中文編碼網頁GB18030</a></li>
<li><a href="http://icu-project.org/repos/icu/data/trunk/charset/source/gb18030/" target="_blank" rel="noopener">International Components for Unicode ː Repository Browser</a></li>
<li><a href="ftp://ftp.oreilly.com/examples/cjkvinfo/unicode/gb2312-80.txt">GB2312-80 to Unicode table</a></li>
<li><a href="ftp://ftp.software.ibm.com/software/globalization/gb18030.pdf">GB18030 Conversion Documentation</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/11/va-list/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/11/va-list/" class="post-title-link" itemprop="url">C语言不定参数的使用</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-10-12 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-12T00:00:00+08:00">2015-10-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>2 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="变长参数"><a href="#变长参数" class="headerlink" title="变长参数"></a>变长参数</h2><p>在c语言中使用变长参数最常见的就是下面两个函数了：</p>
<pre><code>int printf(const char *format, ...);
int scanf(const char *format, ...);</code></pre><p>在使用变长参数的函数（这里假设是func）实现部分其实用到了stdarg.h里面的多个宏来访问那些不确定的参数，它们分别是：</p>
<pre><code>void va_start(va_list ap, last);
type va_arg(va_list ap, type);
void va_end(va_list ap);</code></pre><p>假设lastarg是func的最后一个具名参数，即在func函数定义中…之前的那个参数（在printf中lastarg是format），<br>在func中首先定义一个变量：</p>
<pre><code>va_list ap</code></pre><p>这个变量以后会依次指向各个可变参数。ap在使用之前必须用宏va_start初始化一次，如下所示：</p>
<pre><code>va_start(ap, lastarg);</code></pre><p>其中lastarg是func中的最后一个具名参数。然后就可以用va_arg来获得下一个不定参数（前提是知道这个不定参数的类型type）：</p>
<pre><code>type next = va_arg(ap, type)</code></pre><p>最后就是用宏va_end来清理现场。例子：</p>
<pre><code>void _printf(char *format, ...)                                                                                               
{
    #define BUFFER_LEN  256
    char Buf[BUFFER_LEN];
    va_list args;
    memset(Buf,0, BUFFER_LEN);

    va_start(args, format);
    vsnprintf(Buf, BUFFER_LEN, format, args);
    va_end(args);

    printf(&quot;%s&quot;, Buf);
}</code></pre><p>另一个例子：</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdarg.h&gt;

void func(char *fmt, ...)
{
    va_list ap;

    va_start(ap, fmt);

    while (*fmt)
    {
        switch(*fmt)
        {
            case &#39;d&#39;:
                fprintf(stdout, &quot;%d\n&quot;, (int)va_arg(ap, int));
                break;
            case &#39;c&#39;:
                fprintf(stdout, &quot;%c\n&quot;, (char)va_arg(ap, int));
                break;
            case &#39;s&#39;:
                fprintf(stdout, &quot;%s\n&quot;, (char *)va_arg(ap, char *));
                break;
            default:
                fprintf(stderr, &quot;error fmt\n&quot;);

        }
        fmt ++;
    }
    va_end(ap);
}

int main ( int argc, char *argv[]  )
{
    func(&quot;dcs&quot;, 10, &#39;s&#39;, &quot;hello&quot;);
        return 0;

}               /* ----------  end of function main  ---------- */</code></pre><h2 id="函数参数的传递原理"><a href="#函数参数的传递原理" class="headerlink" title="函数参数的传递原理"></a>函数参数的传递原理</h2><p>函数参数是以数据结构:栈的形式存取,从右至左入栈。</p>
<p>首先是参数的内存存放格式：参数存放在内存的堆栈段中，在执行函数的时候，从最后一个开始入栈。<br>因此栈底高地址，栈顶低地址，举个例子如下：</p>
<pre><code>void func(int x, float y, char z);</code></pre><p>那么，调用函数的时候，实参 char z 先进栈，然后是 float y，最后是 int x，<br>因此在内存中变量的存放次序是 x-&gt;y-&gt;z，<br>因此，从理论上说，我们只要探测到任意一个变量的地址，<br>并且知道其他变量的类型，通过指针移位运算，则总可以顺藤摸瓜找到其他的输入变量。<br>va_list 是一个字符指针，可以理解为指向当前参数的一个指针，取参必须通过这个指针进行。</p>
<ol>
<li>在调用参数表之前，定义一个 va_list 类型的变量，(假设va_list 类型变量被定义为ap)；</li>
<li>然后应该对ap 进行初始化，让它指向可变参数表里面的第一个参数，<br>这是通过 va_start 来实现的，第一个参数是 ap 本身，第二个参数是在变参表前面紧挨着的一个变量,即“…”之前的那个参数；</li>
<li>然后是获取参数，调用va_arg，它的第一个参数是ap，第二个参数是要获取的参数的指定类型，<br>然后返回这个指定类型的值，并且把 ap 的位置指向变参表的下一个变量位置；</li>
<li>获取所有的参数之后，我们有必要将这个 ap 指针关掉，以免发生危险，方法是调用 va_end，<br>他是输入的参数 ap 置为 NULL，应该养成获取完参数表之后关闭指针的习惯。<br>通常va_start和va_end是成对出现。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/09/27/unused-sourcecode-ld/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IT日记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/09/27/unused-sourcecode-ld/" class="post-title-link" itemprop="url">不链接未使用代码</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-09-28 00:00:00" itemprop="dateCreated datePublished" datetime="2015-09-28T00:00:00+08:00">2015-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-25 20:18:40" itemprop="dateModified" datetime="2020-03-25T20:18:40+08:00">2020-03-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>833</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript">
$(document).ready(function(){
        $("h2,h3,h4,h5,h6").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $("#category").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
            $(".newh4").css("margin-left",40);
            $(".newh5").css("margin-left",60);
            $(".newh6").css("margin-left",80);
            });
        });
</script>
<div id="category"></div>

<h2 id="默认编译"><a href="#默认编译" class="headerlink" title="默认编译"></a>默认编译</h2><p>默认编译环境下.c文件会编译为.o文件，当链接时会链接.o文件，整个.o文件为一个section，当此section存在无用函数时会造成控件浪费。</p>
<pre><code>gcc -o main main.c x.o</code></pre><p>可以使用命令来查看二进制可执行文件中的符号表，所有函数都链接进去：</p>
<pre><code>nm -S main
readelf -S x.o</code></pre><p>GCC链接时，按照section来链接，不论section中符号是否都使用到！</p>
<h2 id="拆分默认section"><a href="#拆分默认section" class="headerlink" title="拆分默认section"></a>拆分默认section</h2><pre><code>-ffunction-sections （为每个function函数分配独立的section）
-fdata-sections （为每个data item数据项分配独立的section）

gcc -c -ffunction-sections -fdata-sections x.c x.o</code></pre><p>x.o大小会明显变大，因为section大量增加。</p>
<h2 id="排除不链接section-Wl-–gc-sections"><a href="#排除不链接section-Wl-–gc-sections" class="headerlink" title="排除不链接section -Wl,–gc-sections"></a>排除不链接section -Wl,–gc-sections</h2><pre><code>-Wl,的意思是将后面的内容传递给链接器
--gc-sections是链接器参数，不链接未使用的section

gcc -Wl,--gc-sections -o main main.c x.o</code></pre><p>可以保证代码量最优。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/25/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/27/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Breeze.Temple"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Breeze.Temple</p>
  <div class="site-description" itemprop="description">Breeze.Temple</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">439</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">59</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">469</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/breezetemple" title="GitHub &rarr; https://github.com/breezetemple" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://bitbucket.org" title="BitBucket &rarr; https://bitbucket.org" rel="noopener" target="_blank"><i class="fa fa-fw fa-bitbucket"></i>BitBucket</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://breezetemple.github.io/" title="http://breezetemple.github.io/" rel="noopener" target="_blank">Breeze.Temple's HomePage</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Breeze.Temple</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">17:56</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>














  

  


  <link rel="stylesheet" href="/js/highlight/styles/solarized-dark.css">
  <script src="/js/highlight/highlight.pack.js"></script>
  <script type="text/javascript">
      $(function() {
          hljs.initHighlighting();
      });
  </script>

</body>
</html>
