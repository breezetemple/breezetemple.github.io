<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="命令行的艺术 笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="命令行的艺术">
<meta property="og:url" content="http://yoursite.com/2020/02/19/the-art-of-command-line/index.html">
<meta property="og:site_name">
<meta property="og:description" content="命令行的艺术 笔记">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-19T03:01:45.000Z">
<meta property="article:modified_time" content="2022-10-12T02:24:40.145Z">
<meta property="article:author" content="Breeze.Temple">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="bash">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2020/02/19/the-art-of-command-line/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>命令行的艺术 | </title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title"></span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/19/the-art-of-command-line/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Breeze.Temple">
      <meta itemprop="description" content="Breeze.Temple">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          命令行的艺术
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-19 11:01:45" itemprop="dateCreated datePublished" datetime="2020-02-19T11:01:45+08:00">2020-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-12 10:24:40" itemprop="dateModified" datetime="2022-10-12T10:24:40+08:00">2022-10-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index">
                    <span itemprop="name">Shell</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>10 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md" target="_blank" rel="noopener">命令行的艺术</a> 笔记</p>
<a id="more"></a>

<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ul>
<li><p><code>man bash</code> 学习 Bash 基础知识</p>
</li>
<li><p><code>man</code> 阅读文档</p>
</li>
<li><p><code>apropos</code> 查找文档</p>
</li>
<li><p>有些命令并不对应可执行文件，而是在 Bash 内置好的，此时可以使用 <code>help</code> 和 <code>help -d</code> 命令获取帮助信息</p>
</li>
<li><p><code>type 命令</code> 来判断这个命令到底是可执行文件、shell 内置命令还是别名</p>
</li>
<li><p><code>&gt;</code> 和 <code>&lt;</code> 来重定向输出和输入</p>
</li>
<li><p><code>|</code> 来重定向管道</p>
</li>
<li><p><code>&gt;</code> 会覆盖输出文件而 <code>&gt;&gt;</code> 是在文件末添加。了解标准输出 stdout 和标准错误 stderr</p>
</li>
<li><p>通配符</p>
<ul>
<li><p><code>*</code> 代表任意数量的字符</p>
</li>
<li><p><code>?</code> 字符代表单个字符</p>
</li>
<li><p><code>[...]</code> 匹配方括号之中的任意一个字符</p>
</li>
<li><p><code>[start-end]</code> 表示一个连续的范围</p>
</li>
<li><p><code>[^...]</code> 和 <code>[!...]</code> 表示匹配不在方括号里面的字符，也可以是连续范围 <code>[!start-end]</code></p>
</li>
<li><p><code>{...}</code> 表示匹配大括号里面的所有模式，模式之间使用逗号分隔</p>
</li>
<li><p><code>{start..end}</code> 会匹配连续范围的字符</p>
</li>
<li><p><code>[]</code> 需要匹配的字符集合。<code>{}</code> 代表一组表达式的与关系</p>
</li>
<li><p><code>{...}</code> 与 <code>[...]</code> 有一个很重要的区别。如果匹配的文件不存在，<code>[...]</code> 会失去模式的功能，变成一个单纯的字符串，而 <code>{...}</code> 依然可以展开</p>
<pre><code class="bash">$ ls [ab].txt
ls: [ab].txt: No such file or directory

$ ls {a,b}.txt
ls: a.txt: No such file or directory
ls: b.txt: No such file or directory</code></pre>
</li>
<li><p><strong>通配符是先解释，再执行</strong></p>
</li>
<li><p><strong>通配符不匹配，会原样输出</strong>，这条规则对 <code>{...}</code> 不适用</p>
</li>
<li><p>上面所有通配符只匹配单层路径，不能跨目录匹配，如果要匹配子目录里面的文件 <code>ls */*.txt</code></p>
</li>
</ul>
</li>
<li><p>引用意味着保护在引号中的字符串</p>
<ul>
<li><p><code>&quot;&quot;</code> 部分引用，允许解释变量名前缀 ($)、后引符 (`) 和 转义符 (\)</p>
</li>
<li><p><code>&#39;&#39;</code> 全局引用，不允许解释变量引用，不会展开通配符</p>
</li>
<li><p>变量引用会保留空白字符</p>
<pre><code class="bash">$ hello=&quot;A B  C   D&quot;
$ echo $hello
A B C D
$ echo &quot;$hello&quot;
A B  C   D</code></pre>
</li>
<li><p><code>&#39;&#39;</code> 保护被引起字符串中的特殊字符</p>
<pre><code class="bash">$ ls
first a.txt b.txt
$ grep &#39;[Ff]irst&#39; *.txt
a.txt:This is the first line of file1.txt.
b.txt:This is the First line of file1.txt.

# [Ff]irst　解释匹配到文件 first，因此等效于 grep first *.txt
$ grep [Ff]irst *.txt
a.txt:This is the first line of file1.txt.

# 删除之后未匹配到，原样输出
$ rm first
$ grep [Ff]irst *.txt
a.txt:This is the first line of file1.txt.
b.txt:This is the First line of file1.txt.</code></pre>
</li>
</ul>
</li>
<li><p>Bash 中的任务管理工具：</p>
<ul>
<li><code>&amp;</code> 后台执行</li>
<li><strong>ctrl-z</strong> 挂起当前任务</li>
<li><strong>ctrl-c</strong> 中断前台任务</li>
<li><code>jobs</code> 列出所有后台任务</li>
<li><code>fg %</code> 指定后台任务转到前台</li>
<li><code>bg</code> 当前任务转到后台</li>
<li><code>kill %</code> 杀掉指定后台任务</li>
</ul>
</li>
<li><p>基本网络管理工具：</p>
<ul>
<li><code>ifconfig</code> 是 <code>net-tools</code> 套件提供的网络管理命令</li>
<li><code>ip</code> 是 <code>iproute2</code> 套件提供的网络管理命令，功能更强大，并旨在取代后<pre><code class="bash">$ sudo ip addr add 192.168.0.193/24 dev wlan0
$ ip addr show wlan0
$ ip route show
$ ip neighbour # mac addr
$ sudo ip link set ppp0 down
$ sudo ip link set ppp0 up</code></pre>
</li>
<li><code>dig</code> 和 <code>nslookup</code> 用来解析域名，<code>dig</code> 可以得到更多的域名信息</li>
</ul>
</li>
<li><p><code>grep</code> / <code>egrep</code> 正则表达式</p>
<ul>
<li><code>egrep</code> = <code>grep -E</code></li>
<li><code>-i</code> –ignore-case</li>
<li><code>-o</code> –only-matchin</li>
<li><code>-v</code> –invert-match</li>
<li><code>-A</code> –after-context</li>
<li><code>-B</code> –before-context</li>
<li><code>-C</code> –context</li>
</ul>
</li>
<li><p>学会基本的文件管理工具：<code>ls</code> 和 <code>ls -l</code> （了解 <code>ls -l</code> 中每一列代表的意义），<code>less</code>，<code>head</code>，<code>tail</code> 和 <code>tail -f</code> （甚至 <code>less +F</code>），<code>ln</code> 和 <code>ln -s</code> （了解硬链接与软链接的区别），<code>chown</code>，<code>chmod</code>，<code>du</code> （硬盘使用情况概述：<code>du -hs \*</code>）。 关于文件系统的管理，学习 <code>df</code>，<code>mount</code>，<code>fdisk</code>，<code>mkfs</code>，<code>lsblk</code>。知道 inode 是什么（与 <code>ls -i</code> 和 <code>df -i</code> 等命令相关）。</p>
</li>
</ul>
<h2 id="日常使用"><a href="#日常使用" class="headerlink" title="日常使用"></a>日常使用</h2><ul>
<li><p>Bash 命令行</p>
<ul>
<li><strong>Tab</strong> 自动补全参数</li>
<li><strong>ctrl-r</strong> 搜索命令行历史记录<ul>
<li>重复按下 <strong>ctrl-r</strong> 会向后查找匹配项</li>
<li><strong>Enter</strong> 键会执行当前匹配的命令</li>
<li>右方向键会将匹配项放入当前行中，不会直接执行，以便做出修改</li>
</ul>
</li>
</ul>
</li>
<li><p>Bash 命令行移动</p>
<ul>
<li><strong>ctrl-w</strong> 删除最后一个单词</li>
<li><strong>ctrl-u</strong> 删除行内光标所在位置之前的内容</li>
<li><strong>alt-b</strong> 和 <strong>alt-f</strong> 以单词为单位移动光标</li>
<li><strong>ctrl-a</strong> 光标移至行首</li>
<li><strong>ctrl-e</strong> 光标移至行尾</li>
<li><strong>ctrl-k</strong> 删除光标至行尾的所有内容</li>
<li><strong>ctrl-l</strong> 清屏</li>
<li><code>man readline</code> 可以查看 Bash 中的默认快捷键。内容有很多，例如 <strong>alt-.</strong> 循环地移向前一个参数，而 <strong>alt-*</strong> 可以展开通配符</li>
</ul>
</li>
<li><p>按下 <strong>alt-#</strong> 在行首添加 <code>#</code> 把它当做注释再按下回车执行。之后借助命令行历史记录，你可以很方便恢复你刚才输入到一半的命令</p>
</li>
<li><p><code>xargs</code> 将标准输入转为命令行参数</p>
<ul>
<li><code>-L</code> 指定多少行作为一个命令行参数</li>
<li><code>-P</code> 最大并行数</li>
<li><code>-i</code> 或 <code>-I</code> 将命令行参数传给多个命令<pre><code class="bash">$ find . -name &#39;*.py&#39; | xargs grep some_function
$ cat hosts | xargs -I{} ssh root@{} hostname
$ find . -name &quot;*.c&quot; | xargs -i cp {} ~
$ echo -e &quot;a\nb\nc&quot; | xargs -L 1 echo
a
b
c
$ echo -e &quot;a\nb\nc&quot; | xargs -L 2 echo
a b
c</code></pre>
</li>
</ul>
</li>
<li><p><code>parallel</code> 在一台或多台计算机上并行的执行计算任务</p>
</li>
<li><p><code>pstree -p</code> 以一种优雅的方式展示进程树</p>
</li>
<li><p><code>pgrep</code> 和 <code>pkill</code> 根据名字查找进程或发送信号（<code>-f</code> 参数通常有用）</p>
</li>
<li><p><code>kill</code> 发送信号给进程</p>
<ul>
<li><code>kill -l</code> 所有信号种类</li>
<li><code>man 7 signal</code> 查看详细列表</li>
<li><code>kill -STOP [pid]</code> 发送 <code>STOP</code> 信号到进程以停止进程</li>
</ul>
</li>
<li><p>使一个后台进程持续运行</p>
<ul>
<li><code>disown</code> 是bash的内置命令，将指定任务从 <code>jobs</code> 列表之中移除<pre><code class="bash"># 移出最近一个正在执行的后台任务
$ disown
# 移出所有正在执行的后台任务
$ disown -r
# 移出所有后台任务
$ disown -a
# 不移出后台任务，但是让它们不会收到SIGHUP信号
$ disown -h
# 根据jobId，移出指定的后台任务
$ disown %2
$ disown -h %2</code></pre>
</li>
<li><code>nohup</code> 命令实际上将子进程与它所在的 session 分离，不会自动把进程变为后台任务，所以必须加上 <code>&amp;</code> 符号<pre><code class="bash">$ nohup node server.js &amp;</code></pre>
</li>
</ul>
</li>
<li><p>检查端口</p>
<ul>
<li><code>netstat -lntp</code> 或 <code>ss -plat</code> 检查哪些进程在监听端口（默认是检查 TCP 端口; 添加参数 <code>-u</code> 则检查 UDP 端口）</li>
<li><code>lsof -iTCP -sTCP:LISTEN -P -n</code></li>
</ul>
</li>
<li><p><code>lsof</code> 来查看开启的套接字和文件</p>
</li>
<li><p><code>uptime</code> 或 <code>w</code> 来查看系统已经运行多长时间</p>
</li>
<li><p><code>alias</code> 来创建常用命令的快捷形式。例如：<code>alias ll=&#39;ls -latr&#39;</code> 创建了一个新的命令别名 <code>ll</code></p>
</li>
<li><p>可以把别名、shell 选项和常用函数保存在 <code>~/.bashrc</code>，具体看下这篇<a href="http://superuser.com/a/183980/7106" target="_blank" rel="noopener">文章</a>。这样做的话你就可以在所有 shell 会话中使用你的设定</p>
</li>
<li><p>把环境变量的设定以及登陆时要执行的命令保存在 <code>~/.bash_profile</code>。而对于从图形界面启动的 shell 和 <code>cron</code> 启动的 shell，则需要单独配置文件</p>
</li>
<li><p>要想在几台电脑中同步你的配置文件（例如 <code>.bashrc</code> 和 <code>.bash_profile</code>），可以借助 Git 建立 repository</p>
</li>
<li><p>变量和文件名中包含空格处理时要格外小心</p>
<ul>
<li>Bash 变量要用引号括起来，比如 <code>&quot;$FOO&quot;</code> 部分引用</li>
<li>使用 <code>-0</code> 或 <code>-print0</code> 选项以便用 <code>NULL</code> 代替 <code></code> 来分隔文件名<pre><code class="bash">$ locate -0 pattern | xargs -0 ls -al
$ find / -print0 -type d | xargs -0 ls -al</code></pre>
</li>
<li>for 循环中循环访问的文件名含有空字符（空格、tab 等字符），只需用 <code>IFS=$&#39;\n&#39;</code> 把内部字段分隔符设为换行符</li>
</ul>
</li>
<li><p>Bash <code>set</code> 使用</p>
<ul>
<li><code>set -x</code> 输出执行的那行命令</li>
<li><code>set -v</code></li>
<li><code>set -e</code> 发生错误时退出而不是继续运行</li>
<li><code>set -u</code> 来检查是否使用了未赋值的变量</li>
<li><code>set -o pipefail</code>，它可以监测管道中的错误</li>
<li>当牵扯到很多脚本时，使用 <code>trap</code> 来检测 ERR 和 EXIT。一个好的习惯是在脚本文件开头这样写，这会使它能够检测一些错误，并在错误发生时中断程序并输出信息：<pre><code class="bash">set -euxo pipefail
trap &quot;echo &#39;error: Script failed: see failed command above&#39;&quot; ERR</code></pre>
</li>
</ul>
</li>
<li><p>Bash subshell</p>
<ul>
<li>subshell 调用方式<ul>
<li>运行另一个 shell 脚本</li>
<li>嵌在 <code>()</code> 里的一列命令在一个子 shell 里运行</li>
<li>管道产生子shell</li>
</ul>
</li>
<li>子 shell 中的目录更改不会影响到父 shell</li>
<li>子 shell 里的变量实际为局部变量</li>
<li>子 shell 可用于为一组命令设定临时的环境变量</li>
<li>子 shell（使用括号 <code>(...)</code>）是一种组织参数的便捷方式。一个常见的例子是临时地移动工作路径<pre><code class="bash"># do something in current dir
(cd /some/other/dir &amp;&amp; other-command)
# continue in original dir</code></pre>
</li>
</ul>
</li>
<li><p>Bash 变量扩展</p>
<ul>
<li><code>$#</code> 参数个数</li>
<li><code>$0</code> - <code>$9</code> 位置参数</li>
<li><code>${name:?error message}</code> 用于检查变量是否存在</li>
<li><code>input_file=${1:?usage: $0 input_file}</code> 只需要一个参数</li>
<li><code>${name:-default}</code> 变量为空时使用默认值</li>
<li><code>output_file=${2:-logfile}</code> 再加一个（可选的）参数，默认值为 <code>logfile</code></li>
<li>数学运算符 <code>((...))</code>，例如 <code>i=$(( (i + 1) % 5 ))</code></li>
<li>序列 <code>{1..10}</code>，例如 <code>for i in {1..5}; do echo $i; done</code></li>
<li>模式匹配截断字符串：<code>${var%suffix}</code> 和 <code>${var#prefix}</code>。例如，假设 <code>var=foo.pdf</code>，那么 <code>echo ${var%.pdf}.txt</code> 将输出 <code>foo.txt</code></li>
<li><code>${PARAMETER/PATTERN/STRING}</code> 替换字符串</li>
</ul>
</li>
<li><p>括号扩展（<code>{</code>…<code>}</code>）来减少输入相似文本，并自动化文本组合</p>
<pre><code class="bash">  # mv foo.txt foo.pdf ../
  $ mv foo.{txt.pdf} ../
  # cp foo foo.bak
  $ cp foo{,.bak}
  # mkdir -p test-a/subtest-{1,2,3} test-b/subtest-{1,2,3} test-c/subtest-{1,2,3}
  $ mkdir -p test-{a,b,c}/subtest-{1,2,3}</code></pre>
</li>
<li><p><code>&lt;(some command)</code> 可以将输出视为文件。例如，对比本地文件 <code>/etc/hosts</code> 和一个远程文件：</p>
<pre><code class="bash">  diff /etc/hosts &lt;(ssh somehost cat /etc/hosts)</code></pre>
</li>
<li><p>编写脚本时，把代码都放在大括号里可以防止下载不完全代码被执行</p>
<pre><code class="bash">  {
      # 在这里写代码
  }</code></pre>
</li>
<li><p>Here Documents 是一种定义字符串的方法，可以保存文字里面的换行或是缩排等空白字元</p>
<pre><code class="bash">cat &lt;&lt;End-of-message
-------------------------------------
This is line 1 of the message.
This is line 2 of the message.
This is the last line of the message.
-------------------------------------
End-of-message</code></pre>
</li>
<li><p>同时重定向标准输出和标准错误</p>
<ul>
<li><code>&gt;</code> 重定向标准输出</li>
<li><code>&lt;</code> 重定向标准输入</li>
<li><code>/dev/null</code> 特殊空设备<ul>
<li><code>&gt; /dev/null</code> 丢弃输出</li>
<li><code>&lt; /dev/null</code> 发送 EOF 给程序并立刻断开输入</li>
<li>为了保证命令不会在标准输入里残留一个未关闭的文件句柄捆绑在你当前所在的终端上，在命令后添加 <code>&lt; /dev/null</code></li>
</ul>
</li>
<li>There are two formats for redirecting standard output and standard error:<ul>
<li><code>&amp;&gt;word</code> 推荐使用</li>
<li><code>&gt;&amp;word</code></li>
<li>等效于 <code>&gt;word 2&gt;&amp;1</code><pre><code class="bash">$ ls -l &amp;&gt;logfile &lt;/dev/null
$ ls -l &gt;logfile 2&gt;&amp;1 &lt;/dev/null</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>查看编码信息</p>
<ul>
<li><code>man ascii</code> 查看具有十六进制和十进制值的ASCII表</li>
<li><code>man unicode</code>，<code>man utf-8</code>，以及 <code>man latin1</code> 通用编码信息</li>
</ul>
</li>
</ul>
<ul>
<li><p>使用 <code>screen</code> 或 <a href="https://tmux.github.io/" target="_blank" rel="noopener"><code>tmux</code></a> 来使用多份屏幕，当你在使用 ssh 时（保存 session 信息）将尤为有用。而 <code>byobu</code> 可以为它们提供更多的信息和易用的管理工具。另一个轻量级的 session 持久化解决方案是 <a href="https://github.com/bogner/dtach" target="_blank" rel="noopener"><code>dtach</code></a>。</p>
</li>
<li><p>ssh 中，了解如何使用 <code>-L</code> 或 <code>-D</code>（偶尔需要用 <code>-R</code>）开启隧道是非常有用的，比如当你需要从一台远程服务器上访问 web 页面。</p>
</li>
<li><p>对 ssh 设置做一些小优化可能是很有用的，例如这个 <code>~/.ssh/config</code> 文件包含了防止特定网络环境下连接断开、压缩数据、多通道等选项：</p>
<pre><code>    TCPKeepAlive=yes
    ServerAliveInterval=15
    ServerAliveCountMax=6
    Compression=yes
    ControlMaster auto
    ControlPath /tmp/%r@%h:%p
    ControlPersist yes</code></pre></li>
<li><p>一些其他的关于 ssh 的选项是与安全相关的，应当小心翼翼的使用。例如你应当只能在可信任的网络中启用 <code>StrictHostKeyChecking=no</code>，<code>ForwardAgent=yes</code>。</p>
</li>
<li><p>考虑使用 <a href="https://mosh.mit.edu/" target="_blank" rel="noopener"><code>mosh</code></a> 作为 ssh 的替代品，它使用 UDP 协议。它可以避免连接被中断并且对带宽需求更小，但它需要在服务端做相应的配置。</p>
</li>
<li><p>获取八进制形式的文件访问权限（修改系统设置时通常需要，但 <code>ls</code> 的功能不那么好用并且通常会搞砸），可以使用类似如下的代码：</p>
<pre><code class="sh">    stat -c &#39;%A %a %n&#39; /etc/timezone</code></pre>
</li>
<li><p>使用 <a href="https://github.com/mooz/percol" target="_blank" rel="noopener"><code>percol</code></a> 或者 <a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener"><code>fzf</code></a> 可以交互式地从另一个命令输出中选取值。</p>
</li>
<li><p>使用 <code>fpp</code>（<a href="https://github.com/facebook/PathPicker" target="_blank" rel="noopener">PathPicker</a>）可以与基于另一个命令(例如 <code>git</code>）输出的文件交互。</p>
</li>
<li><p>将 web 服务器上当前目录下所有的文件（以及子目录）暴露给你所处网络的所有用户，使用：<br><code>python -m SimpleHTTPServer 7777</code> （使用端口 7777 和 Python 2）或<code>python -m http.server 7777</code> （使用端口 7777 和 Python 3）。</p>
</li>
<li><p>以其他用户的身份执行命令，使用 <code>sudo</code>。默认以 root 用户的身份执行；使用 <code>-u</code> 来指定其他用户。使用 <code>-i</code> 来以该用户登录（需要输入_你自己的_密码）。</p>
</li>
<li><p>将 shell 切换为其他用户，使用 <code>su username</code> 或者 <code>sudo - username</code>。加入 <code>-</code> 会使得切换后的环境与使用该用户登录后的环境相同。省略用户名则默认为 root。切换到哪个用户，就需要输入_哪个用户的_密码。</p>
</li>
<li><p>了解命令行的 <a href="https://wiki.debian.org/CommonErrorMessages/ArgumentListTooLong" target="_blank" rel="noopener">128K 限制</a>。使用通配符匹配大量文件名时，常会遇到“Argument list too long”的错误信息。（这种情况下换用 <code>find</code> 或 <code>xargs</code> 通常可以解决。）</p>
</li>
<li><p>当你需要一个基本的计算器时，可以使用 <code>python</code> 解释器（当然你要用 python 的时候也是这样）。例如：</p>
<pre><code>&gt;&gt;&gt; 2+3
5</code></pre></li>
</ul>
<h2 id="文件及数据处理"><a href="#文件及数据处理" class="headerlink" title="文件及数据处理"></a>文件及数据处理</h2><ul>
<li><p>通过文件名查找文件</p>
<ul>
<li>当前目录 <code>find . -iname &#39;*something*&#39;</code></li>
<li>所有路径 <code>locate something</code> （但注意到 <code>updatedb</code> 可能没有对最近新建的文件建立索引，所以你可能无法定位到这些未被索引的文件）</li>
</ul>
</li>
<li><p>检索源码 <code>ag</code> <code>rg</code></p>
</li>
<li><p>Markdown，HTML，以及所有文档格式之间的转换，<a href="http://pandoc.org/" target="_blank" rel="noopener"><code>pandoc</code></a></p>
</li>
<li><p>使用 <a href="http://stedolan.github.io/jq/" target="_blank" rel="noopener"><code>jq</code></a> 处理 JSON</p>
</li>
<li><p>将 HTML 转为文本：<code>lynx -dump -stdin</code>。</p>
</li>
<li><p>当你要处理棘手的 XML 时候，<code>xmlstarlet</code> 算是上古时代流传下来的神器。</p>
</li>
<li><p>使用 <a href="https://github.com/0k/shyaml" target="_blank" rel="noopener"><code>shyaml</code></a> 处理 YAML。</p>
</li>
<li><p>要处理 Excel 或 CSV 文件的话，<a href="https://github.com/onyxfish/csvkit" target="_blank" rel="noopener">csvkit</a> 提供了 <code>in2csv</code>，<code>csvcut</code>，<code>csvjoin</code>，<code>csvgrep</code> 等方便易用的工具。</p>
</li>
<li><p>当你要处理 Amazon S3 相关的工作的时候，<a href="https://github.com/s3tools/s3cmd" target="_blank" rel="noopener"><code>s3cmd</code></a> 是一个很方便的工具而 <a href="https://github.com/bloomreach/s4cmd" target="_blank" rel="noopener"><code>s4cmd</code></a> 的效率更高。Amazon 官方提供的 <a href="https://github.com/aws/aws-cli" target="_blank" rel="noopener"><code>aws</code></a> 以及  <a href="https://github.com/donnemartin/saws" target="_blank" rel="noopener"><code>saws</code></a> 是其他 AWS 相关工作的基础，值得学习。</p>
</li>
<li><p>了解如何使用 <code>sort</code> 和 <code>uniq</code>，包括 uniq 的 <code>-u</code> 参数和 <code>-d</code> 参数，具体内容在后文单行脚本节中。另外可以了解一下 <code>comm</code>。</p>
</li>
<li><p>了解如何使用 <code>cut</code>，<code>paste</code> 和 <code>join</code> 来更改文件。很多人都会使用 <code>cut</code>，但遗忘了 <code>join</code>。</p>
</li>
<li><p>了解如何运用 <code>wc</code> 去计算新行数（<code>-l</code>），字符数（<code>-m</code>），单词数（<code>-w</code>）以及字节数（<code>-c</code>）。</p>
</li>
<li><p>了解如何使用 <code>tee</code> 将标准输入复制到文件甚至标准输出，例如 <code>ls -al | tee file.txt</code>。</p>
</li>
<li><p>要进行一些复杂的计算，比如分组、逆序和一些其他的统计分析，可以考虑使用 <a href="https://www.gnu.org/software/datamash/" target="_blank" rel="noopener"><code>datamash</code></a>。</p>
</li>
<li><p>注意到语言设置（中文或英文等）对许多命令行工具有一些微妙的影响，比如排序的顺序和性能。大多数 Linux 的安装过程会将 <code>LANG</code> 或其他有关的变量设置为符合本地的设置。要意识到当你改变语言设置时，排序的结果可能会改变。明白国际化可能会使 sort 或其他命令运行效率下降<em>许多倍</em>。某些情况下（例如集合运算）你可以放心的使用 <code>export LC_ALL=C</code> 来忽略掉国际化并按照字节来判断顺序。</p>
</li>
<li><p>你可以单独指定某一条命令的环境，只需在调用时把环境变量设定放在命令的前面，例如 <code>TZ=Pacific/Fiji date</code> 可以获取斐济的时间。</p>
</li>
<li><p>了解如何使用 <code>awk</code> 和 <code>sed</code> 来进行简单的数据处理。 参阅 <a href="#one-liners">One-liners</a> 获取示例。</p>
</li>
<li><p>替换一个或多个文件中出现的字符串：</p>
<pre><code class="sh">    perl -pi.bak -e &#39;s/old-string/new-string/g&#39; my-files-*.txt</code></pre>
</li>
<li><p>使用 <a href="https://github.com/jlevy/repren" target="_blank" rel="noopener"><code>repren</code></a> 来批量重命名文件，或是在多个文件中搜索替换内容。（有些时候 <code>rename</code> 命令也可以批量重命名，但要注意，它在不同 Linux 发行版中的功能并不完全一样。）</p>
<pre><code class="sh">    # 将文件、目录和内容全部重命名 foo -&gt; bar:
    repren --full --preserve-case --from foo --to bar .
    # 还原所有备份文件 whatever.bak -&gt; whatever:
    repren --renames --from &#39;(.*)\.bak&#39; --to &#39;\1&#39; *.bak
    # 用 rename 实现上述功能（若可用）:
    rename &#39;s/\.bak$//&#39; *.bak</code></pre>
</li>
<li><p>根据 man 页面的描述，<code>rsync</code> 是一个快速且非常灵活的文件复制工具。它闻名于设备之间的文件同步，但其实它在本地情况下也同样有用。在安全设置允许下，用 <code>rsync</code> 代替 <code>scp</code> 可以实现文件续传，而不用重新从头开始。它同时也是删除大量文件的<a href="https://web.archive.org/web/20130929001850/http://linuxnote.net/jianingy/en/linux/a-fast-way-to-remove-huge-number-of-files.html" target="_blank" rel="noopener">最快方法</a>之一：</p>
<pre><code class="sh">mkdir empty &amp;&amp; rsync -r --delete empty/ some-dir &amp;&amp; rmdir some-dir</code></pre>
</li>
<li><p>若要在复制文件时获取当前进度，可使用 <code>pv</code>，<a href="https://github.com/dmerejkowsky/pycp" target="_blank" rel="noopener"><code>pycp</code></a>，<a href="https://github.com/Xfennec/progress" target="_blank" rel="noopener"><code>progress</code></a>，<code>rsync --progress</code>。若所执行的复制为block块拷贝，可以使用 <code>dd status=progress</code>。</p>
</li>
<li><p>使用 <code>shuf</code> 可以以行为单位来打乱文件的内容或从一个文件中随机选取多行。</p>
</li>
<li><p>了解 <code>sort</code> 的参数。显示数字时，使用 <code>-n</code> 或者 <code>-h</code> 来显示更易读的数（例如 <code>du -h</code> 的输出）。明白排序时关键字的工作原理（<code>-t</code> 和 <code>-k</code>）。例如，注意到你需要 <code>-k1，1</code> 来仅按第一个域来排序，而 <code>-k1</code> 意味着按整行排序。稳定排序（<code>sort -s</code>）在某些情况下很有用。例如，以第二个域为主关键字，第一个域为次关键字进行排序，你可以使用 <code>sort -k1，1 | sort -s -k2，2</code>。</p>
</li>
<li><p>如果你想在 Bash 命令行中写 tab 制表符，按下 <strong>ctrl-v</strong> <strong>[Tab]</strong> 或键入 <code>$&#39;\t&#39;</code> （后者可能更好，因为你可以复制粘贴它）。</p>
</li>
<li><p>标准的源代码对比及合并工具是 <code>diff</code> 和 <code>patch</code>。使用 <code>diffstat</code> 查看变更总览数据。注意到 <code>diff -r</code> 对整个文件夹有效。使用 <code>diff -r tree1 tree2 | diffstat</code> 查看变更的统计数据。<code>vimdiff</code> 用于比对并编辑文件。</p>
</li>
<li><p>对于二进制文件，使用 <code>hd</code>，<code>hexdump</code> 或者 <code>xxd</code> 使其以十六进制显示，使用 <code>bvi</code>，<code>hexedit</code> 或者 <code>biew</code> 来进行二进制编辑。</p>
</li>
<li><p>同样对于二进制文件，<code>strings</code>（包括 <code>grep</code> 等工具）可以帮助在二进制文件中查找特定比特。</p>
</li>
<li><p>制作二进制差分文件（Delta 压缩），使用 <code>xdelta3</code>。</p>
</li>
<li><p>使用 <code>iconv</code> 更改文本编码。需要更高级的功能，可以使用 <code>uconv</code>，它支持一些高级的 Unicode 功能。例如，这条命令移除了所有重音符号：</p>
<pre><code class="sh">    uconv -f utf-8 -t utf-8 -x &#39;::Any-Lower; ::Any-NFD; [:Nonspacing Mark:] &gt;; ::Any-NFC; &#39; &lt; input.txt &gt; output.txt</code></pre>
</li>
<li><p>拆分文件可以使用 <code>split</code>（按大小拆分）和 <code>csplit</code>（按模式拆分）。</p>
</li>
<li><p>操作日期和时间表达式，可以用 <a href="http://www.fresse.org/dateutils/" target="_blank" rel="noopener"><code>dateutils</code></a> 中的 <code>dateadd</code>、<code>datediff</code>、<code>strptime</code> 等工具。</p>
</li>
<li><p>使用 <code>zless</code>、<code>zmore</code>、<code>zcat</code> 和 <code>zgrep</code> 对压缩过的文件进行操作。</p>
</li>
<li><p>文件属性可以通过 <code>chattr</code> 进行设置，它比文件权限更加底层。例如，为了保护文件不被意外删除，可以使用不可修改标记：<code>sudo chattr +i /critical/directory/or/file</code></p>
</li>
<li><p>使用 <code>getfacl</code> 和 <code>setfacl</code> 以保存和恢复文件权限。例如：</p>
<pre><code class="sh"> getfacl -R /some/path &gt; permissions.txt
 setfacl --restore=permissions.txt</code></pre>
</li>
<li><p>为了高效地创建空文件，请使用 <code>truncate</code>（创建<a href="https://zh.wikipedia.org/wiki/稀疏文件" target="_blank" rel="noopener">稀疏文件</a>），<code>fallocate</code>（用于 ext4，xfs，btrf 和 ocfs2 文件系统），<code>xfs_mkfile</code>（适用于几乎所有的文件系统，包含在 xfsprogs 包中），<code>mkfile</code>（用于类 Unix 操作系统，比如 Solaris 和 Mac OS）。</p>
</li>
</ul>
<p>##　系统调试</p>
<h2 id="单行脚本"><a href="#单行脚本" class="headerlink" title="单行脚本"></a>单行脚本</h2><h2 id="冷门但有用"><a href="#冷门但有用" class="headerlink" title="冷门但有用"></a>冷门但有用</h2><h2 id="更多资源"><a href="#更多资源" class="headerlink" title="更多资源"></a>更多资源</h2><ul>
<li><p><code>expr</code>：计算表达式或正则匹配</p>
</li>
<li><p><code>m4</code>：简单的宏处理器</p>
</li>
<li><p><code>yes</code>：多次打印字符串</p>
</li>
<li><p><code>cal</code>：漂亮的日历</p>
</li>
<li><p><code>env</code>：执行一个命令（脚本文件中很有用）</p>
</li>
<li><p><code>printenv</code>：打印环境变量（调试时或在写脚本文件时很有用）</p>
</li>
<li><p><code>look</code>：查找以特定字符串开头的单词或行</p>
</li>
<li><p><code>cut</code>，<code>paste</code> 和 <code>join</code>：数据修改</p>
</li>
<li><p><code>fmt</code>：格式化文本段落</p>
</li>
<li><p><code>pr</code>：将文本格式化成页／列形式</p>
</li>
<li><p><code>fold</code>：包裹文本中的几行</p>
</li>
<li><p><code>column</code>：将文本格式化成多个对齐、定宽的列或表格</p>
</li>
<li><p><code>expand</code> 和 <code>unexpand</code>：制表符与空格之间转换</p>
</li>
<li><p><code>nl</code>：添加行号</p>
</li>
<li><p><code>seq</code>：打印数字</p>
</li>
<li><p><code>bc</code>：计算器</p>
</li>
<li><p><code>factor</code>：分解因数</p>
</li>
<li><p><a href="https://gnupg.org/" target="_blank" rel="noopener"><code>gpg</code></a>：加密并签名文件</p>
</li>
<li><p><code>toe</code>：terminfo 入口列表</p>
</li>
<li><p><code>nc</code>：网络调试及数据传输</p>
</li>
<li><p><code>socat</code>：套接字代理，与 <code>netcat</code> 类似</p>
</li>
<li><p><a href="https://github.com/mattthias/slurm" target="_blank" rel="noopener"><code>slurm</code></a>：网络流量可视化</p>
</li>
<li><p><code>dd</code>：文件或设备间传输数据</p>
</li>
<li><p><code>file</code>：确定文件类型</p>
</li>
<li><p><code>tree</code>：以树的形式显示路径和文件，类似于递归的 <code>ls</code></p>
</li>
<li><p><code>stat</code>：文件信息</p>
</li>
<li><p><code>time</code>：执行命令，并计算执行时间</p>
</li>
<li><p><code>timeout</code>：在指定时长范围内执行命令，并在规定时间结束后停止进程</p>
</li>
<li><p><code>lockfile</code>：使文件只能通过 <code>rm -f</code> 移除</p>
</li>
<li><p><code>logrotate</code>： 切换、压缩以及发送日志文件</p>
</li>
<li><p><code>watch</code>：重复运行同一个命令，展示结果并／或高亮有更改的部分</p>
</li>
<li><p><a href="https://github.com/joh/when-changed" target="_blank" rel="noopener"><code>when-changed</code></a>：当检测到文件更改时执行指定命令。参阅 <code>inotifywait</code> 和 <code>entr</code>。</p>
</li>
<li><p><code>tac</code>：反向输出文件</p>
</li>
<li><p><code>shuf</code>：文件中随机选取几行</p>
</li>
<li><p><code>comm</code>：一行一行的比较排序过的文件</p>
</li>
<li><p><code>strings</code>：从二进制文件中抽取文本</p>
</li>
<li><p><code>tr</code>：转换字母</p>
</li>
<li><p><code>iconv</code> 或 <code>uconv</code>：文本编码转换</p>
</li>
<li><p><code>split</code> 和 <code>csplit</code>：分割文件</p>
</li>
<li><p><code>sponge</code>：在写入前读取所有输入，在读取文件后再向同一文件写入时比较有用，例如 <code>grep -v something some-file | sponge some-file</code></p>
</li>
<li><p><code>units</code>：将一种计量单位转换为另一种等效的计量单位（参阅 <code>/usr/share/units/definitions.units</code>）</p>
</li>
<li><p><code>apg</code>：随机生成密码</p>
</li>
<li><p><code>xz</code>：高比例的文件压缩</p>
</li>
<li><p><code>ldd</code>：动态库信息</p>
</li>
<li><p><code>nm</code>：提取 obj 文件中的符号</p>
</li>
<li><p><code>ab</code> 或 <a href="https://github.com/wg/wrk" target="_blank" rel="noopener"><code>wrk</code></a>：web 服务器性能分析</p>
</li>
<li><p><code>strace</code>：调试系统调用</p>
</li>
<li><p><a href="http://www.bitwizard.nl/mtr/" target="_blank" rel="noopener"><code>mtr</code></a>：更好的网络调试跟踪工具</p>
</li>
<li><p><code>cssh</code>：可视化的并发 shell</p>
</li>
<li><p><code>rsync</code>：通过 ssh 或本地文件系统同步文件和文件夹</p>
</li>
<li><p><a href="https://wireshark.org/" target="_blank" rel="noopener"><code>wireshark</code></a> 和 <a href="https://www.wireshark.org/docs/wsug_html_chunked/AppToolstshark.html" target="_blank" rel="noopener"><code>tshark</code></a>：抓包和网络调试工具</p>
</li>
<li><p><a href="http://ngrep.sourceforge.net/" target="_blank" rel="noopener"><code>ngrep</code></a>：网络层的 grep</p>
</li>
<li><p><code>host</code> 和 <code>dig</code>：DNS 查找</p>
</li>
<li><p><code>lsof</code>：列出当前系统打开文件的工具以及查看端口信息</p>
</li>
<li><p><code>dstat</code>：系统状态查看</p>
</li>
<li><p><a href="https://github.com/nicolargo/glances" target="_blank" rel="noopener"><code>glances</code></a>：高层次的多子系统总览</p>
</li>
<li><p><code>iostat</code>：硬盘使用状态</p>
</li>
<li><p><code>mpstat</code>： CPU 使用状态</p>
</li>
<li><p><code>vmstat</code>： 内存使用状态</p>
</li>
<li><p><code>htop</code>：top 的加强版</p>
</li>
<li><p><code>last</code>：登入记录</p>
</li>
<li><p><code>w</code>：查看处于登录状态的用户</p>
</li>
<li><p><code>id</code>：用户/组 ID 信息</p>
</li>
<li><p><a href="http://sebastien.godard.pagesperso-orange.fr/" target="_blank" rel="noopener"><code>sar</code></a>：系统历史数据</p>
</li>
<li><p><a href="http://www.ex-parrot.com/~pdw/iftop/" target="_blank" rel="noopener"><code>iftop</code></a> 或 <a href="https://github.com/raboof/nethogs" target="_blank" rel="noopener"><code>nethogs</code></a>：套接字及进程的网络利用情况</p>
</li>
<li><p><code>ss</code>：套接字数据</p>
</li>
<li><p><code>dmesg</code>：引导及系统错误信息</p>
</li>
<li><p><code>sysctl</code>： 在内核运行时动态地查看和修改内核的运行参数</p>
</li>
<li><p><code>hdparm</code>：SATA/ATA 磁盘更改及性能分析</p>
</li>
<li><p><code>lsblk</code>：列出块设备信息：以树形展示你的磁盘以及磁盘分区信息</p>
</li>
<li><p><code>lshw</code>，<code>lscpu</code>，<code>lspci</code>，<code>lsusb</code> 和 <code>dmidecode</code>：查看硬件信息，包括 CPU、BIOS、RAID、显卡、USB设备等</p>
</li>
<li><p><code>lsmod</code> 和 <code>modinfo</code>：列出内核模块，并显示其细节</p>
</li>
<li><p><code>fortune</code>，<code>ddate</code> 和 <code>sl</code>：额，这主要取决于你是否认为蒸汽火车和莫名其妙的名人名言是否“有用”</p>
</li>
</ul>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol>
<li><a href="http://www.ruanyifeng.com/blog/2018/09/bash-wildcards.html" target="_blank" rel="noopener">命令行通配符教程</a></li>
<li><a href="http://shouce.jb51.net/shell/quoting.html" target="_blank" rel="noopener">引用</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html" target="_blank" rel="noopener">Linux 守护进程的启动方法</a></li>
<li><a href="https://www.ruanyifeng.com/blog/2019/08/xargs-tutorial.html" target="_blank" rel="noopener">xargs 命令教程</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2017/11/bash-set.html" target="_blank" rel="noopener">Bash 脚本 set 命令教程</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/linux/l-bash-parameters.html" target="_blank" rel="noopener">Bash 参数和参数扩展</a></li>
<li><a href="https://unix.stackexchange.com/questions/27955/the-usage-of-dev-null-in-the-command-line" target="_blank" rel="noopener">the usage of &lt; /dev/null &amp; in the command line</a></li>
<li><a href="https://stackoverflow.com/questions/24793069/what-does-do-in-bash" target="_blank" rel="noopener">What does &amp;&gt; do in bash?</a></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/shell/" rel="tag"># shell</a>
              <a href="/tags/bash/" rel="tag"># bash</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2020/02/17/pandoc-with-reveal-js/" rel="next" title="基于 Markdown 生成幻灯片">
                  <i class="fa fa-chevron-left"></i> 基于 Markdown 生成幻灯片
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/2020/02/26/gcc-options-fomit-frame-pointer/" rel="prev" title="gcc 编译选项 -fomit-frame-pointer">
                  gcc 编译选项 -fomit-frame-pointer <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#基础"><span class="nav-number">1.</span> <span class="nav-text">基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#日常使用"><span class="nav-number">2.</span> <span class="nav-text">日常使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件及数据处理"><span class="nav-number">3.</span> <span class="nav-text">文件及数据处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单行脚本"><span class="nav-number">4.</span> <span class="nav-text">单行脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#冷门但有用"><span class="nav-number">5.</span> <span class="nav-text">冷门但有用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更多资源"><span class="nav-number">6.</span> <span class="nav-text">更多资源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ref"><span class="nav-number">7.</span> <span class="nav-text">Ref</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Breeze.Temple"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Breeze.Temple</p>
  <div class="site-description" itemprop="description">Breeze.Temple</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">501</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">538</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com" title="GitHub &rarr; https://github.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://bitbucket.org" title="BitBucket &rarr; https://bitbucket.org" rel="noopener" target="_blank"><i class="fa fa-fw fa-bitbucket"></i>BitBucket</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://breezetemple.github.io/" title="http://breezetemple.github.io/" rel="noopener" target="_blank">Breeze.Temple's HomePage</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Breeze.Temple</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.3m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">19:27</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>



  

  


  <link rel="stylesheet" href="/js/highlight/styles/solarized-dark.css">
  <script src="/js/highlight/highlight.pack.js"></script>
  <script type="text/javascript">
      $(function() {
          hljs.initHighlighting();
      });
  </script>

</body>
</html>
